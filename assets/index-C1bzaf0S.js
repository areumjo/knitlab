(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))f(h);new MutationObserver(h=>{for(const R of h)if(R.type==="childList")for(const S of R.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&f(S)}).observe(document,{childList:!0,subtree:!0});function T(h){const R={};return h.integrity&&(R.integrity=h.integrity),h.referrerPolicy&&(R.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?R.credentials="include":h.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function f(h){if(h.ep)return;h.ep=!0;const R=T(h);fetch(h.href,R)}})();function k0(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var jr={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Km(){if(r0)return su;r0=1;var c=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function T(f,h,R){var S=null;if(R!==void 0&&(S=""+R),h.key!==void 0&&(S=""+h.key),"key"in h){R={};for(var N in h)N!=="key"&&(R[N]=h[N])}else R=h;return h=R.ref,{$$typeof:c,type:f,key:S,ref:h!==void 0?h:null,props:R}}return su.Fragment=x,su.jsx=T,su.jsxs=T,su}var o0;function Zm(){return o0||(o0=1,jr.exports=Km()),jr.exports}var u=Zm(),Nr={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Qm(){if(f0)return Ft;f0=1;var c=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),j=Symbol.iterator;function v(m){return m===null||typeof m!="object"?null:(m=j&&m[j]||m["@@iterator"],typeof m=="function"?m:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function G(m,Z,st){this.props=m,this.context=Z,this.refs=k,this.updater=st||K}G.prototype.isReactComponent={},G.prototype.setState=function(m,Z){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,Z,"setState")},G.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function q(){}q.prototype=G.prototype;function rt(m,Z,st){this.props=m,this.context=Z,this.refs=k,this.updater=st||K}var X=rt.prototype=new q;X.constructor=rt,C(X,G.prototype),X.isPureReactComponent=!0;var lt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function ot(m,Z,st,ut,mt,St){return st=St.ref,{$$typeof:c,type:m,key:Z,ref:st!==void 0?st:null,props:St}}function pt(m,Z){return ot(m.type,Z,void 0,void 0,void 0,m.props)}function Zt(m){return typeof m=="object"&&m!==null&&m.$$typeof===c}function jt(m){var Z={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(st){return Z[st]})}var bt=/\/+/g;function Mt(m,Z){return typeof m=="object"&&m!==null&&m.key!=null?jt(""+m.key):Z.toString(36)}function Gt(){}function qt(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(Gt,Gt):(m.status="pending",m.then(function(Z){m.status==="pending"&&(m.status="fulfilled",m.value=Z)},function(Z){m.status==="pending"&&(m.status="rejected",m.reason=Z)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function Bt(m,Z,st,ut,mt){var St=typeof m;(St==="undefined"||St==="boolean")&&(m=null);var Ct=!1;if(m===null)Ct=!0;else switch(St){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(m.$$typeof){case c:case x:Ct=!0;break;case d:return Ct=m._init,Bt(Ct(m._payload),Z,st,ut,mt)}}if(Ct)return mt=mt(m),Ct=ut===""?"."+Mt(m,0):ut,lt(mt)?(st="",Ct!=null&&(st=Ct.replace(bt,"$&/")+"/"),Bt(mt,Z,st,"",function(fe){return fe})):mt!=null&&(Zt(mt)&&(mt=pt(mt,st+(mt.key==null||m&&m.key===mt.key?"":(""+mt.key).replace(bt,"$&/")+"/")+Ct)),Z.push(mt)),1;Ct=0;var ve=ut===""?".":ut+":";if(lt(m))for(var F=0;F<m.length;F++)ut=m[F],St=ve+Mt(ut,F),Ct+=Bt(ut,Z,st,St,mt);else if(F=v(m),typeof F=="function")for(m=F.call(m),F=0;!(ut=m.next()).done;)ut=ut.value,St=ve+Mt(ut,F++),Ct+=Bt(ut,Z,st,St,mt);else if(St==="object"){if(typeof m.then=="function")return Bt(qt(m),Z,st,ut,mt);throw Z=String(m),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function D(m,Z,st){if(m==null)return m;var ut=[],mt=0;return Bt(m,ut,"","",function(St){return Z.call(st,St,mt++)}),ut}function W(m){if(m._status===-1){var Z=m._result;Z=Z(),Z.then(function(st){(m._status===0||m._status===-1)&&(m._status=1,m._result=st)},function(st){(m._status===0||m._status===-1)&&(m._status=2,m._result=st)}),m._status===-1&&(m._status=0,m._result=Z)}if(m._status===1)return m._result.default;throw m._result}var yt=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function Ot(){}return Ft.Children={map:D,forEach:function(m,Z,st){D(m,function(){Z.apply(this,arguments)},st)},count:function(m){var Z=0;return D(m,function(){Z++}),Z},toArray:function(m){return D(m,function(Z){return Z})||[]},only:function(m){if(!Zt(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},Ft.Component=G,Ft.Fragment=T,Ft.Profiler=h,Ft.PureComponent=rt,Ft.StrictMode=f,Ft.Suspense=b,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(m){return ct.H.useMemoCache(m)}},Ft.cache=function(m){return function(){return m.apply(null,arguments)}},Ft.cloneElement=function(m,Z,st){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var ut=C({},m.props),mt=m.key,St=void 0;if(Z!=null)for(Ct in Z.ref!==void 0&&(St=void 0),Z.key!==void 0&&(mt=""+Z.key),Z)!Dt.call(Z,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&Z.ref===void 0||(ut[Ct]=Z[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=st;else if(1<Ct){for(var ve=Array(Ct),F=0;F<Ct;F++)ve[F]=arguments[F+2];ut.children=ve}return ot(m.type,mt,void 0,void 0,St,ut)},Ft.createContext=function(m){return m={$$typeof:S,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:R,_context:m},m},Ft.createElement=function(m,Z,st){var ut,mt={},St=null;if(Z!=null)for(ut in Z.key!==void 0&&(St=""+Z.key),Z)Dt.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(mt[ut]=Z[ut]);var Ct=arguments.length-2;if(Ct===1)mt.children=st;else if(1<Ct){for(var ve=Array(Ct),F=0;F<Ct;F++)ve[F]=arguments[F+2];mt.children=ve}if(m&&m.defaultProps)for(ut in Ct=m.defaultProps,Ct)mt[ut]===void 0&&(mt[ut]=Ct[ut]);return ot(m,St,void 0,void 0,null,mt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(m){return{$$typeof:N,render:m}},Ft.isValidElement=Zt,Ft.lazy=function(m){return{$$typeof:d,_payload:{_status:-1,_result:m},_init:W}},Ft.memo=function(m,Z){return{$$typeof:r,type:m,compare:Z===void 0?null:Z}},Ft.startTransition=function(m){var Z=ct.T,st={};ct.T=st;try{var ut=m(),mt=ct.S;mt!==null&&mt(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Ot,yt)}catch(St){yt(St)}finally{ct.T=Z}},Ft.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Ft.use=function(m){return ct.H.use(m)},Ft.useActionState=function(m,Z,st){return ct.H.useActionState(m,Z,st)},Ft.useCallback=function(m,Z){return ct.H.useCallback(m,Z)},Ft.useContext=function(m){return ct.H.useContext(m)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(m,Z){return ct.H.useDeferredValue(m,Z)},Ft.useEffect=function(m,Z,st){var ut=ct.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(m,Z)},Ft.useId=function(){return ct.H.useId()},Ft.useImperativeHandle=function(m,Z,st){return ct.H.useImperativeHandle(m,Z,st)},Ft.useInsertionEffect=function(m,Z){return ct.H.useInsertionEffect(m,Z)},Ft.useLayoutEffect=function(m,Z){return ct.H.useLayoutEffect(m,Z)},Ft.useMemo=function(m,Z){return ct.H.useMemo(m,Z)},Ft.useOptimistic=function(m,Z){return ct.H.useOptimistic(m,Z)},Ft.useReducer=function(m,Z,st){return ct.H.useReducer(m,Z,st)},Ft.useRef=function(m){return ct.H.useRef(m)},Ft.useState=function(m){return ct.H.useState(m)},Ft.useSyncExternalStore=function(m,Z,st){return ct.H.useSyncExternalStore(m,Z,st)},Ft.useTransition=function(){return ct.H.useTransition()},Ft.version="19.1.0",Ft}var d0;function Hr(){return d0||(d0=1,Nr.exports=Qm()),Nr.exports}var p=Hr();const ja=k0(p);var Ar={exports:{}},cu={},Rr={exports:{}},_r={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Im(){return h0||(h0=1,function(c){function x(D,W){var yt=D.length;D.push(W);t:for(;0<yt;){var Ot=yt-1>>>1,m=D[Ot];if(0<h(m,W))D[Ot]=W,D[yt]=m,yt=Ot;else break t}}function T(D){return D.length===0?null:D[0]}function f(D){if(D.length===0)return null;var W=D[0],yt=D.pop();if(yt!==W){D[0]=yt;t:for(var Ot=0,m=D.length,Z=m>>>1;Ot<Z;){var st=2*(Ot+1)-1,ut=D[st],mt=st+1,St=D[mt];if(0>h(ut,yt))mt<m&&0>h(St,ut)?(D[Ot]=St,D[mt]=yt,Ot=mt):(D[Ot]=ut,D[st]=yt,Ot=st);else if(mt<m&&0>h(St,yt))D[Ot]=St,D[mt]=yt,Ot=mt;else break t}}return W}function h(D,W){var yt=D.sortIndex-W.sortIndex;return yt!==0?yt:D.id-W.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var R=performance;c.unstable_now=function(){return R.now()}}else{var S=Date,N=S.now();c.unstable_now=function(){return S.now()-N}}var b=[],r=[],d=1,j=null,v=3,K=!1,C=!1,k=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function lt(D){for(var W=T(r);W!==null;){if(W.callback===null)f(r);else if(W.startTime<=D)f(r),W.sortIndex=W.expirationTime,x(b,W);else break;W=T(r)}}function ct(D){if(k=!1,lt(D),!C)if(T(b)!==null)C=!0,Dt||(Dt=!0,Mt());else{var W=T(r);W!==null&&Bt(ct,W.startTime-D)}}var Dt=!1,ot=-1,pt=5,Zt=-1;function jt(){return G?!0:!(c.unstable_now()-Zt<pt)}function bt(){if(G=!1,Dt){var D=c.unstable_now();Zt=D;var W=!0;try{t:{C=!1,k&&(k=!1,rt(ot),ot=-1),K=!0;var yt=v;try{e:{for(lt(D),j=T(b);j!==null&&!(j.expirationTime>D&&jt());){var Ot=j.callback;if(typeof Ot=="function"){j.callback=null,v=j.priorityLevel;var m=Ot(j.expirationTime<=D);if(D=c.unstable_now(),typeof m=="function"){j.callback=m,lt(D),W=!0;break e}j===T(b)&&f(b),lt(D)}else f(b);j=T(b)}if(j!==null)W=!0;else{var Z=T(r);Z!==null&&Bt(ct,Z.startTime-D),W=!1}}break t}finally{j=null,v=yt,K=!1}W=void 0}}finally{W?Mt():Dt=!1}}}var Mt;if(typeof X=="function")Mt=function(){X(bt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,qt=Gt.port2;Gt.port1.onmessage=bt,Mt=function(){qt.postMessage(null)}}else Mt=function(){q(bt,0)};function Bt(D,W){ot=q(function(){D(c.unstable_now())},W)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(D){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var yt=v;v=W;try{return D()}finally{v=yt}},c.unstable_requestPaint=function(){G=!0},c.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var yt=v;v=D;try{return W()}finally{v=yt}},c.unstable_scheduleCallback=function(D,W,yt){var Ot=c.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Ot+yt:Ot):yt=Ot,D){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=yt+m,D={id:d++,callback:W,priorityLevel:D,startTime:yt,expirationTime:m,sortIndex:-1},yt>Ot?(D.sortIndex=yt,x(r,D),T(b)===null&&D===T(r)&&(k?(rt(ot),ot=-1):k=!0,Bt(ct,yt-Ot))):(D.sortIndex=m,x(b,D),C||K||(C=!0,Dt||(Dt=!0,Mt()))),D},c.unstable_shouldYield=jt,c.unstable_wrapCallback=function(D){var W=v;return function(){var yt=v;v=W;try{return D.apply(this,arguments)}finally{v=yt}}}}(_r)),_r}var m0;function $m(){return m0||(m0=1,Rr.exports=Im()),Rr.exports}var Or={exports:{}},Nl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function Jm(){if(y0)return Nl;y0=1;var c=Hr();function x(b){var r="https://react.dev/errors/"+b;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)r+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+b+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(){}var f={d:{f:T,r:function(){throw Error(x(522))},D:T,C:T,L:T,m:T,X:T,S:T,M:T},p:0,findDOMNode:null},h=Symbol.for("react.portal");function R(b,r,d){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:j==null?null:""+j,children:b,containerInfo:r,implementation:d}}var S=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(b,r){if(b==="font")return"";if(typeof r=="string")return r==="use-credentials"?r:""}return Nl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Nl.createPortal=function(b,r){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)throw Error(x(299));return R(b,r,null,d)},Nl.flushSync=function(b){var r=S.T,d=f.p;try{if(S.T=null,f.p=2,b)return b()}finally{S.T=r,f.p=d,f.d.f()}},Nl.preconnect=function(b,r){typeof b=="string"&&(r?(r=r.crossOrigin,r=typeof r=="string"?r==="use-credentials"?r:"":void 0):r=null,f.d.C(b,r))},Nl.prefetchDNS=function(b){typeof b=="string"&&f.d.D(b)},Nl.preinit=function(b,r){if(typeof b=="string"&&r&&typeof r.as=="string"){var d=r.as,j=N(d,r.crossOrigin),v=typeof r.integrity=="string"?r.integrity:void 0,K=typeof r.fetchPriority=="string"?r.fetchPriority:void 0;d==="style"?f.d.S(b,typeof r.precedence=="string"?r.precedence:void 0,{crossOrigin:j,integrity:v,fetchPriority:K}):d==="script"&&f.d.X(b,{crossOrigin:j,integrity:v,fetchPriority:K,nonce:typeof r.nonce=="string"?r.nonce:void 0})}},Nl.preinitModule=function(b,r){if(typeof b=="string")if(typeof r=="object"&&r!==null){if(r.as==null||r.as==="script"){var d=N(r.as,r.crossOrigin);f.d.M(b,{crossOrigin:d,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0})}}else r==null&&f.d.M(b)},Nl.preload=function(b,r){if(typeof b=="string"&&typeof r=="object"&&r!==null&&typeof r.as=="string"){var d=r.as,j=N(d,r.crossOrigin);f.d.L(b,d,{crossOrigin:j,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0,type:typeof r.type=="string"?r.type:void 0,fetchPriority:typeof r.fetchPriority=="string"?r.fetchPriority:void 0,referrerPolicy:typeof r.referrerPolicy=="string"?r.referrerPolicy:void 0,imageSrcSet:typeof r.imageSrcSet=="string"?r.imageSrcSet:void 0,imageSizes:typeof r.imageSizes=="string"?r.imageSizes:void 0,media:typeof r.media=="string"?r.media:void 0})}},Nl.preloadModule=function(b,r){if(typeof b=="string")if(r){var d=N(r.as,r.crossOrigin);f.d.m(b,{as:typeof r.as=="string"&&r.as!=="script"?r.as:void 0,crossOrigin:d,integrity:typeof r.integrity=="string"?r.integrity:void 0})}else f.d.m(b)},Nl.requestFormReset=function(b){f.d.r(b)},Nl.unstable_batchedUpdates=function(b,r){return b(r)},Nl.useFormState=function(b,r,d){return S.H.useFormState(b,r,d)},Nl.useFormStatus=function(){return S.H.useHostTransitionStatus()},Nl.version="19.1.0",Nl}var g0;function Wm(){if(g0)return Or.exports;g0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(x){console.error(x)}}return c(),Or.exports=Jm(),Or.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Pm(){if(x0)return cu;x0=1;var c=$m(),x=Hr(),T=Wm();function f(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function R(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function S(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N(t){if(R(t)!==t)throw Error(f(188))}function b(t){var e=t.alternate;if(!e){if(e=R(t),e===null)throw Error(f(188));return e!==t?null:t}for(var l=t,n=e;;){var a=l.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){l=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===l)return N(a),t;if(i===n)return N(a),e;i=i.sibling}throw Error(f(188))}if(l.return!==n.return)l=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===l){s=!0,l=a,n=i;break}if(o===n){s=!0,n=a,l=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===l){s=!0,l=i,n=a;break}if(o===n){s=!0,n=i,l=a;break}o=o.sibling}if(!s)throw Error(f(189))}}if(l.alternate!==n)throw Error(f(190))}if(l.tag!==3)throw Error(f(188));return l.stateNode.current===l?t:e}function r(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r(t),e!==null)return e;t=t.sibling}return null}var d=Object.assign,j=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),X=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Zt=Symbol.for("react.activity"),jt=Symbol.for("react.memo_cache_sentinel"),bt=Symbol.iterator;function Mt(t){return t===null||typeof t!="object"?null:(t=bt&&t[bt]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Symbol.for("react.client.reference");function qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Gt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case G:return"Profiler";case k:return"StrictMode";case ct:return"Suspense";case Dt:return"SuspenseList";case Zt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case X:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case lt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ot:return e=t.displayName||null,e!==null?e:qt(t.type)||"Memo";case pt:e=t._payload,t=t._init;try{return qt(t(e))}catch{}}return null}var Bt=Array.isArray,D=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=T.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Ot=[],m=-1;function Z(t){return{current:t}}function st(t){0>m||(t.current=Ot[m],Ot[m]=null,m--)}function ut(t,e){m++,Ot[m]=t.current,t.current=e}var mt=Z(null),St=Z(null),Ct=Z(null),ve=Z(null);function F(t,e){switch(ut(Ct,e),ut(St,t),ut(mt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Ud(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Ud(e),t=Hd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(mt),ut(mt,t)}function fe(){st(mt),st(St),st(Ct)}function $t(t){t.memoizedState!==null&&ut(ve,t);var e=mt.current,l=Hd(e,t.type);e!==l&&(ut(St,t),ut(mt,l))}function Ut(t){St.current===t&&(st(mt),st(St)),ve.current===t&&(st(ve),lu._currentValue=yt)}var il=Object.prototype.hasOwnProperty,pe=c.unstable_scheduleCallback,ll=c.unstable_cancelCallback,Jt=c.unstable_shouldYield,we=c.unstable_requestPaint,ke=c.unstable_now,xl=c.unstable_getCurrentPriorityLevel,Ye=c.unstable_ImmediatePriority,$e=c.unstable_UserBlockingPriority,Ve=c.unstable_NormalPriority,bl=c.unstable_LowPriority,vl=c.unstable_IdlePriority,Je=c.log,pl=c.unstable_setDisableYieldValue,ee=null,Yt=null;function We(t){if(typeof Je=="function"&&pl(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ee,t)}catch{}}var V=Math.clz32?Math.clz32:Tt,ft=Math.log,Q=Math.LN2;function Tt(t){return t>>>=0,t===0?32:31-(ft(t)/Q|0)|0}var gt=256,A=4194304;function Y(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nt(t,e,l){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?a=Y(n):(s&=o,s!==0?a=Y(s):l||(l=o&~t,l!==0&&(a=Y(l))))):(o=n&~i,o!==0?a=Y(o):s!==0?a=Y(s):l||(l=n&~t,l!==0&&(a=Y(l)))),a===0?0:e!==0&&e!==a&&(e&i)===0&&(i=a&-a,l=e&-e,i>=l||i===32&&(l&4194048)!==0)?e:a}function vt(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Nt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var t=gt;return gt<<=1,(gt&4194048)===0&&(gt=256),t}function Me(){var t=A;return A<<=1,(A&62914560)===0&&(A=4194304),t}function Ue(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function ge(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tl(t,e,l,n,a,i){var s=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var o=t.entanglements,y=t.expirationTimes,O=t.hiddenUpdates;for(l=s&~l;0<l;){var I=31-V(l),P=1<<I;o[I]=0,y[I]=-1;var U=O[I];if(U!==null)for(O[I]=null,I=0;I<U.length;I++){var B=U[I];B!==null&&(B.lane&=-536870913)}l&=~P}n!==0&&ue(t,n,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function ue(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-V(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|l&4194090}function Re(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var n=31-V(l),a=1<<n;a&e|t[n]&e&&(t[n]|=e),l&=~a}}function Ge(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dl(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:n0(t.type))}function zl(t,e){var l=W.p;try{return W.p=t,e()}finally{W.p=l}}var Wt=Math.random().toString(36).slice(2),me="__reactFiber$"+Wt,de="__reactProps$"+Wt,He="__reactContainer$"+Wt,ul="__reactEvents$"+Wt,et="__reactListeners$"+Wt,z="__reactHandles$"+Wt,Rt="__reactResources$"+Wt,Et="__reactMarker$"+Wt;function At(t){delete t[me],delete t[de],delete t[ul],delete t[et],delete t[z]}function ht(t){var e=t[me];if(e)return e;for(var l=t.parentNode;l;){if(e=l[He]||l[me]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=Gd(t);t!==null;){if(l=t[me])return l;t=Gd(t)}return e}t=l,l=t.parentNode}return null}function kt(t){if(t=t[me]||t[He]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Pt(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(f(33))}function he(t){var e=t[Rt];return e||(e=t[Rt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function se(t){t[Et]=!0}var Vt=new Set,le={};function ce(t,e){Xe(t,e),Xe(t+"Capture",e)}function Xe(t,e){for(le[t]=e,t=0;t<e.length;t++)Vt.add(e[t])}var ae=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},El={};function hi(t){return il.call(El,t)?!0:il.call(Yl,t)?!1:ae.test(t)?El[t]=!0:(Yl[t]=!0,!1)}function cn(t,e,l){if(hi(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function Cn(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function Vl(t,e,l,n){if(n===null)t.removeAttribute(l);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+n)}}var rn,wn;function Yn(t){if(rn===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);rn=e&&e[1]||"",wn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+t+wn}var mi=!1;function yi(t,e){if(!t||mi)return"";mi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(B){var U=B}Reflect.construct(t,[],P)}else{try{P.call()}catch(B){U=B}t.call(P.prototype)}}else{try{throw Error()}catch(B){U=B}(P=t())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var y=s.split(`
`),O=o.split(`
`);for(a=n=0;n<y.length&&!y[n].includes("DetermineComponentFrameRoot");)n++;for(;a<O.length&&!O[a].includes("DetermineComponentFrameRoot");)a++;if(n===y.length||a===O.length)for(n=y.length-1,a=O.length-1;1<=n&&0<=a&&y[n]!==O[a];)a--;for(;1<=n&&0<=a;n--,a--)if(y[n]!==O[a]){if(n!==1||a!==1)do if(n--,a--,0>a||y[n]!==O[a]){var I=`
`+y[n].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=n&&0<=a);break}}}finally{mi=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Yn(l):""}function As(t){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return Yn("Activity");default:return""}}function du(t){try{var e="";do e+=As(t),t=t.return;while(t);return e}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kl(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rs(t){var e=hu(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,i=l.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Rs(t))}function mu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),n="";return t&&(n=hu(t)?t.checked?"true":"false":t.value),t=n,t!==l?(e.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function _l(t){return t.replace(_s,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _a(t,e,l,n,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+kl(e)):t.value!==""+kl(e)&&(t.value=""+kl(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?hn(t,s,kl(e)):l!=null?hn(t,s,kl(l)):n!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+kl(o):t.removeAttribute("name")}function Oa(t,e,l,n,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;l=l!=null?""+kl(l):"",e=e!=null?""+kl(e):l,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function hn(t,e,l){e==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Mn(t,e,l,n){if(t=t.options,e){e={};for(var a=0;a<l.length;a++)e["$"+l[a]]=!0;for(l=0;l<t.length;l++)a=e.hasOwnProperty("$"+t[l].value),t[l].selected!==a&&(t[l].selected=a),a&&n&&(t[l].defaultSelected=!0)}else{for(l=""+kl(l),e=null,a=0;a<t.length;a++){if(t[a].value===l){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function yu(t,e,l){if(e!=null&&(e=""+kl(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+kl(l):""}function gu(t,e,l,n){if(e==null){if(n!=null){if(l!=null)throw Error(f(92));if(Bt(n)){if(1<n.length)throw Error(f(93));n=n[0]}l=n}l==null&&(l=""),e=l}l=kl(e),t.defaultValue=l,n=t.textContent,n===l&&n!==""&&n!==null&&(t.value=n)}function Vn(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function M(t,e,l){var n=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,l):typeof l!="number"||l===0||xu.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function g(t,e,l){if(e!=null&&typeof e!="object")throw Error(f(62));if(t=t.style,l!=null){for(var n in l)!l.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var a in e)n=e[a],e.hasOwnProperty(a)&&l[a]!==n&&M(t,a,n)}else for(var i in e)e.hasOwnProperty(i)&&M(t,i,e[i])}function H(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),at=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function it(t){return at.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $=null;function xt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tt=null,dt=null;function Qt(t){var e=kt(t);if(e&&(t=e.stateNode)){var l=t[de]||null;t:switch(t=e.stateNode,e.type){case"input":if(_a(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_l(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var n=l[e];if(n!==t&&n.form===t.form){var a=n[de]||null;if(!a)throw Error(f(90));_a(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<l.length;e++)n=l[e],n.form===t.form&&mu(n)}break t;case"textarea":yu(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Mn(t,!!l.multiple,e,!1)}}}var Ze=!1;function Ee(t,e,l){if(Ze)return t(e,l);Ze=!0;try{var n=t(e);return n}finally{if(Ze=!1,(tt!==null||dt!==null)&&(ts(),tt&&(e=tt,t=dt,dt=tt=null,Qt(e),t)))for(e=0;e<t.length;e++)Qt(t[e])}}function Pe(t,e){var l=t.stateNode;if(l===null)return null;var n=l[de]||null;if(n===null)return null;l=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(f(231,e,typeof l));return l}var Te=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),It=!1;if(Te)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){It=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{It=!1}var te=null,Sl=null,Gn=null;function gi(){if(Gn)return Gn;var t,e=Sl,l=e.length,n,a="value"in te?te.value:te.textContent,i=a.length;for(t=0;t<l&&e[t]===a[t];t++);var s=l-t;for(n=1;n<=s&&e[l-n]===a[i-n];n++);return Gn=a.slice(t,1<n?1-n:void 0)}function Tn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bu(){return!0}function Yr(){return!1}function Ll(t){function e(l,n,a,i,s){this._reactName=l,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(l=t[o],this[o]=l?l(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bu:Yr,this.isPropagationStopped=Yr,this}return d(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=Ll(fa),xi=d({},fa,{view:0,detail:0}),K0=Ll(xi),Os,zs,bi,pu=d({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Os=t.screenX-bi.screenX,zs=t.screenY-bi.screenY):zs=Os=0,bi=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Vr=Ll(pu),Z0=d({},pu,{dataTransfer:0}),Q0=Ll(Z0),I0=d({},xi,{relatedTarget:0}),ks=Ll(I0),$0=d({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),J0=Ll($0),W0=d({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P0=Ll(W0),F0=d({},fa,{data:0}),Gr=Ll(F0),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lh[t])?!!e[t]:!1}function Ls(){return nh}var ah=d({},xi,{key:function(t){if(t.key){var e=th[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Tn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ih=Ll(ah),uh=d({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=Ll(uh),sh=d({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),ch=Ll(sh),rh=d({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=Ll(rh),fh=d({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=Ll(fh),hh=d({},fa,{newState:0,oldState:0}),mh=Ll(hh),yh=[9,13,27,32],Ds=Te&&"CompositionEvent"in window,vi=null;Te&&"documentMode"in document&&(vi=document.documentMode);var gh=Te&&"TextEvent"in window&&!vi,Xr=Te&&(!Ds||vi&&8<vi&&11>=vi),Kr=" ",Zr=!1;function Qr(t,e){switch(t){case"keyup":return yh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function xh(t,e){switch(t){case"compositionend":return Ir(e);case"keypress":return e.which!==32?null:(Zr=!0,Kr);case"textInput":return t=e.data,t===Kr&&Zr?null:t;default:return null}}function bh(t,e){if(za)return t==="compositionend"||!Ds&&Qr(t,e)?(t=gi(),Gn=Sl=te=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xr&&e.locale!=="ko"?null:e.data;default:return null}}var vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vh[t.type]:e==="textarea"}function Jr(t,e,l,n){tt?dt?dt.push(n):dt=[n]:tt=n,e=us(e,"onChange"),0<e.length&&(l=new vu("onChange","change",null,l,n),t.push({event:l,listeners:e}))}var pi=null,Si=null;function ph(t){Od(t,0)}function Su(t){var e=Pt(t);if(mu(e))return t}function Wr(t,e){if(t==="change")return e}var Pr=!1;if(Te){var Us;if(Te){var Hs="oninput"in document;if(!Hs){var Fr=document.createElement("div");Fr.setAttribute("oninput","return;"),Hs=typeof Fr.oninput=="function"}Us=Hs}else Us=!1;Pr=Us&&(!document.documentMode||9<document.documentMode)}function to(){pi&&(pi.detachEvent("onpropertychange",eo),Si=pi=null)}function eo(t){if(t.propertyName==="value"&&Su(Si)){var e=[];Jr(e,Si,t,xt(t)),Ee(ph,e)}}function Sh(t,e,l){t==="focusin"?(to(),pi=e,Si=l,pi.attachEvent("onpropertychange",eo)):t==="focusout"&&to()}function Ch(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Si)}function wh(t,e){if(t==="click")return Su(e)}function Mh(t,e){if(t==="input"||t==="change")return Su(e)}function Th(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gl=typeof Object.is=="function"?Object.is:Th;function Ci(t,e){if(Gl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),n=Object.keys(e);if(l.length!==n.length)return!1;for(n=0;n<l.length;n++){var a=l[n];if(!il.call(e,a)||!Gl(t[a],e[a]))return!1}return!0}function lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function no(t,e){var l=lo(t);t=0;for(var n;l;){if(l.nodeType===3){if(n=t+l.textContent.length,t<=e&&n>=e)return{node:l,offset:e-t};t=n}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=lo(l)}}function ao(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ao(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function io(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ra(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=Ra(t.document)}return e}function Bs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Eh=Te&&"documentMode"in document&&11>=document.documentMode,ka=null,Ys=null,wi=null,Vs=!1;function uo(t,e,l){var n=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vs||ka==null||ka!==Ra(n)||(n=ka,"selectionStart"in n&&Bs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wi&&Ci(wi,n)||(wi=n,n=us(Ys,"onSelect"),0<n.length&&(e=new vu("onSelect","select",null,e,l),t.push({event:e,listeners:n}),e.target=ka)))}function da(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var La={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Gs={},so={};Te&&(so=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function ha(t){if(Gs[t])return Gs[t];if(!La[t])return t;var e=La[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in so)return Gs[t]=e[l];return t}var co=ha("animationend"),ro=ha("animationiteration"),oo=ha("animationstart"),jh=ha("transitionrun"),Nh=ha("transitionstart"),Ah=ha("transitioncancel"),fo=ha("transitionend"),ho=new Map,qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qs.push("scrollEnd");function on(t,e){ho.set(t,e),ce(e,[t])}var mo=new WeakMap;function Pl(t,e){if(typeof t=="object"&&t!==null){var l=mo.get(t);return l!==void 0?l:(e={value:t,source:e,stack:du(e)},mo.set(t,e),e)}return{value:t,source:e,stack:du(e)}}var Fl=[],Da=0,Xs=0;function Cu(){for(var t=Da,e=Xs=Da=0;e<t;){var l=Fl[e];Fl[e++]=null;var n=Fl[e];Fl[e++]=null;var a=Fl[e];Fl[e++]=null;var i=Fl[e];if(Fl[e++]=null,n!==null&&a!==null){var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}i!==0&&yo(l,a,i)}}function wu(t,e,l,n){Fl[Da++]=t,Fl[Da++]=e,Fl[Da++]=l,Fl[Da++]=n,Xs|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function Ks(t,e,l,n){return wu(t,e,l,n),Mu(t)}function Ua(t,e){return wu(t,null,null,e),Mu(t)}function yo(t,e,l){t.lanes|=l;var n=t.alternate;n!==null&&(n.lanes|=l);for(var a=!1,i=t.return;i!==null;)i.childLanes|=l,n=i.alternate,n!==null&&(n.childLanes|=l),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-V(l),t=i.hiddenUpdates,n=t[a],n===null?t[a]=[e]:n.push(e),e.lane=l|536870912),i):null}function Mu(t){if(50<Ii)throw Ii=0,Wc=null,Error(f(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ha={};function Rh(t,e,l,n){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(t,e,l,n){return new Rh(t,e,l,n)}function Zs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function En(t,e){var l=t.alternate;return l===null?(l=ql(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function go(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Tu(t,e,l,n,a,i){var s=0;if(n=t,typeof t=="function")Zs(t)&&(s=1);else if(typeof t=="string")s=Om(t,l,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Zt:return t=ql(31,l,e,a),t.elementType=Zt,t.lanes=i,t;case C:return ma(l.children,a,i,e);case k:s=8,a|=24;break;case G:return t=ql(12,l,e,a|2),t.elementType=G,t.lanes=i,t;case ct:return t=ql(13,l,e,a),t.elementType=ct,t.lanes=i,t;case Dt:return t=ql(19,l,e,a),t.elementType=Dt,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case X:s=10;break t;case rt:s=9;break t;case lt:s=11;break t;case ot:s=14;break t;case pt:s=16,n=null;break t}s=29,l=Error(f(130,t===null?"null":typeof t,"")),n=null}return e=ql(s,l,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function ma(t,e,l,n){return t=ql(7,t,n,e),t.lanes=l,t}function Qs(t,e,l){return t=ql(6,t,null,e),t.lanes=l,t}function Is(t,e,l){return e=ql(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ba=[],Ya=0,Eu=null,ju=0,tn=[],en=0,ya=null,jn=1,Nn="";function ga(t,e){Ba[Ya++]=ju,Ba[Ya++]=Eu,Eu=t,ju=e}function xo(t,e,l){tn[en++]=jn,tn[en++]=Nn,tn[en++]=ya,ya=t;var n=jn;t=Nn;var a=32-V(n)-1;n&=~(1<<a),l+=1;var i=32-V(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,jn=1<<32-V(e)+a|l<<a|n,Nn=i+t}else jn=1<<i|l<<a|n,Nn=t}function $s(t){t.return!==null&&(ga(t,1),xo(t,1,0))}function Js(t){for(;t===Eu;)Eu=Ba[--Ya],Ba[Ya]=null,ju=Ba[--Ya],Ba[Ya]=null;for(;t===ya;)ya=tn[--en],tn[en]=null,Nn=tn[--en],tn[en]=null,jn=tn[--en],tn[en]=null}var Ol=null,Fe=null,Se=!1,xa=null,mn=!1,Ws=Error(f(519));function ba(t){var e=Error(f(418,""));throw Ei(Pl(e,t)),Ws}function bo(t){var e=t.stateNode,l=t.type,n=t.memoizedProps;switch(e[me]=t,e[de]=n,l){case"dialog":oe("cancel",e),oe("close",e);break;case"iframe":case"object":case"embed":oe("load",e);break;case"video":case"audio":for(l=0;l<Ji.length;l++)oe(Ji[l],e);break;case"source":oe("error",e);break;case"img":case"image":case"link":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"input":oe("invalid",e),Oa(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Aa(e);break;case"select":oe("invalid",e);break;case"textarea":oe("invalid",e),gu(e,n.value,n.defaultValue,n.children),Aa(e)}l=n.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||n.suppressHydrationWarning===!0||Dd(e.textContent,l)?(n.popover!=null&&(oe("beforetoggle",e),oe("toggle",e)),n.onScroll!=null&&oe("scroll",e),n.onScrollEnd!=null&&oe("scrollend",e),n.onClick!=null&&(e.onclick=ss),e=!0):e=!1,e||ba(t)}function vo(t){for(Ol=t.return;Ol;)switch(Ol.tag){case 5:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:Ol=Ol.return}}function Mi(t){if(t!==Ol)return!1;if(!Se)return vo(t),Se=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||hr(t.type,t.memoizedProps)),l=!l),l&&Fe&&ba(t),vo(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(e===0){Fe=dn(t.nextSibling);break t}e--}else l!=="$"&&l!=="$!"&&l!=="$?"||e++;t=t.nextSibling}Fe=null}}else e===27?(e=Fe,aa(t.type)?(t=xr,xr=null,Fe=t):Fe=e):Fe=Ol?dn(t.stateNode.nextSibling):null;return!0}function Ti(){Fe=Ol=null,Se=!1}function po(){var t=xa;return t!==null&&(Hl===null?Hl=t:Hl.push.apply(Hl,t),xa=null),t}function Ei(t){xa===null?xa=[t]:xa.push(t)}var Ps=Z(null),va=null,An=null;function qn(t,e,l){ut(Ps,e._currentValue),e._currentValue=l}function Rn(t){t._currentValue=Ps.current,st(Ps)}function Fs(t,e,l){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===l)break;t=t.return}}function tc(t,e,l,n){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;t:for(;i!==null;){var o=i;i=a;for(var y=0;y<e.length;y++)if(o.context===e[y]){i.lanes|=l,o=i.alternate,o!==null&&(o.lanes|=l),Fs(i.return,l,t),n||(s=null);break t}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(f(341));s.lanes|=l,i=s.alternate,i!==null&&(i.lanes|=l),Fs(s,l,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ji(t,e,l,n){t=null;for(var a=e,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(f(387));if(s=s.memoizedProps,s!==null){var o=a.type;Gl(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===ve.current){if(s=a.alternate,s===null)throw Error(f(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(lu):t=[lu])}a=a.return}t!==null&&tc(e,t,l,n),e.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!Gl(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pa(t){va=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jl(t){return So(va,t)}function Au(t,e){return va===null&&pa(t),So(t,e)}function So(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},An===null){if(t===null)throw Error(f(308));An=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else An=An.next=e;return l}var _h=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},Oh=c.unstable_scheduleCallback,zh=c.unstable_NormalPriority,rl={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new _h,data:new Map,refCount:0}}function Ni(t){t.refCount--,t.refCount===0&&Oh(zh,function(){t.controller.abort()})}var Ai=null,lc=0,Va=0,Ga=null;function kh(t,e){if(Ai===null){var l=Ai=[];lc=0,Va=ar(),Ga={status:"pending",value:void 0,then:function(n){l.push(n)}}}return lc++,e.then(Co,Co),e}function Co(){if(--lc===0&&Ai!==null){Ga!==null&&(Ga.status="fulfilled");var t=Ai;Ai=null,Va=0,Ga=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Lh(t,e){var l=[],n={status:"pending",value:null,reason:null,then:function(a){l.push(a)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var a=0;a<l.length;a++)(0,l[a])(e)},function(a){for(n.status="rejected",n.reason=a,a=0;a<l.length;a++)(0,l[a])(void 0)}),n}var wo=D.S;D.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&kh(t,e),wo!==null&&wo(t,e)};var Sa=Z(null);function nc(){var t=Sa.current;return t!==null?t:Be.pooledCache}function Ru(t,e){e===null?ut(Sa,Sa.current):ut(Sa,e.pool)}function Mo(){var t=nc();return t===null?null:{parent:rl._currentValue,pool:t}}var Ri=Error(f(460)),To=Error(f(474)),_u=Error(f(542)),ac={then:function(){}};function Eo(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function jo(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Ou,Ou),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ao(t),t;default:if(typeof e.status=="string")e.then(Ou,Ou);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(f(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=n}},function(n){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ao(t),t}throw _i=e,Ri}}var _i=null;function No(){if(_i===null)throw Error(f(459));var t=_i;return _i=null,t}function Ao(t){if(t===Ri||t===_u)throw Error(f(483))}var Xn=!1;function ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,l){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(je&2)!==0){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,e=Mu(t),yo(t,null,l),e}return wu(t,n,e,l),Mu(t)}function Oi(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,l|=n,e.lanes=l,Re(t,l)}}function sc(t,e){var l=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,l===n)){var a=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var s={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,l=l.next}while(l!==null);i===null?a=i=e:i=i.next=e}else a=i=e;l={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var cc=!1;function zi(){if(cc){var t=Ga;if(t!==null)throw t}}function ki(t,e,l,n){cc=!1;var a=t.updateQueue;Xn=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var y=o,O=y.next;y.next=null,s===null?i=O:s.next=O,s=y;var I=t.alternate;I!==null&&(I=I.updateQueue,o=I.lastBaseUpdate,o!==s&&(o===null?I.firstBaseUpdate=O:o.next=O,I.lastBaseUpdate=y))}if(i!==null){var P=a.baseState;s=0,I=O=y=null,o=i;do{var U=o.lane&-536870913,B=U!==o.lane;if(B?(ye&U)===U:(n&U)===U){U!==0&&U===Va&&(cc=!0),I!==null&&(I=I.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var Ht=t,zt=o;U=e;var ze=l;switch(zt.tag){case 1:if(Ht=zt.payload,typeof Ht=="function"){P=Ht.call(ze,P,U);break t}P=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=zt.payload,U=typeof Ht=="function"?Ht.call(ze,P,U):Ht,U==null)break t;P=d({},P,U);break t;case 2:Xn=!0}}U=o.callback,U!==null&&(t.flags|=64,B&&(t.flags|=8192),B=a.callbacks,B===null?a.callbacks=[U]:B.push(U))}else B={lane:U,tag:o.tag,payload:o.payload,callback:o.callback,next:null},I===null?(O=I=B,y=P):I=I.next=B,s|=U;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;B=o,o=B.next,B.next=null,a.lastBaseUpdate=B,a.shared.pending=null}}while(!0);I===null&&(y=P),a.baseState=y,a.firstBaseUpdate=O,a.lastBaseUpdate=I,i===null&&(a.shared.lanes=0),ta|=s,t.lanes=s,t.memoizedState=P}}function Ro(t,e){if(typeof t!="function")throw Error(f(191,t));t.call(e)}function _o(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Ro(l[t],e)}var qa=Z(null),zu=Z(0);function Oo(t,e){t=Un,ut(zu,t),ut(qa,e),Un=t|e.baseLanes}function rc(){ut(zu,Un),ut(qa,qa.current)}function oc(){Un=zu.current,st(qa),st(zu)}var Qn=0,ne=null,_e=null,sl=null,ku=!1,Xa=!1,Ca=!1,Lu=0,Li=0,Ka=null,Dh=0;function nl(){throw Error(f(321))}function fc(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!Gl(t[l],e[l]))return!1;return!0}function dc(t,e,l,n,a,i){return Qn=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,D.H=t===null||t.memoizedState===null?gf:xf,Ca=!1,i=l(n,a),Ca=!1,Xa&&(i=ko(e,l,n,a)),zo(t),i}function zo(t){D.H=Vu;var e=_e!==null&&_e.next!==null;if(Qn=0,sl=_e=ne=null,ku=!1,Li=0,Ka=null,e)throw Error(f(300));t===null||hl||(t=t.dependencies,t!==null&&Nu(t)&&(hl=!0))}function ko(t,e,l,n){ne=t;var a=0;do{if(Xa&&(Ka=null),Li=0,Xa=!1,25<=a)throw Error(f(301));if(a+=1,sl=_e=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}D.H=qh,i=e(l,n)}while(Xa);return i}function Uh(){var t=D.H,e=t.useState()[0];return e=typeof e.then=="function"?Di(e):e,t=t.useState()[0],(_e!==null?_e.memoizedState:null)!==t&&(ne.flags|=1024),e}function hc(){var t=Lu!==0;return Lu=0,t}function mc(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function yc(t){if(ku){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ku=!1}Qn=0,sl=_e=ne=null,Xa=!1,Li=Lu=0,Ka=null}function Dl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sl===null?ne.memoizedState=sl=t:sl=sl.next=t,sl}function cl(){if(_e===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=sl===null?ne.memoizedState:sl.next;if(e!==null)sl=e,_e=t;else{if(t===null)throw ne.alternate===null?Error(f(467)):Error(f(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},sl===null?ne.memoizedState=sl=t:sl=sl.next=t}return sl}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(t){var e=Li;return Li+=1,Ka===null&&(Ka=[]),t=jo(Ka,t,e),e=ne,(sl===null?e.memoizedState:sl.next)===null&&(e=e.alternate,D.H=e===null||e.memoizedState===null?gf:xf),t}function Du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Di(t);if(t.$$typeof===X)return jl(t)}throw Error(f(438,String(t)))}function xc(t){var e=null,l=ne.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var n=ne.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=gc(),ne.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),n=0;n<t;n++)l[n]=jt;return e.index++,l}function _n(t,e){return typeof e=="function"?e(t):e}function Uu(t){var e=cl();return bc(e,_e,t)}function bc(t,e,l){var n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=l;var a=t.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,n.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,y=null,O=e,I=!1;do{var P=O.lane&-536870913;if(P!==O.lane?(ye&P)===P:(Qn&P)===P){var U=O.revertLane;if(U===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),P===Va&&(I=!0);else if((Qn&U)===U){O=O.next,U===Va&&(I=!0);continue}else P={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},y===null?(o=y=P,s=i):y=y.next=P,ne.lanes|=U,ta|=U;P=O.action,Ca&&l(i,P),i=O.hasEagerState?O.eagerState:l(i,P)}else U={lane:P,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},y===null?(o=y=U,s=i):y=y.next=U,ne.lanes|=P,ta|=P;O=O.next}while(O!==null&&O!==e);if(y===null?s=i:y.next=o,!Gl(i,t.memoizedState)&&(hl=!0,I&&(l=Ga,l!==null)))throw l;t.memoizedState=i,t.baseState=s,t.baseQueue=y,n.lastRenderedState=i}return a===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function vc(t){var e=cl(),l=e.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=t;var n=l.dispatch,a=l.pending,i=e.memoizedState;if(a!==null){l.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Gl(i,e.memoizedState)||(hl=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),l.lastRenderedState=i}return[i,n]}function Lo(t,e,l){var n=ne,a=cl(),i=Se;if(i){if(l===void 0)throw Error(f(407));l=l()}else l=e();var s=!Gl((_e||a).memoizedState,l);s&&(a.memoizedState=l,hl=!0),a=a.queue;var o=Ho.bind(null,n,a,t);if(Ui(2048,8,o,[t]),a.getSnapshot!==e||s||sl!==null&&sl.memoizedState.tag&1){if(n.flags|=2048,Za(9,Hu(),Uo.bind(null,n,a,l,e),null),Be===null)throw Error(f(349));i||(Qn&124)!==0||Do(n,e,l)}return l}function Do(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=ne.updateQueue,e===null?(e=gc(),ne.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function Uo(t,e,l,n){e.value=l,e.getSnapshot=n,Bo(e)&&Yo(t)}function Ho(t,e,l){return l(function(){Bo(e)&&Yo(t)})}function Bo(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!Gl(t,l)}catch{return!0}}function Yo(t){var e=Ua(t,2);e!==null&&Il(e,t,2)}function pc(t){var e=Dl();if(typeof t=="function"){var l=t;if(t=l(),Ca){We(!0);try{l()}finally{We(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},e}function Vo(t,e,l,n){return t.baseState=l,bc(t,_e,typeof n=="function"?n:_n)}function Hh(t,e,l,n,a){if(Yu(t))throw Error(f(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};D.T!==null?l(!0):i.isTransition=!1,n(i),l=e.pending,l===null?(i.next=e.pending=i,Go(e,i)):(i.next=l.next,e.pending=l.next=i)}}function Go(t,e){var l=e.action,n=e.payload,a=t.state;if(e.isTransition){var i=D.T,s={};D.T=s;try{var o=l(a,n),y=D.S;y!==null&&y(s,o),qo(t,e,o)}catch(O){Sc(t,e,O)}finally{D.T=i}}else try{i=l(a,n),qo(t,e,i)}catch(O){Sc(t,e,O)}}function qo(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(n){Xo(t,e,n)},function(n){return Sc(t,e,n)}):Xo(t,e,l)}function Xo(t,e,l){e.status="fulfilled",e.value=l,Ko(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,Go(t,l)))}function Sc(t,e,l){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=l,Ko(e),e=e.next;while(e!==n)}t.action=null}function Ko(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zo(t,e){return e}function Qo(t,e){if(Se){var l=Be.formState;if(l!==null){t:{var n=ne;if(Se){if(Fe){e:{for(var a=Fe,i=mn;a.nodeType!==8;){if(!i){a=null;break e}if(a=dn(a.nextSibling),a===null){a=null;break e}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Fe=dn(a.nextSibling),n=a.data==="F!";break t}}ba(n)}n=!1}n&&(e=l[0])}}return l=Dl(),l.memoizedState=l.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},l.queue=n,l=hf.bind(null,ne,n),n.dispatch=l,n=pc(!1),i=Ec.bind(null,ne,!1,n.queue),n=Dl(),a={state:e,dispatch:null,action:t,pending:null},n.queue=a,l=Hh.bind(null,ne,a,i,l),a.dispatch=l,n.memoizedState=t,[e,l,!1]}function Io(t){var e=cl();return $o(e,_e,t)}function $o(t,e,l){if(e=bc(t,e,Zo)[0],t=Uu(_n)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Di(e)}catch(s){throw s===Ri?_u:s}else n=e;e=cl();var a=e.queue,i=a.dispatch;return l!==e.memoizedState&&(ne.flags|=2048,Za(9,Hu(),Bh.bind(null,a,l),null)),[n,i,t]}function Bh(t,e){t.action=e}function Jo(t){var e=cl(),l=_e;if(l!==null)return $o(e,l,t);cl(),e=e.memoizedState,l=cl();var n=l.queue.dispatch;return l.memoizedState=t,[e,n,!1]}function Za(t,e,l,n){return t={tag:t,create:l,deps:n,inst:e,next:null},e=ne.updateQueue,e===null&&(e=gc(),ne.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(n=l.next,l.next=t,t.next=n,e.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Wo(){return cl().memoizedState}function Bu(t,e,l,n){var a=Dl();n=n===void 0?null:n,ne.flags|=t,a.memoizedState=Za(1|e,Hu(),l,n)}function Ui(t,e,l,n){var a=cl();n=n===void 0?null:n;var i=a.memoizedState.inst;_e!==null&&n!==null&&fc(n,_e.memoizedState.deps)?a.memoizedState=Za(e,i,l,n):(ne.flags|=t,a.memoizedState=Za(1|e,i,l,n))}function Po(t,e){Bu(8390656,8,t,e)}function Fo(t,e){Ui(2048,8,t,e)}function tf(t,e){return Ui(4,2,t,e)}function ef(t,e){return Ui(4,4,t,e)}function lf(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,l){l=l!=null?l.concat([t]):null,Ui(4,4,lf.bind(null,e,t),l)}function Cc(){}function af(t,e){var l=cl();e=e===void 0?null:e;var n=l.memoizedState;return e!==null&&fc(e,n[1])?n[0]:(l.memoizedState=[t,e],t)}function uf(t,e){var l=cl();e=e===void 0?null:e;var n=l.memoizedState;if(e!==null&&fc(e,n[1]))return n[0];if(n=t(),Ca){We(!0);try{t()}finally{We(!1)}}return l.memoizedState=[n,e],n}function wc(t,e,l){return l===void 0||(Qn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=l,t=rd(),ne.lanes|=t,ta|=t,l)}function sf(t,e,l,n){return Gl(l,e)?l:qa.current!==null?(t=wc(t,l,n),Gl(t,e)||(hl=!0),t):(Qn&42)===0?(hl=!0,t.memoizedState=l):(t=rd(),ne.lanes|=t,ta|=t,e)}function cf(t,e,l,n,a){var i=W.p;W.p=i!==0&&8>i?i:8;var s=D.T,o={};D.T=o,Ec(t,!1,e,l);try{var y=a(),O=D.S;if(O!==null&&O(o,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=Lh(y,n);Hi(t,e,I,Ql(t))}else Hi(t,e,n,Ql(t))}catch(P){Hi(t,e,{then:function(){},status:"rejected",reason:P},Ql())}finally{W.p=i,D.T=s}}function Yh(){}function Mc(t,e,l,n){if(t.tag!==5)throw Error(f(476));var a=rf(t).queue;cf(t,a,e,yt,l===null?Yh:function(){return of(t),l(n)})}function rf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:yt},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function of(t){var e=rf(t).next.queue;Hi(t,e,{},Ql())}function Tc(){return jl(lu)}function ff(){return cl().memoizedState}function df(){return cl().memoizedState}function Vh(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=Ql();t=Kn(l);var n=Zn(e,t,l);n!==null&&(Il(n,e,l),Oi(n,e,l)),e={cache:ec()},t.payload=e;return}e=e.return}}function Gh(t,e,l){var n=Ql();l={lane:n,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)?mf(e,l):(l=Ks(t,e,l,n),l!==null&&(Il(l,t,n),yf(l,e,n)))}function hf(t,e,l){var n=Ql();Hi(t,e,l,n)}function Hi(t,e,l,n){var a={lane:n,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))mf(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,l);if(a.hasEagerState=!0,a.eagerState=o,Gl(o,s))return wu(t,e,a,0),Be===null&&Cu(),!1}catch{}finally{}if(l=Ks(t,e,a,n),l!==null)return Il(l,t,n),yf(l,e,n),!0}return!1}function Ec(t,e,l,n){if(n={lane:2,revertLane:ar(),action:n,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(e)throw Error(f(479))}else e=Ks(t,l,n,2),e!==null&&Il(e,t,2)}function Yu(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function mf(t,e){Xa=ku=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function yf(t,e,l){if((l&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,l|=n,e.lanes=l,Re(t,l)}}var Vu={readContext:jl,use:Du,useCallback:nl,useContext:nl,useEffect:nl,useImperativeHandle:nl,useLayoutEffect:nl,useInsertionEffect:nl,useMemo:nl,useReducer:nl,useRef:nl,useState:nl,useDebugValue:nl,useDeferredValue:nl,useTransition:nl,useSyncExternalStore:nl,useId:nl,useHostTransitionStatus:nl,useFormState:nl,useActionState:nl,useOptimistic:nl,useMemoCache:nl,useCacheRefresh:nl},gf={readContext:jl,use:Du,useCallback:function(t,e){return Dl().memoizedState=[t,e===void 0?null:e],t},useContext:jl,useEffect:Po,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,Bu(4194308,4,lf.bind(null,e,t),l)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){Bu(4,2,t,e)},useMemo:function(t,e){var l=Dl();e=e===void 0?null:e;var n=t();if(Ca){We(!0);try{t()}finally{We(!1)}}return l.memoizedState=[n,e],n},useReducer:function(t,e,l){var n=Dl();if(l!==void 0){var a=l(e);if(Ca){We(!0);try{l(e)}finally{We(!1)}}}else a=e;return n.memoizedState=n.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},n.queue=t,t=t.dispatch=Gh.bind(null,ne,t),[n.memoizedState,t]},useRef:function(t){var e=Dl();return t={current:t},e.memoizedState=t},useState:function(t){t=pc(t);var e=t.queue,l=hf.bind(null,ne,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Cc,useDeferredValue:function(t,e){var l=Dl();return wc(l,t,e)},useTransition:function(){var t=pc(!1);return t=cf.bind(null,ne,t.queue,!0,!1),Dl().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var n=ne,a=Dl();if(Se){if(l===void 0)throw Error(f(407));l=l()}else{if(l=e(),Be===null)throw Error(f(349));(ye&124)!==0||Do(n,e,l)}a.memoizedState=l;var i={value:l,getSnapshot:e};return a.queue=i,Po(Ho.bind(null,n,i,t),[t]),n.flags|=2048,Za(9,Hu(),Uo.bind(null,n,i,l,e),null),l},useId:function(){var t=Dl(),e=Be.identifierPrefix;if(Se){var l=Nn,n=jn;l=(n&~(1<<32-V(n)-1)).toString(32)+l,e="«"+e+"R"+l,l=Lu++,0<l&&(e+="H"+l.toString(32)),e+="»"}else l=Dh++,e="«"+e+"r"+l.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Tc,useFormState:Qo,useActionState:Qo,useOptimistic:function(t){var e=Dl();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Ec.bind(null,ne,!0,l),l.dispatch=e,[t,e]},useMemoCache:xc,useCacheRefresh:function(){return Dl().memoizedState=Vh.bind(null,ne)}},xf={readContext:jl,use:Du,useCallback:af,useContext:jl,useEffect:Fo,useImperativeHandle:nf,useInsertionEffect:tf,useLayoutEffect:ef,useMemo:uf,useReducer:Uu,useRef:Wo,useState:function(){return Uu(_n)},useDebugValue:Cc,useDeferredValue:function(t,e){var l=cl();return sf(l,_e.memoizedState,t,e)},useTransition:function(){var t=Uu(_n)[0],e=cl().memoizedState;return[typeof t=="boolean"?t:Di(t),e]},useSyncExternalStore:Lo,useId:ff,useHostTransitionStatus:Tc,useFormState:Io,useActionState:Io,useOptimistic:function(t,e){var l=cl();return Vo(l,_e,t,e)},useMemoCache:xc,useCacheRefresh:df},qh={readContext:jl,use:Du,useCallback:af,useContext:jl,useEffect:Fo,useImperativeHandle:nf,useInsertionEffect:tf,useLayoutEffect:ef,useMemo:uf,useReducer:vc,useRef:Wo,useState:function(){return vc(_n)},useDebugValue:Cc,useDeferredValue:function(t,e){var l=cl();return _e===null?wc(l,t,e):sf(l,_e.memoizedState,t,e)},useTransition:function(){var t=vc(_n)[0],e=cl().memoizedState;return[typeof t=="boolean"?t:Di(t),e]},useSyncExternalStore:Lo,useId:ff,useHostTransitionStatus:Tc,useFormState:Jo,useActionState:Jo,useOptimistic:function(t,e){var l=cl();return _e!==null?Vo(l,_e,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:xc,useCacheRefresh:df},Qa=null,Bi=0;function Gu(t){var e=Bi;return Bi+=1,Qa===null&&(Qa=[]),jo(Qa,t,e)}function Yi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function qu(t,e){throw e.$$typeof===j?Error(f(525)):(t=Object.prototype.toString.call(e),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function bf(t){var e=t._init;return e(t._payload)}function vf(t){function e(E,w){if(t){var _=E.deletions;_===null?(E.deletions=[w],E.flags|=16):_.push(w)}}function l(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function n(E){for(var w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function a(E,w){return E=En(E,w),E.index=0,E.sibling=null,E}function i(E,w,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<w?(E.flags|=67108866,w):_):(E.flags|=67108866,w)):(E.flags|=1048576,w)}function s(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function o(E,w,_,J){return w===null||w.tag!==6?(w=Qs(_,E.mode,J),w.return=E,w):(w=a(w,_),w.return=E,w)}function y(E,w,_,J){var wt=_.type;return wt===C?I(E,w,_.props.children,J,_.key):w!==null&&(w.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===pt&&bf(wt)===w.type)?(w=a(w,_.props),Yi(w,_),w.return=E,w):(w=Tu(_.type,_.key,_.props,null,E.mode,J),Yi(w,_),w.return=E,w)}function O(E,w,_,J){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Is(_,E.mode,J),w.return=E,w):(w=a(w,_.children||[]),w.return=E,w)}function I(E,w,_,J,wt){return w===null||w.tag!==7?(w=ma(_,E.mode,J,wt),w.return=E,w):(w=a(w,_),w.return=E,w)}function P(E,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Qs(""+w,E.mode,_),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case v:return _=Tu(w.type,w.key,w.props,null,E.mode,_),Yi(_,w),_.return=E,_;case K:return w=Is(w,E.mode,_),w.return=E,w;case pt:var J=w._init;return w=J(w._payload),P(E,w,_)}if(Bt(w)||Mt(w))return w=ma(w,E.mode,_,null),w.return=E,w;if(typeof w.then=="function")return P(E,Gu(w),_);if(w.$$typeof===X)return P(E,Au(E,w),_);qu(E,w)}return null}function U(E,w,_,J){var wt=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return wt!==null?null:o(E,w,""+_,J);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return _.key===wt?y(E,w,_,J):null;case K:return _.key===wt?O(E,w,_,J):null;case pt:return wt=_._init,_=wt(_._payload),U(E,w,_,J)}if(Bt(_)||Mt(_))return wt!==null?null:I(E,w,_,J,null);if(typeof _.then=="function")return U(E,w,Gu(_),J);if(_.$$typeof===X)return U(E,w,Au(E,_),J);qu(E,_)}return null}function B(E,w,_,J,wt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return E=E.get(_)||null,o(w,E,""+J,wt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return E=E.get(J.key===null?_:J.key)||null,y(w,E,J,wt);case K:return E=E.get(J.key===null?_:J.key)||null,O(w,E,J,wt);case pt:var ie=J._init;return J=ie(J._payload),B(E,w,_,J,wt)}if(Bt(J)||Mt(J))return E=E.get(_)||null,I(w,E,J,wt,null);if(typeof J.then=="function")return B(E,w,_,Gu(J),wt);if(J.$$typeof===X)return B(E,w,_,Au(w,J),wt);qu(w,J)}return null}function Ht(E,w,_,J){for(var wt=null,ie=null,_t=w,Lt=w=0,yl=null;_t!==null&&Lt<_.length;Lt++){_t.index>Lt?(yl=_t,_t=null):yl=_t.sibling;var be=U(E,_t,_[Lt],J);if(be===null){_t===null&&(_t=yl);break}t&&_t&&be.alternate===null&&e(E,_t),w=i(be,w,Lt),ie===null?wt=be:ie.sibling=be,ie=be,_t=yl}if(Lt===_.length)return l(E,_t),Se&&ga(E,Lt),wt;if(_t===null){for(;Lt<_.length;Lt++)_t=P(E,_[Lt],J),_t!==null&&(w=i(_t,w,Lt),ie===null?wt=_t:ie.sibling=_t,ie=_t);return Se&&ga(E,Lt),wt}for(_t=n(_t);Lt<_.length;Lt++)yl=B(_t,E,Lt,_[Lt],J),yl!==null&&(t&&yl.alternate!==null&&_t.delete(yl.key===null?Lt:yl.key),w=i(yl,w,Lt),ie===null?wt=yl:ie.sibling=yl,ie=yl);return t&&_t.forEach(function(ra){return e(E,ra)}),Se&&ga(E,Lt),wt}function zt(E,w,_,J){if(_==null)throw Error(f(151));for(var wt=null,ie=null,_t=w,Lt=w=0,yl=null,be=_.next();_t!==null&&!be.done;Lt++,be=_.next()){_t.index>Lt?(yl=_t,_t=null):yl=_t.sibling;var ra=U(E,_t,be.value,J);if(ra===null){_t===null&&(_t=yl);break}t&&_t&&ra.alternate===null&&e(E,_t),w=i(ra,w,Lt),ie===null?wt=ra:ie.sibling=ra,ie=ra,_t=yl}if(be.done)return l(E,_t),Se&&ga(E,Lt),wt;if(_t===null){for(;!be.done;Lt++,be=_.next())be=P(E,be.value,J),be!==null&&(w=i(be,w,Lt),ie===null?wt=be:ie.sibling=be,ie=be);return Se&&ga(E,Lt),wt}for(_t=n(_t);!be.done;Lt++,be=_.next())be=B(_t,E,Lt,be.value,J),be!==null&&(t&&be.alternate!==null&&_t.delete(be.key===null?Lt:be.key),w=i(be,w,Lt),ie===null?wt=be:ie.sibling=be,ie=be);return t&&_t.forEach(function(Xm){return e(E,Xm)}),Se&&ga(E,Lt),wt}function ze(E,w,_,J){if(typeof _=="object"&&_!==null&&_.type===C&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case v:t:{for(var wt=_.key;w!==null;){if(w.key===wt){if(wt=_.type,wt===C){if(w.tag===7){l(E,w.sibling),J=a(w,_.props.children),J.return=E,E=J;break t}}else if(w.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===pt&&bf(wt)===w.type){l(E,w.sibling),J=a(w,_.props),Yi(J,_),J.return=E,E=J;break t}l(E,w);break}else e(E,w);w=w.sibling}_.type===C?(J=ma(_.props.children,E.mode,J,_.key),J.return=E,E=J):(J=Tu(_.type,_.key,_.props,null,E.mode,J),Yi(J,_),J.return=E,E=J)}return s(E);case K:t:{for(wt=_.key;w!==null;){if(w.key===wt)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){l(E,w.sibling),J=a(w,_.children||[]),J.return=E,E=J;break t}else{l(E,w);break}else e(E,w);w=w.sibling}J=Is(_,E.mode,J),J.return=E,E=J}return s(E);case pt:return wt=_._init,_=wt(_._payload),ze(E,w,_,J)}if(Bt(_))return Ht(E,w,_,J);if(Mt(_)){if(wt=Mt(_),typeof wt!="function")throw Error(f(150));return _=wt.call(_),zt(E,w,_,J)}if(typeof _.then=="function")return ze(E,w,Gu(_),J);if(_.$$typeof===X)return ze(E,w,Au(E,_),J);qu(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,w!==null&&w.tag===6?(l(E,w.sibling),J=a(w,_),J.return=E,E=J):(l(E,w),J=Qs(_,E.mode,J),J.return=E,E=J),s(E)):l(E,w)}return function(E,w,_,J){try{Bi=0;var wt=ze(E,w,_,J);return Qa=null,wt}catch(_t){if(_t===Ri||_t===_u)throw _t;var ie=ql(29,_t,null,E.mode);return ie.lanes=J,ie.return=E,ie}finally{}}}var Ia=vf(!0),pf=vf(!1),ln=Z(null),yn=null;function In(t){var e=t.alternate;ut(ol,ol.current&1),ut(ln,t),yn===null&&(e===null||qa.current!==null||e.memoizedState!==null)&&(yn=t)}function Sf(t){if(t.tag===22){if(ut(ol,ol.current),ut(ln,t),yn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(yn=t)}}else $n()}function $n(){ut(ol,ol.current),ut(ln,ln.current)}function On(t){st(ln),yn===t&&(yn=null),st(ol)}var ol=Z(0);function Xu(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||gr(l)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function jc(t,e,l,n){e=t.memoizedState,l=l(n,e),l=l==null?e:d({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Nc={enqueueSetState:function(t,e,l){t=t._reactInternals;var n=Ql(),a=Kn(n);a.payload=e,l!=null&&(a.callback=l),e=Zn(t,a,n),e!==null&&(Il(e,t,n),Oi(e,t,n))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var n=Ql(),a=Kn(n);a.tag=1,a.payload=e,l!=null&&(a.callback=l),e=Zn(t,a,n),e!==null&&(Il(e,t,n),Oi(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=Ql(),n=Kn(l);n.tag=2,e!=null&&(n.callback=e),e=Zn(t,n,l),e!==null&&(Il(e,t,l),Oi(e,t,l))}};function Cf(t,e,l,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ci(l,n)||!Ci(a,i):!0}function wf(t,e,l,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,n),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function wa(t,e){var l=e;if("ref"in e){l={};for(var n in e)n!=="ref"&&(l[n]=e[n])}if(t=t.defaultProps){l===e&&(l=d({},l));for(var a in t)l[a]===void 0&&(l[a]=t[a])}return l}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mf(t){Ku(t)}function Tf(t){console.error(t)}function Ef(t){Ku(t)}function Zu(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function jf(t,e,l){try{var n=t.onCaughtError;n(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ac(t,e,l){return l=Kn(l),l.tag=3,l.payload={element:null},l.callback=function(){Zu(t,e)},l}function Nf(t){return t=Kn(t),t.tag=3,t}function Af(t,e,l,n){var a=l.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;t.payload=function(){return a(i)},t.callback=function(){jf(e,l,n)}}var s=l.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){jf(e,l,n),typeof a!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function Xh(t,e,l,n,a){if(l.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=l.alternate,e!==null&&ji(e,l,a,!0),l=ln.current,l!==null){switch(l.tag){case 13:return yn===null?Fc():l.alternate===null&&tl===0&&(tl=3),l.flags&=-257,l.flags|=65536,l.lanes=a,n===ac?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([n]):e.add(n),er(t,n,a)),!1;case 22:return l.flags|=65536,n===ac?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([n]):l.add(n)),er(t,n,a)),!1}throw Error(f(435,l.tag))}return er(t,n,a),Fc(),!1}if(Se)return e=ln.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=a,n!==Ws&&(t=Error(f(422),{cause:n}),Ei(Pl(t,l)))):(n!==Ws&&(e=Error(f(423),{cause:n}),Ei(Pl(e,l))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,n=Pl(n,l),a=Ac(t.stateNode,n,a),sc(t,a),tl!==4&&(tl=2)),!1;var i=Error(f(520),{cause:n});if(i=Pl(i,l),Qi===null?Qi=[i]:Qi.push(i),tl!==4&&(tl=2),e===null)return!0;n=Pl(n,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=a&-a,l.lanes|=t,t=Ac(l.stateNode,n,t),sc(l,t),!1;case 1:if(e=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ea===null||!ea.has(i))))return l.flags|=65536,a&=-a,l.lanes|=a,a=Nf(a),Af(a,t,l,n),sc(l,a),!1}l=l.return}while(l!==null);return!1}var Rf=Error(f(461)),hl=!1;function Cl(t,e,l,n){e.child=t===null?pf(e,null,l,n):Ia(e,t.child,l,n)}function _f(t,e,l,n,a){l=l.render;var i=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return pa(e),n=dc(t,e,l,s,i,a),o=hc(),t!==null&&!hl?(mc(t,e,a),zn(t,e,a)):(Se&&o&&$s(e),e.flags|=1,Cl(t,e,n,a),e.child)}function Of(t,e,l,n,a){if(t===null){var i=l.type;return typeof i=="function"&&!Zs(i)&&i.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=i,zf(t,e,i,n,a)):(t=Tu(l.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Uc(t,a)){var s=i.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(s,n)&&t.ref===e.ref)return zn(t,e,a)}return e.flags|=1,t=En(i,n),t.ref=e.ref,t.return=e,e.child=t}function zf(t,e,l,n,a){if(t!==null){var i=t.memoizedProps;if(Ci(i,n)&&t.ref===e.ref)if(hl=!1,e.pendingProps=n=i,Uc(t,a))(t.flags&131072)!==0&&(hl=!0);else return e.lanes=t.lanes,zn(t,e,a)}return Rc(t,e,l,n,a)}function kf(t,e,l){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=i!==null?i.baseLanes|l:l,t!==null){for(a=e.child=t.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;e.childLanes=i&~n}else e.childLanes=0,e.child=null;return Lf(t,e,n,l)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(e,i!==null?i.cachePool:null),i!==null?Oo(e,i):rc(),Sf(e);else return e.lanes=e.childLanes=536870912,Lf(t,e,i!==null?i.baseLanes|l:l,l)}else i!==null?(Ru(e,i.cachePool),Oo(e,i),$n(),e.memoizedState=null):(t!==null&&Ru(e,null),rc(),$n());return Cl(t,e,a,l),e.child}function Lf(t,e,l,n){var a=nc();return a=a===null?null:{parent:rl._currentValue,pool:a},e.memoizedState={baseLanes:l,cachePool:a},t!==null&&Ru(e,null),rc(),Sf(e),t!==null&&ji(t,e,n,!0),null}function Qu(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(f(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Rc(t,e,l,n,a){return pa(e),l=dc(t,e,l,n,void 0,a),n=hc(),t!==null&&!hl?(mc(t,e,a),zn(t,e,a)):(Se&&n&&$s(e),e.flags|=1,Cl(t,e,l,a),e.child)}function Df(t,e,l,n,a,i){return pa(e),e.updateQueue=null,l=ko(e,n,l,a),zo(t),n=hc(),t!==null&&!hl?(mc(t,e,i),zn(t,e,i)):(Se&&n&&$s(e),e.flags|=1,Cl(t,e,l,i),e.child)}function Uf(t,e,l,n,a){if(pa(e),e.stateNode===null){var i=Ha,s=l.contextType;typeof s=="object"&&s!==null&&(i=jl(s)),i=new l(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Nc,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},ic(e),s=l.contextType,i.context=typeof s=="object"&&s!==null?jl(s):Ha,i.state=e.memoizedState,s=l.getDerivedStateFromProps,typeof s=="function"&&(jc(e,l,s,n),i.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Nc.enqueueReplaceState(i,i.state,null),ki(e,n,i,a),zi(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,y=wa(l,o);i.props=y;var O=i.context,I=l.contextType;s=Ha,typeof I=="object"&&I!==null&&(s=jl(I));var P=l.getDerivedStateFromProps;I=typeof P=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,I||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||O!==s)&&wf(e,i,n,s),Xn=!1;var U=e.memoizedState;i.state=U,ki(e,n,i,a),zi(),O=e.memoizedState,o||U!==O||Xn?(typeof P=="function"&&(jc(e,l,P,n),O=e.memoizedState),(y=Xn||Cf(e,l,y,n,U,O,s))?(I||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=O),i.props=n,i.state=O,i.context=s,n=y):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,uc(t,e),s=e.memoizedProps,I=wa(l,s),i.props=I,P=e.pendingProps,U=i.context,O=l.contextType,y=Ha,typeof O=="object"&&O!==null&&(y=jl(O)),o=l.getDerivedStateFromProps,(O=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==P||U!==y)&&wf(e,i,n,y),Xn=!1,U=e.memoizedState,i.state=U,ki(e,n,i,a),zi();var B=e.memoizedState;s!==P||U!==B||Xn||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof o=="function"&&(jc(e,l,o,n),B=e.memoizedState),(I=Xn||Cf(e,l,I,n,U,B,y)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(O||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,B,y),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,B,y)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=B),i.props=n,i.state=B,i.context=y,n=I):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,Qu(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,l=n&&typeof l.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=Ia(e,t.child,null,a),e.child=Ia(e,null,l,a)):Cl(t,e,l,a),e.memoizedState=i.state,t=e.child):t=zn(t,e,a),t}function Hf(t,e,l,n){return Ti(),e.flags|=256,Cl(t,e,l,n),e.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(t){return{baseLanes:t,cachePool:Mo()}}function zc(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=nn),t}function Bf(t,e,l){var n=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(ol.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Se){if(a?In(e):$n(),Se){var o=Fe,y;if(y=o){t:{for(y=o,o=mn;y.nodeType!==8;){if(!o){o=null;break t}if(y=dn(y.nextSibling),y===null){o=null;break t}}o=y}o!==null?(e.memoizedState={dehydrated:o,treeContext:ya!==null?{id:jn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},y=ql(18,null,null,0),y.stateNode=o,y.return=e,e.child=y,Ol=e,Fe=null,y=!0):y=!1}y||ba(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return gr(o)?e.lanes=32:e.lanes=536870912,null;On(e)}return o=n.children,n=n.fallback,a?($n(),a=e.mode,o=Iu({mode:"hidden",children:o},a),n=ma(n,a,l,null),o.return=e,n.return=e,o.sibling=n,e.child=o,a=e.child,a.memoizedState=Oc(l),a.childLanes=zc(t,s,l),e.memoizedState=_c,n):(In(e),kc(e,o))}if(y=t.memoizedState,y!==null&&(o=y.dehydrated,o!==null)){if(i)e.flags&256?(In(e),e.flags&=-257,e=Lc(t,e,l)):e.memoizedState!==null?($n(),e.child=t.child,e.flags|=128,e=null):($n(),a=n.fallback,o=e.mode,n=Iu({mode:"visible",children:n.children},o),a=ma(a,o,l,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,Ia(e,t.child,null,l),n=e.child,n.memoizedState=Oc(l),n.childLanes=zc(t,s,l),e.memoizedState=_c,e=a);else if(In(e),gr(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var O=s.dgst;s=O,n=Error(f(419)),n.stack="",n.digest=s,Ei({value:n,source:null,stack:null}),e=Lc(t,e,l)}else if(hl||ji(t,e,l,!1),s=(l&t.childLanes)!==0,hl||s){if(s=Be,s!==null&&(n=l&-l,n=(n&42)!==0?1:Ge(n),n=(n&(s.suspendedLanes|l))!==0?0:n,n!==0&&n!==y.retryLane))throw y.retryLane=n,Ua(t,n),Il(s,t,n),Rf;o.data==="$?"||Fc(),e=Lc(t,e,l)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=y.treeContext,Fe=dn(o.nextSibling),Ol=e,Se=!0,xa=null,mn=!1,t!==null&&(tn[en++]=jn,tn[en++]=Nn,tn[en++]=ya,jn=t.id,Nn=t.overflow,ya=e),e=kc(e,n.children),e.flags|=4096);return e}return a?($n(),a=n.fallback,o=e.mode,y=t.child,O=y.sibling,n=En(y,{mode:"hidden",children:n.children}),n.subtreeFlags=y.subtreeFlags&65011712,O!==null?a=En(O,a):(a=ma(a,o,l,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o===null?o=Oc(l):(y=o.cachePool,y!==null?(O=rl._currentValue,y=y.parent!==O?{parent:O,pool:O}:y):y=Mo(),o={baseLanes:o.baseLanes|l,cachePool:y}),a.memoizedState=o,a.childLanes=zc(t,s,l),e.memoizedState=_c,n):(In(e),l=t.child,t=l.sibling,l=En(l,{mode:"visible",children:n.children}),l.return=e,l.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=l,e.memoizedState=null,l)}function kc(t,e){return e=Iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Iu(t,e){return t=ql(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lc(t,e,l){return Ia(e,t.child,null,l),t=kc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yf(t,e,l){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fs(t.return,e,l)}function Dc(t,e,l,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:l,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=l,i.tailMode=a)}function Vf(t,e,l){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Cl(t,e,n.children,l),n=ol.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,l,e);else if(t.tag===19)Yf(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(ut(ol,n),a){case"forwards":for(l=e.child,a=null;l!==null;)t=l.alternate,t!==null&&Xu(t)===null&&(a=l),l=l.sibling;l=a,l===null?(a=e.child,e.child=null):(a=l.sibling,l.sibling=null),Dc(e,!1,a,l,i);break;case"backwards":for(l=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Xu(t)===null){e.child=a;break}t=a.sibling,a.sibling=l,l=a,a=t}Dc(e,!0,l,null,i);break;case"together":Dc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zn(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(ji(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(f(153));if(e.child!==null){for(t=e.child,l=En(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=En(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Uc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function Kh(t,e,l){switch(e.tag){case 3:F(e,e.stateNode.containerInfo),qn(e,rl,t.memoizedState.cache),Ti();break;case 27:case 5:$t(e);break;case 4:F(e,e.stateNode.containerInfo);break;case 10:qn(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(In(e),e.flags|=128,null):(l&e.child.childLanes)!==0?Bf(t,e,l):(In(e),t=zn(t,e,l),t!==null?t.sibling:null);In(e);break;case 19:var a=(t.flags&128)!==0;if(n=(l&e.childLanes)!==0,n||(ji(t,e,l,!1),n=(l&e.childLanes)!==0),a){if(n)return Vf(t,e,l);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ut(ol,ol.current),n)break;return null;case 22:case 23:return e.lanes=0,kf(t,e,l);case 24:qn(e,rl,t.memoizedState.cache)}return zn(t,e,l)}function Gf(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)hl=!0;else{if(!Uc(t,l)&&(e.flags&128)===0)return hl=!1,Kh(t,e,l);hl=(t.flags&131072)!==0}else hl=!1,Se&&(e.flags&1048576)!==0&&xo(e,ju,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var n=e.elementType,a=n._init;if(n=a(n._payload),e.type=n,typeof n=="function")Zs(n)?(t=wa(n,t),e.tag=1,e=Uf(null,e,n,t,l)):(e.tag=0,e=Rc(null,e,n,t,l));else{if(n!=null){if(a=n.$$typeof,a===lt){e.tag=11,e=_f(null,e,n,t,l);break t}else if(a===ot){e.tag=14,e=Of(null,e,n,t,l);break t}}throw e=qt(n)||n,Error(f(306,e,""))}}return e;case 0:return Rc(t,e,e.type,e.pendingProps,l);case 1:return n=e.type,a=wa(n,e.pendingProps),Uf(t,e,n,a,l);case 3:t:{if(F(e,e.stateNode.containerInfo),t===null)throw Error(f(387));n=e.pendingProps;var i=e.memoizedState;a=i.element,uc(t,e),ki(e,n,null,l);var s=e.memoizedState;if(n=s.cache,qn(e,rl,n),n!==i.cache&&tc(e,[rl],l,!0),zi(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Hf(t,e,n,l);break t}else if(n!==a){a=Pl(Error(f(424)),e),Ei(a),e=Hf(t,e,n,l);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=dn(t.firstChild),Ol=e,Se=!0,xa=null,mn=!0,l=pf(e,null,n,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ti(),n===a){e=zn(t,e,l);break t}Cl(t,e,n,l)}e=e.child}return e;case 26:return Qu(t,e),t===null?(l=Zd(e.type,null,e.pendingProps,null))?e.memoizedState=l:Se||(l=e.type,t=e.pendingProps,n=cs(Ct.current).createElement(l),n[me]=e,n[de]=t,Ml(n,l,t),se(n),e.stateNode=n):e.memoizedState=Zd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $t(e),t===null&&Se&&(n=e.stateNode=qd(e.type,e.pendingProps,Ct.current),Ol=e,mn=!0,a=Fe,aa(e.type)?(xr=a,Fe=dn(n.firstChild)):Fe=a),Cl(t,e,e.pendingProps.children,l),Qu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Se&&((a=n=Fe)&&(n=vm(n,e.type,e.pendingProps,mn),n!==null?(e.stateNode=n,Ol=e,Fe=dn(n.firstChild),mn=!1,a=!0):a=!1),a||ba(e)),$t(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,n=i.children,hr(a,i)?n=null:s!==null&&hr(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=dc(t,e,Uh,null,null,l),lu._currentValue=a),Qu(t,e),Cl(t,e,n,l),e.child;case 6:return t===null&&Se&&((t=l=Fe)&&(l=pm(l,e.pendingProps,mn),l!==null?(e.stateNode=l,Ol=e,Fe=null,t=!0):t=!1),t||ba(e)),null;case 13:return Bf(t,e,l);case 4:return F(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ia(e,null,n,l):Cl(t,e,n,l),e.child;case 11:return _f(t,e,e.type,e.pendingProps,l);case 7:return Cl(t,e,e.pendingProps,l),e.child;case 8:return Cl(t,e,e.pendingProps.children,l),e.child;case 12:return Cl(t,e,e.pendingProps.children,l),e.child;case 10:return n=e.pendingProps,qn(e,e.type,n.value),Cl(t,e,n.children,l),e.child;case 9:return a=e.type._context,n=e.pendingProps.children,pa(e),a=jl(a),n=n(a),e.flags|=1,Cl(t,e,n,l),e.child;case 14:return Of(t,e,e.type,e.pendingProps,l);case 15:return zf(t,e,e.type,e.pendingProps,l);case 19:return Vf(t,e,l);case 31:return n=e.pendingProps,l=e.mode,n={mode:n.mode,children:n.children},t===null?(l=Iu(n,l),l.ref=e.ref,e.child=l,l.return=e,e=l):(l=En(t.child,n),l.ref=e.ref,e.child=l,l.return=e,e=l),e;case 22:return kf(t,e,l);case 24:return pa(e),n=jl(rl),t===null?(a=nc(),a===null&&(a=Be,i=ec(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=l),a=i),e.memoizedState={parent:n,cache:a},ic(e),qn(e,rl,a)):((t.lanes&l)!==0&&(uc(t,e),ki(e,null,null,l),zi()),a=t.memoizedState,i=e.memoizedState,a.parent!==n?(a={parent:n,cache:n},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),qn(e,rl,n)):(n=i.cache,qn(e,rl,n),n!==a.cache&&tc(e,[rl],l,!0))),Cl(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(f(156,e.tag))}function kn(t){t.flags|=4}function qf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wd(e)){if(e=ln.current,e!==null&&((ye&4194048)===ye?yn!==null:(ye&62914560)!==ye&&(ye&536870912)===0||e!==yn))throw _i=ac,To;t.flags|=8192}}function $u(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Me():536870912,t.lanes|=e,Pa|=e)}function Vi(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var n=null;l!==null;)l.alternate!==null&&(n=l),l=l.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,n=0;if(e)for(var a=t.child;a!==null;)l|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)l|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=l,e}function Zh(t,e,l){var n=e.pendingProps;switch(Js(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return Qe(e),null;case 3:return l=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rn(rl),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Mi(e)?kn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,po())),Qe(e),null;case 26:return l=e.memoizedState,t===null?(kn(e),l!==null?(Qe(e),qf(e,l)):(Qe(e),e.flags&=-16777217)):l?l!==t.memoizedState?(kn(e),Qe(e),qf(e,l)):(Qe(e),e.flags&=-16777217):(t.memoizedProps!==n&&kn(e),Qe(e),e.flags&=-16777217),null;case 27:Ut(e),l=Ct.current;var a=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Qe(e),null}t=mt.current,Mi(e)?bo(e):(t=qd(a,n,l),e.stateNode=t,kn(e))}return Qe(e),null;case 5:if(Ut(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Qe(e),null}if(t=mt.current,Mi(e))bo(e);else{switch(a=cs(Ct.current),t){case 1:t=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?a.createElement(l,{is:n.is}):a.createElement(l)}}t[me]=e,t[de]=n;t:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=t;t:switch(Ml(t,l,n),l){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&kn(e)}}return Qe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(f(166));if(t=Ct.current,Mi(e)){if(t=e.stateNode,l=e.memoizedProps,n=null,a=Ol,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}t[me]=e,t=!!(t.nodeValue===l||n!==null&&n.suppressHydrationWarning===!0||Dd(t.nodeValue,l)),t||ba(e)}else t=cs(t).createTextNode(n),t[me]=e,e.stateNode=t}return Qe(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Mi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(f(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(f(317));a[me]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Qe(e),a=!1}else a=po(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(On(e),e):(On(e),null)}if(On(e),(e.flags&128)!==0)return e.lanes=l,e;if(l=n!==null,t=t!==null&&t.memoizedState!==null,l){n=e.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return l!==t&&l&&(e.child.flags|=8192),$u(e,e.updateQueue),Qe(e),null;case 4:return fe(),t===null&&cr(e.stateNode.containerInfo),Qe(e),null;case 10:return Rn(e.type),Qe(e),null;case 19:if(st(ol),a=e.memoizedState,a===null)return Qe(e),null;if(n=(e.flags&128)!==0,i=a.rendering,i===null)if(n)Vi(a,!1);else{if(tl!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=Xu(t),i!==null){for(e.flags|=128,Vi(a,!1),t=i.updateQueue,e.updateQueue=t,$u(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)go(l,t),l=l.sibling;return ut(ol,ol.current&1|2),e.child}t=t.sibling}a.tail!==null&&ke()>Pu&&(e.flags|=128,n=!0,Vi(a,!1),e.lanes=4194304)}else{if(!n)if(t=Xu(i),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,$u(e,t),Vi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Se)return Qe(e),null}else 2*ke()-a.renderingStartTime>Pu&&l!==536870912&&(e.flags|=128,n=!0,Vi(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ke(),e.sibling=null,t=ol.current,ut(ol,n?t&1|2:t&1),e):(Qe(e),null);case 22:case 23:return On(e),oc(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(l&536870912)!==0&&(e.flags&128)===0&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),l=e.updateQueue,l!==null&&$u(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==l&&(e.flags|=2048),t!==null&&st(Sa),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Rn(rl),Qe(e),null;case 25:return null;case 30:return null}throw Error(f(156,e.tag))}function Qh(t,e){switch(Js(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rn(rl),fe(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ut(e),null;case 13:if(On(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(f(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ol),null;case 4:return fe(),null;case 10:return Rn(e.type),null;case 22:case 23:return On(e),oc(),t!==null&&st(Sa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rn(rl),null;case 25:return null;default:return null}}function Xf(t,e){switch(Js(e),e.tag){case 3:Rn(rl),fe();break;case 26:case 27:case 5:Ut(e);break;case 4:fe();break;case 13:On(e);break;case 19:st(ol);break;case 10:Rn(e.type);break;case 22:case 23:On(e),oc(),t!==null&&st(Sa);break;case 24:Rn(rl)}}function Gi(t,e){try{var l=e.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var a=n.next;l=a;do{if((l.tag&t)===t){n=void 0;var i=l.create,s=l.inst;n=i(),s.destroy=n}l=l.next}while(l!==a)}}catch(o){Le(e,e.return,o)}}function Jn(t,e,l){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var y=l,O=o;try{O()}catch(I){Le(a,y,I)}}}n=n.next}while(n!==i)}}catch(I){Le(e,e.return,I)}}function Kf(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{_o(e,l)}catch(n){Le(t,t.return,n)}}}function Zf(t,e,l){l.props=wa(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(n){Le(t,e,n)}}function qi(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof l=="function"?t.refCleanup=l(n):l.current=n}}catch(a){Le(t,e,a)}}function gn(t,e){var l=t.ref,n=t.refCleanup;if(l!==null)if(typeof n=="function")try{n()}catch(a){Le(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(a){Le(t,e,a)}else l.current=null}function Qf(t){var e=t.type,l=t.memoizedProps,n=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break t;case"img":l.src?n.src=l.src:l.srcSet&&(n.srcset=l.srcSet)}}catch(a){Le(t,t.return,a)}}function Hc(t,e,l){try{var n=t.stateNode;mm(n,t.type,l,e),n[de]=e}catch(a){Le(t,t.return,a)}}function If(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function Bc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||If(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yc(t,e,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=ss));else if(n!==4&&(n===27&&aa(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(Yc(t,e,l),t=t.sibling;t!==null;)Yc(t,e,l),t=t.sibling}function Ju(t,e,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(n!==4&&(n===27&&aa(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ju(t,e,l),t=t.sibling;t!==null;)Ju(t,e,l),t=t.sibling}function $f(t){var e=t.stateNode,l=t.memoizedProps;try{for(var n=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ml(e,n,l),e[me]=t,e[de]=l}catch(i){Le(t,t.return,i)}}var Ln=!1,al=!1,Vc=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,ml=null;function Ih(t,e){if(t=t.containerInfo,fr=ms,t=io(t),Bs(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var n=l.getSelection&&l.getSelection();if(n&&n.rangeCount!==0){l=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break t}var s=0,o=-1,y=-1,O=0,I=0,P=t,U=null;e:for(;;){for(var B;P!==l||a!==0&&P.nodeType!==3||(o=s+a),P!==i||n!==0&&P.nodeType!==3||(y=s+n),P.nodeType===3&&(s+=P.nodeValue.length),(B=P.firstChild)!==null;)U=P,P=B;for(;;){if(P===t)break e;if(U===l&&++O===a&&(o=s),U===i&&++I===n&&(y=s),(B=P.nextSibling)!==null)break;P=U,U=P.parentNode}P=B}l=o===-1||y===-1?null:{start:o,end:y}}else l=null}l=l||{start:0,end:0}}else l=null;for(dr={focusedElem:t,selectionRange:l},ms=!1,ml=e;ml!==null;)if(e=ml,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ml=t;else for(;ml!==null;){switch(e=ml,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,l=e,a=i.memoizedProps,i=i.memoizedState,n=l.stateNode;try{var Ht=wa(l.type,a,l.elementType===l.type);t=n.getSnapshotBeforeUpdate(Ht,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(zt){Le(l,l.return,zt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)yr(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(f(163))}if(t=e.sibling,t!==null){t.return=e.return,ml=t;break}ml=e.return}}function Wf(t,e,l){var n=l.flags;switch(l.tag){case 0:case 11:case 15:Wn(t,l),n&4&&Gi(5,l);break;case 1:if(Wn(t,l),n&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(s){Le(l,l.return,s)}else{var a=wa(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Le(l,l.return,s)}}n&64&&Kf(l),n&512&&qi(l,l.return);break;case 3:if(Wn(t,l),n&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{_o(t,e)}catch(s){Le(l,l.return,s)}}break;case 27:e===null&&n&4&&$f(l);case 26:case 5:Wn(t,l),e===null&&n&4&&Qf(l),n&512&&qi(l,l.return);break;case 12:Wn(t,l);break;case 13:Wn(t,l),n&4&&td(t,l),n&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=nm.bind(null,l),Sm(t,l))));break;case 22:if(n=l.memoizedState!==null||Ln,!n){e=e!==null&&e.memoizedState!==null||al,a=Ln;var i=al;Ln=n,(al=e)&&!i?Pn(t,l,(l.subtreeFlags&8772)!==0):Wn(t,l),Ln=a,al=i}break;case 30:break;default:Wn(t,l)}}function Pf(t){var e=t.alternate;e!==null&&(t.alternate=null,Pf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&At(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Ul=!1;function Dn(t,e,l){for(l=l.child;l!==null;)Ff(t,e,l),l=l.sibling}function Ff(t,e,l){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ee,l)}catch{}switch(l.tag){case 26:al||gn(l,e),Dn(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:al||gn(l,e);var n=Ke,a=Ul;aa(l.type)&&(Ke=l.stateNode,Ul=!1),Dn(t,e,l),Pi(l.stateNode),Ke=n,Ul=a;break;case 5:al||gn(l,e);case 6:if(n=Ke,a=Ul,Ke=null,Dn(t,e,l),Ke=n,Ul=a,Ke!==null)if(Ul)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(i){Le(l,e,i)}else try{Ke.removeChild(l.stateNode)}catch(i){Le(l,e,i)}break;case 18:Ke!==null&&(Ul?(t=Ke,Vd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),uu(t)):Vd(Ke,l.stateNode));break;case 4:n=Ke,a=Ul,Ke=l.stateNode.containerInfo,Ul=!0,Dn(t,e,l),Ke=n,Ul=a;break;case 0:case 11:case 14:case 15:al||Jn(2,l,e),al||Jn(4,l,e),Dn(t,e,l);break;case 1:al||(gn(l,e),n=l.stateNode,typeof n.componentWillUnmount=="function"&&Zf(l,e,n)),Dn(t,e,l);break;case 21:Dn(t,e,l);break;case 22:al=(n=al)||l.memoizedState!==null,Dn(t,e,l),al=n;break;default:Dn(t,e,l)}}function td(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uu(t)}catch(l){Le(e,e.return,l)}}function $h(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jf),e;default:throw Error(f(435,t.tag))}}function Gc(t,e){var l=$h(t);e.forEach(function(n){var a=am.bind(null,t,n);l.has(n)||(l.add(n),n.then(a,a))})}function Xl(t,e){var l=e.deletions;if(l!==null)for(var n=0;n<l.length;n++){var a=l[n],i=t,s=e,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(aa(o.type)){Ke=o.stateNode,Ul=!1;break t}break;case 5:Ke=o.stateNode,Ul=!1;break t;case 3:case 4:Ke=o.stateNode.containerInfo,Ul=!0;break t}o=o.return}if(Ke===null)throw Error(f(160));Ff(i,s,a),Ke=null,Ul=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)ed(e,t),e=e.sibling}var fn=null;function ed(t,e){var l=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xl(e,t),Kl(t),n&4&&(Jn(3,t,t.return),Gi(3,t),Jn(5,t,t.return));break;case 1:Xl(e,t),Kl(t),n&512&&(al||l===null||gn(l,l.return)),n&64&&Ln&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?n:l.concat(n))));break;case 26:var a=fn;if(Xl(e,t),Kl(t),n&512&&(al||l===null||gn(l,l.return)),n&4){var i=l!==null?l.memoizedState:null;if(n=t.memoizedState,l===null)if(n===null)if(t.stateNode===null){t:{n=t.type,l=t.memoizedProps,a=a.ownerDocument||a;e:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Et]||i[me]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ml(i,n,l),i[me]=t,se(i),n=i;break t;case"link":var s=$d("link","href",a).get(n+(l.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){s.splice(o,1);break e}}i=a.createElement(n),Ml(i,n,l),a.head.appendChild(i);break;case"meta":if(s=$d("meta","content",a).get(n+(l.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){s.splice(o,1);break e}}i=a.createElement(n),Ml(i,n,l),a.head.appendChild(i);break;default:throw Error(f(468,n))}i[me]=t,se(i),n=i}t.stateNode=n}else Jd(a,t.type,t.stateNode);else t.stateNode=Id(a,n,t.memoizedProps);else i!==n?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,n===null?Jd(a,t.type,t.stateNode):Id(a,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Hc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Xl(e,t),Kl(t),n&512&&(al||l===null||gn(l,l.return)),l!==null&&n&4&&Hc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Xl(e,t),Kl(t),n&512&&(al||l===null||gn(l,l.return)),t.flags&32){a=t.stateNode;try{Vn(a,"")}catch(B){Le(t,t.return,B)}}n&4&&t.stateNode!=null&&(a=t.memoizedProps,Hc(t,a,l!==null?l.memoizedProps:a)),n&1024&&(Vc=!0);break;case 6:if(Xl(e,t),Kl(t),n&4){if(t.stateNode===null)throw Error(f(162));n=t.memoizedProps,l=t.stateNode;try{l.nodeValue=n}catch(B){Le(t,t.return,B)}}break;case 3:if(fs=null,a=fn,fn=rs(e.containerInfo),Xl(e,t),fn=a,Kl(t),n&4&&l!==null&&l.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(B){Le(t,t.return,B)}Vc&&(Vc=!1,ld(t));break;case 4:n=fn,fn=rs(t.stateNode.containerInfo),Xl(e,t),Kl(t),fn=n;break;case 12:Xl(e,t),Kl(t);break;case 13:Xl(e,t),Kl(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ic=ke()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Gc(t,n)));break;case 22:a=t.memoizedState!==null;var y=l!==null&&l.memoizedState!==null,O=Ln,I=al;if(Ln=O||a,al=I||y,Xl(e,t),al=I,Ln=O,Kl(t),n&8192)t:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(l===null||y||Ln||al||Ma(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){y=l=e;try{if(i=y.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=y.stateNode;var P=y.memoizedProps.style,U=P!=null&&P.hasOwnProperty("display")?P.display:null;o.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(B){Le(y,y.return,B)}}}else if(e.tag===6){if(l===null){y=e;try{y.stateNode.nodeValue=a?"":y.memoizedProps}catch(B){Le(y,y.return,B)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(l=n.retryQueue,l!==null&&(n.retryQueue=null,Gc(t,l))));break;case 19:Xl(e,t),Kl(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Gc(t,n)));break;case 30:break;case 21:break;default:Xl(e,t),Kl(t)}}function Kl(t){var e=t.flags;if(e&2){try{for(var l,n=t.return;n!==null;){if(If(n)){l=n;break}n=n.return}if(l==null)throw Error(f(160));switch(l.tag){case 27:var a=l.stateNode,i=Bc(t);Ju(t,i,a);break;case 5:var s=l.stateNode;l.flags&32&&(Vn(s,""),l.flags&=-33);var o=Bc(t);Ju(t,o,s);break;case 3:case 4:var y=l.stateNode.containerInfo,O=Bc(t);Yc(t,O,y);break;default:throw Error(f(161))}}catch(I){Le(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ld(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ld(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Wn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Wf(t,e.alternate,e),e=e.sibling}function Ma(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Jn(4,e,e.return),Ma(e);break;case 1:gn(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&Zf(e,e.return,l),Ma(e);break;case 27:Pi(e.stateNode);case 26:case 5:gn(e,e.return),Ma(e);break;case 22:e.memoizedState===null&&Ma(e);break;case 30:Ma(e);break;default:Ma(e)}t=t.sibling}}function Pn(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Pn(a,i,l),Gi(4,i);break;case 1:if(Pn(a,i,l),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(O){Le(n,n.return,O)}if(n=i,a=n.updateQueue,a!==null){var o=n.stateNode;try{var y=a.shared.hiddenCallbacks;if(y!==null)for(a.shared.hiddenCallbacks=null,a=0;a<y.length;a++)Ro(y[a],o)}catch(O){Le(n,n.return,O)}}l&&s&64&&Kf(i),qi(i,i.return);break;case 27:$f(i);case 26:case 5:Pn(a,i,l),l&&n===null&&s&4&&Qf(i),qi(i,i.return);break;case 12:Pn(a,i,l);break;case 13:Pn(a,i,l),l&&s&4&&td(a,i);break;case 22:i.memoizedState===null&&Pn(a,i,l),qi(i,i.return);break;case 30:break;default:Pn(a,i,l)}e=e.sibling}}function qc(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Ni(l))}function Xc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ni(t))}function xn(t,e,l,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nd(t,e,l,n),e=e.sibling}function nd(t,e,l,n){var a=e.flags;switch(e.tag){case 0:case 11:case 15:xn(t,e,l,n),a&2048&&Gi(9,e);break;case 1:xn(t,e,l,n);break;case 3:xn(t,e,l,n),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ni(t)));break;case 12:if(a&2048){xn(t,e,l,n),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(y){Le(e,e.return,y)}}else xn(t,e,l,n);break;case 13:xn(t,e,l,n);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?xn(t,e,l,n):Xi(t,e):i._visibility&2?xn(t,e,l,n):(i._visibility|=2,$a(t,e,l,n,(e.subtreeFlags&10256)!==0)),a&2048&&qc(s,e);break;case 24:xn(t,e,l,n),a&2048&&Xc(e.alternate,e);break;default:xn(t,e,l,n)}}function $a(t,e,l,n,a){for(a=a&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,s=e,o=l,y=n,O=s.flags;switch(s.tag){case 0:case 11:case 15:$a(i,s,o,y,a),Gi(8,s);break;case 23:break;case 22:var I=s.stateNode;s.memoizedState!==null?I._visibility&2?$a(i,s,o,y,a):Xi(i,s):(I._visibility|=2,$a(i,s,o,y,a)),a&&O&2048&&qc(s.alternate,s);break;case 24:$a(i,s,o,y,a),a&&O&2048&&Xc(s.alternate,s);break;default:$a(i,s,o,y,a)}e=e.sibling}}function Xi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,n=e,a=n.flags;switch(n.tag){case 22:Xi(l,n),a&2048&&qc(n.alternate,n);break;case 24:Xi(l,n),a&2048&&Xc(n.alternate,n);break;default:Xi(l,n)}e=e.sibling}}var Ki=8192;function Ja(t){if(t.subtreeFlags&Ki)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 26:Ja(t),t.flags&Ki&&t.memoizedState!==null&&km(fn,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var e=fn;fn=rs(t.stateNode.containerInfo),Ja(t),fn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ki,Ki=16777216,Ja(t),Ki=e):Ja(t));break;default:Ja(t)}}function id(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Zi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var n=e[l];ml=n,sd(n,t)}id(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ud(t),t=t.sibling}function ud(t){switch(t.tag){case 0:case 11:case 15:Zi(t),t.flags&2048&&Jn(9,t,t.return);break;case 3:Zi(t);break;case 12:Zi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wu(t)):Zi(t);break;default:Zi(t)}}function Wu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var n=e[l];ml=n,sd(n,t)}id(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Jn(8,e,e.return),Wu(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,Wu(e));break;default:Wu(e)}t=t.sibling}}function sd(t,e){for(;ml!==null;){var l=ml;switch(l.tag){case 0:case 11:case 15:Jn(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var n=l.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ni(l.memoizedState.cache)}if(n=l.child,n!==null)n.return=l,ml=n;else t:for(l=t;ml!==null;){n=ml;var a=n.sibling,i=n.return;if(Pf(n),n===l){ml=null;break t}if(a!==null){a.return=i,ml=a;break t}ml=i}}}var Jh={getCacheForType:function(t){var e=jl(rl),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l}},Wh=typeof WeakMap=="function"?WeakMap:Map,je=0,Be=null,re=null,ye=0,Ne=0,Zl=null,Fn=!1,Wa=!1,Kc=!1,Un=0,tl=0,ta=0,Ta=0,Zc=0,nn=0,Pa=0,Qi=null,Hl=null,Qc=!1,Ic=0,Pu=1/0,Fu=null,ea=null,wl=0,la=null,Fa=null,ti=0,$c=0,Jc=null,cd=null,Ii=0,Wc=null;function Ql(){if((je&2)!==0&&ye!==0)return ye&-ye;if(D.T!==null){var t=Va;return t!==0?t:ar()}return dl()}function rd(){nn===0&&(nn=(ye&536870912)===0||Se?Xt():536870912);var t=ln.current;return t!==null&&(t.flags|=32),nn}function Il(t,e,l){(t===Be&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(ei(t,0),na(t,ye,nn,!1)),ge(t,l),((je&2)===0||t!==Be)&&(t===Be&&((je&2)===0&&(Ta|=l),tl===4&&na(t,ye,nn,!1)),bn(t))}function od(t,e,l){if((je&6)!==0)throw Error(f(327));var n=!l&&(e&124)===0&&(e&t.expiredLanes)===0||vt(t,e),a=n?tm(t,e):tr(t,e,!0),i=n;do{if(a===0){Wa&&!n&&na(t,e,0,!1);break}else{if(l=t.current.alternate,i&&!Ph(l)){a=tr(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;t:{var o=t;a=Qi;var y=o.current.memoizedState.isDehydrated;if(y&&(ei(o,s).flags|=256),s=tr(o,s,!1),s!==2){if(Kc&&!y){o.errorRecoveryDisabledLanes|=i,Ta|=i,a=4;break t}i=Hl,Hl=a,i!==null&&(Hl===null?Hl=i:Hl.push.apply(Hl,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){ei(t,0),na(t,e,0,!0);break}t:{switch(n=t,i=a,i){case 0:case 1:throw Error(f(345));case 4:if((e&4194048)!==e)break;case 6:na(n,e,nn,!Fn);break t;case 2:Hl=null;break;case 3:case 5:break;default:throw Error(f(329))}if((e&62914560)===e&&(a=Ic+300-ke(),10<a)){if(na(n,e,nn,!Fn),nt(n,0,!0)!==0)break t;n.timeoutHandle=Bd(fd.bind(null,n,l,Hl,Fu,Qc,e,nn,Ta,Pa,Fn,i,2,-0,0),a);break t}fd(n,l,Hl,Fu,Qc,e,nn,Ta,Pa,Fn,i,0,-0,0)}}break}while(!0);bn(t)}function fd(t,e,l,n,a,i,s,o,y,O,I,P,U,B){if(t.timeoutHandle=-1,P=e.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:zm},ad(e),P=Lm(),P!==null)){t.cancelPendingCommit=P(bd.bind(null,t,e,i,l,n,a,s,o,y,I,1,U,B)),na(t,i,s,!O);return}bd(t,e,i,l,n,a,s,o,y)}function Ph(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var n=0;n<l.length;n++){var a=l[n],i=a.getSnapshot;a=a.value;try{if(!Gl(i(),a))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function na(t,e,l,n){e&=~Zc,e&=~Ta,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var a=e;0<a;){var i=31-V(a),s=1<<i;n[i]=-1,a&=~s}l!==0&&ue(t,l,e)}function ts(){return(je&6)===0?($i(0),!1):!0}function Pc(){if(re!==null){if(Ne===0)var t=re.return;else t=re,An=va=null,yc(t),Qa=null,Bi=0,t=re;for(;t!==null;)Xf(t.alternate,t),t=t.return;re=null}}function ei(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,gm(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Pc(),Be=t,re=l=En(t.current,null),ye=e,Ne=0,Zl=null,Fn=!1,Wa=vt(t,e),Kc=!1,Pa=nn=Zc=Ta=ta=tl=0,Hl=Qi=null,Qc=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var a=31-V(n),i=1<<a;e|=t[a],n&=~i}return Un=e,Cu(),l}function dd(t,e){ne=null,D.H=Vu,e===Ri||e===_u?(e=No(),Ne=3):e===To?(e=No(),Ne=4):Ne=e===Rf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Zl=e,re===null&&(tl=1,Zu(t,Pl(e,t.current)))}function hd(){var t=D.H;return D.H=Vu,t===null?Vu:t}function md(){var t=D.A;return D.A=Jh,t}function Fc(){tl=4,Fn||(ye&4194048)!==ye&&ln.current!==null||(Wa=!0),(ta&134217727)===0&&(Ta&134217727)===0||Be===null||na(Be,ye,nn,!1)}function tr(t,e,l){var n=je;je|=2;var a=hd(),i=md();(Be!==t||ye!==e)&&(Fu=null,ei(t,e)),e=!1;var s=tl;t:do try{if(Ne!==0&&re!==null){var o=re,y=Zl;switch(Ne){case 8:Pc(),s=6;break t;case 3:case 2:case 9:case 6:ln.current===null&&(e=!0);var O=Ne;if(Ne=0,Zl=null,li(t,o,y,O),l&&Wa){s=0;break t}break;default:O=Ne,Ne=0,Zl=null,li(t,o,y,O)}}Fh(),s=tl;break}catch(I){dd(t,I)}while(!0);return e&&t.shellSuspendCounter++,An=va=null,je=n,D.H=a,D.A=i,re===null&&(Be=null,ye=0,Cu()),s}function Fh(){for(;re!==null;)yd(re)}function tm(t,e){var l=je;je|=2;var n=hd(),a=md();Be!==t||ye!==e?(Fu=null,Pu=ke()+500,ei(t,e)):Wa=vt(t,e);t:do try{if(Ne!==0&&re!==null){e=re;var i=Zl;e:switch(Ne){case 1:Ne=0,Zl=null,li(t,e,i,1);break;case 2:case 9:if(Eo(i)){Ne=0,Zl=null,gd(e);break}e=function(){Ne!==2&&Ne!==9||Be!==t||(Ne=7),bn(t)},i.then(e,e);break t;case 3:Ne=7;break t;case 4:Ne=5;break t;case 7:Eo(i)?(Ne=0,Zl=null,gd(e)):(Ne=0,Zl=null,li(t,e,i,7));break;case 5:var s=null;switch(re.tag){case 26:s=re.memoizedState;case 5:case 27:var o=re;if(!s||Wd(s)){Ne=0,Zl=null;var y=o.sibling;if(y!==null)re=y;else{var O=o.return;O!==null?(re=O,es(O)):re=null}break e}}Ne=0,Zl=null,li(t,e,i,5);break;case 6:Ne=0,Zl=null,li(t,e,i,6);break;case 8:Pc(),tl=6;break t;default:throw Error(f(462))}}em();break}catch(I){dd(t,I)}while(!0);return An=va=null,D.H=n,D.A=a,je=l,re!==null?0:(Be=null,ye=0,Cu(),tl)}function em(){for(;re!==null&&!Jt();)yd(re)}function yd(t){var e=Gf(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?es(t):re=e}function gd(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Df(l,e,e.pendingProps,e.type,void 0,ye);break;case 11:e=Df(l,e,e.pendingProps,e.type.render,e.ref,ye);break;case 5:yc(e);default:Xf(l,e),e=re=go(e,Un),e=Gf(l,e,Un)}t.memoizedProps=t.pendingProps,e===null?es(t):re=e}function li(t,e,l,n){An=va=null,yc(e),Qa=null,Bi=0;var a=e.return;try{if(Xh(t,a,e,l,ye)){tl=1,Zu(t,Pl(l,t.current)),re=null;return}}catch(i){if(a!==null)throw re=a,i;tl=1,Zu(t,Pl(l,t.current)),re=null;return}e.flags&32768?(Se||n===1?t=!0:Wa||(ye&536870912)!==0?t=!1:(Fn=t=!0,(n===2||n===9||n===3||n===6)&&(n=ln.current,n!==null&&n.tag===13&&(n.flags|=16384))),xd(e,t)):es(e)}function es(t){var e=t;do{if((e.flags&32768)!==0){xd(e,Fn);return}t=e.return;var l=Zh(e.alternate,e,Un);if(l!==null){re=l;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);tl===0&&(tl=5)}function xd(t,e){do{var l=Qh(t.alternate,t);if(l!==null){l.flags&=32767,re=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=l}while(t!==null);tl=6,re=null}function bd(t,e,l,n,a,i,s,o,y){t.cancelPendingCommit=null;do ls();while(wl!==0);if((je&6)!==0)throw Error(f(327));if(e!==null){if(e===t.current)throw Error(f(177));if(i=e.lanes|e.childLanes,i|=Xs,Tl(t,l,i,s,o,y),t===Be&&(re=Be=null,ye=0),Fa=e,la=t,ti=l,$c=i,Jc=a,cd=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,im(Ve,function(){return wd(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=D.T,D.T=null,a=W.p,W.p=2,s=je,je|=4;try{Ih(t,e,l)}finally{je=s,W.p=a,D.T=n}}wl=1,vd(),pd(),Sd()}}function vd(){if(wl===1){wl=0;var t=la,e=Fa,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var n=W.p;W.p=2;var a=je;je|=4;try{ed(e,t);var i=dr,s=io(t.containerInfo),o=i.focusedElem,y=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&ao(o.ownerDocument.documentElement,o)){if(y!==null&&Bs(o)){var O=y.start,I=y.end;if(I===void 0&&(I=O),"selectionStart"in o)o.selectionStart=O,o.selectionEnd=Math.min(I,o.value.length);else{var P=o.ownerDocument||document,U=P&&P.defaultView||window;if(U.getSelection){var B=U.getSelection(),Ht=o.textContent.length,zt=Math.min(y.start,Ht),ze=y.end===void 0?zt:Math.min(y.end,Ht);!B.extend&&zt>ze&&(s=ze,ze=zt,zt=s);var E=no(o,zt),w=no(o,ze);if(E&&w&&(B.rangeCount!==1||B.anchorNode!==E.node||B.anchorOffset!==E.offset||B.focusNode!==w.node||B.focusOffset!==w.offset)){var _=P.createRange();_.setStart(E.node,E.offset),B.removeAllRanges(),zt>ze?(B.addRange(_),B.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),B.addRange(_))}}}}for(P=[],B=o;B=B.parentNode;)B.nodeType===1&&P.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<P.length;o++){var J=P[o];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ms=!!fr,dr=fr=null}finally{je=a,W.p=n,D.T=l}}t.current=e,wl=2}}function pd(){if(wl===2){wl=0;var t=la,e=Fa,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var n=W.p;W.p=2;var a=je;je|=4;try{Wf(t,e.alternate,e)}finally{je=a,W.p=n,D.T=l}}wl=3}}function Sd(){if(wl===4||wl===3){wl=0,we();var t=la,e=Fa,l=ti,n=cd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?wl=5:(wl=0,Fa=la=null,Cd(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(ea=null),qe(l),e=e.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ee,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=D.T,a=W.p,W.p=2,D.T=null;try{for(var i=t.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{D.T=e,W.p=a}}(ti&3)!==0&&ls(),bn(t),a=t.pendingLanes,(l&4194090)!==0&&(a&42)!==0?t===Wc?Ii++:(Ii=0,Wc=t):Ii=0,$i(0)}}function Cd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ni(e)))}function ls(t){return vd(),pd(),Sd(),wd()}function wd(){if(wl!==5)return!1;var t=la,e=$c;$c=0;var l=qe(ti),n=D.T,a=W.p;try{W.p=32>l?32:l,D.T=null,l=Jc,Jc=null;var i=la,s=ti;if(wl=0,Fa=la=null,ti=0,(je&6)!==0)throw Error(f(331));var o=je;if(je|=4,ud(i.current),nd(i,i.current,s,l),je=o,$i(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ee,i)}catch{}return!0}finally{W.p=a,D.T=n,Cd(t,e)}}function Md(t,e,l){e=Pl(l,e),e=Ac(t.stateNode,e,2),t=Zn(t,e,2),t!==null&&(ge(t,2),bn(t))}function Le(t,e,l){if(t.tag===3)Md(t,t,l);else for(;e!==null;){if(e.tag===3){Md(e,t,l);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ea===null||!ea.has(n))){t=Pl(l,t),l=Nf(2),n=Zn(e,l,2),n!==null&&(Af(l,n,e,t),ge(n,2),bn(n));break}}e=e.return}}function er(t,e,l){var n=t.pingCache;if(n===null){n=t.pingCache=new Wh;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(l)||(Kc=!0,a.add(l),t=lm.bind(null,t,e,l),e.then(t,t))}function lm(t,e,l){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Be===t&&(ye&l)===l&&(tl===4||tl===3&&(ye&62914560)===ye&&300>ke()-Ic?(je&2)===0&&ei(t,0):Zc|=l,Pa===ye&&(Pa=0)),bn(t)}function Td(t,e){e===0&&(e=Me()),t=Ua(t,e),t!==null&&(ge(t,e),bn(t))}function nm(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Td(t,l)}function am(t,e){var l=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(l=a.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(f(314))}n!==null&&n.delete(e),Td(t,l)}function im(t,e){return pe(t,e)}var ns=null,ni=null,lr=!1,as=!1,nr=!1,Ea=0;function bn(t){t!==ni&&t.next===null&&(ni===null?ns=ni=t:ni=ni.next=t),as=!0,lr||(lr=!0,sm())}function $i(t,e){if(!nr&&as){nr=!0;do for(var l=!1,n=ns;n!==null;){if(t!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-V(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Ad(n,i))}else i=ye,i=nt(n,n===Be?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||vt(n,i)||(l=!0,Ad(n,i));n=n.next}while(l);nr=!1}}function um(){Ed()}function Ed(){as=lr=!1;var t=0;Ea!==0&&(ym()&&(t=Ea),Ea=0);for(var e=ke(),l=null,n=ns;n!==null;){var a=n.next,i=jd(n,e);i===0?(n.next=null,l===null?ns=a:l.next=a,a===null&&(ni=l)):(l=n,(t!==0||(i&3)!==0)&&(as=!0)),n=a}$i(t)}function jd(t,e){for(var l=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-V(i),o=1<<s,y=a[s];y===-1?((o&l)===0||(o&n)!==0)&&(a[s]=Nt(o,e)):y<=e&&(t.expiredLanes|=o),i&=~o}if(e=Be,l=ye,l=nt(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,l===0||t===e&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&ll(n),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||vt(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(n!==null&&ll(n),qe(l)){case 2:case 8:l=$e;break;case 32:l=Ve;break;case 268435456:l=vl;break;default:l=Ve}return n=Nd.bind(null,t),l=pe(l,n),t.callbackPriority=e,t.callbackNode=l,e}return n!==null&&n!==null&&ll(n),t.callbackPriority=2,t.callbackNode=null,2}function Nd(t,e){if(wl!==0&&wl!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(ls()&&t.callbackNode!==l)return null;var n=ye;return n=nt(t,t===Be?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(od(t,n,e),jd(t,ke()),t.callbackNode!=null&&t.callbackNode===l?Nd.bind(null,t):null)}function Ad(t,e){if(ls())return null;od(t,e,!0)}function sm(){xm(function(){(je&6)!==0?pe(Ye,um):Ed()})}function ar(){return Ea===0&&(Ea=Xt()),Ea}function Rd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:it(""+t)}function _d(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function cm(t,e,l,n,a){if(e==="submit"&&l&&l.stateNode===a){var i=Rd((a[de]||null).action),s=n.submitter;s&&(e=(e=s[de]||null)?Rd(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new vu("action","action",null,n,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ea!==0){var y=s?_d(a,s):new FormData(a);Mc(l,{pending:!0,data:y,method:a.method,action:i},null,y)}}else typeof i=="function"&&(o.preventDefault(),y=s?_d(a,s):new FormData(a),Mc(l,{pending:!0,data:y,method:a.method,action:i},i,y))},currentTarget:a}]})}}for(var ir=0;ir<qs.length;ir++){var ur=qs[ir],rm=ur.toLowerCase(),om=ur[0].toUpperCase()+ur.slice(1);on(rm,"on"+om)}on(co,"onAnimationEnd"),on(ro,"onAnimationIteration"),on(oo,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(jh,"onTransitionRun"),on(Nh,"onTransitionStart"),on(Ah,"onTransitionCancel"),on(fo,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ji));function Od(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var n=t[l],a=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],y=o.instance,O=o.currentTarget;if(o=o.listener,y!==i&&a.isPropagationStopped())break t;i=o,a.currentTarget=O;try{i(a)}catch(I){Ku(I)}a.currentTarget=null,i=y}else for(s=0;s<n.length;s++){if(o=n[s],y=o.instance,O=o.currentTarget,o=o.listener,y!==i&&a.isPropagationStopped())break t;i=o,a.currentTarget=O;try{i(a)}catch(I){Ku(I)}a.currentTarget=null,i=y}}}}function oe(t,e){var l=e[ul];l===void 0&&(l=e[ul]=new Set);var n=t+"__bubble";l.has(n)||(zd(e,t,2,!1),l.add(n))}function sr(t,e,l){var n=0;e&&(n|=4),zd(l,t,n,e)}var is="_reactListening"+Math.random().toString(36).slice(2);function cr(t){if(!t[is]){t[is]=!0,Vt.forEach(function(l){l!=="selectionchange"&&(fm.has(l)||sr(l,!1,t),sr(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[is]||(e[is]=!0,sr("selectionchange",!1,e))}}function zd(t,e,l,n){switch(n0(e)){case 2:var a=Hm;break;case 8:a=Bm;break;default:a=Cr}l=a.bind(null,e,l,t),a=void 0,!It||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,l,{capture:!0,passive:a}):t.addEventListener(e,l,!0):a!==void 0?t.addEventListener(e,l,{passive:a}):t.addEventListener(e,l,!1)}function rr(t,e,l,n,a){var i=n;if((e&1)===0&&(e&2)===0&&n!==null)t:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=n.return;s!==null;){var y=s.tag;if((y===3||y===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=ht(o),s===null)return;if(y=s.tag,y===5||y===6||y===26||y===27){n=i=s;continue t}o=o.parentNode}}n=n.return}Ee(function(){var O=i,I=xt(l),P=[];t:{var U=ho.get(t);if(U!==void 0){var B=vu,Ht=t;switch(t){case"keypress":if(Tn(l)===0)break t;case"keydown":case"keyup":B=ih;break;case"focusin":Ht="focus",B=ks;break;case"focusout":Ht="blur",B=ks;break;case"beforeblur":case"afterblur":B=ks;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ch;break;case co:case ro:case oo:B=J0;break;case fo:B=oh;break;case"scroll":case"scrollend":B=K0;break;case"wheel":B=dh;break;case"copy":case"cut":case"paste":B=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=qr;break;case"toggle":case"beforetoggle":B=mh}var zt=(e&4)!==0,ze=!zt&&(t==="scroll"||t==="scrollend"),E=zt?U!==null?U+"Capture":null:U;zt=[];for(var w=O,_;w!==null;){var J=w;if(_=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||_===null||E===null||(J=Pe(w,E),J!=null&&zt.push(Wi(w,J,_))),ze)break;w=w.return}0<zt.length&&(U=new B(U,Ht,null,l,I),P.push({event:U,listeners:zt}))}}if((e&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",U&&l!==$&&(Ht=l.relatedTarget||l.fromElement)&&(ht(Ht)||Ht[He]))break t;if((B||U)&&(U=I.window===I?I:(U=I.ownerDocument)?U.defaultView||U.parentWindow:window,B?(Ht=l.relatedTarget||l.toElement,B=O,Ht=Ht?ht(Ht):null,Ht!==null&&(ze=R(Ht),zt=Ht.tag,Ht!==ze||zt!==5&&zt!==27&&zt!==6)&&(Ht=null)):(B=null,Ht=O),B!==Ht)){if(zt=Vr,J="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(zt=qr,J="onPointerLeave",E="onPointerEnter",w="pointer"),ze=B==null?U:Pt(B),_=Ht==null?U:Pt(Ht),U=new zt(J,w+"leave",B,l,I),U.target=ze,U.relatedTarget=_,J=null,ht(I)===O&&(zt=new zt(E,w+"enter",Ht,l,I),zt.target=_,zt.relatedTarget=ze,J=zt),ze=J,B&&Ht)e:{for(zt=B,E=Ht,w=0,_=zt;_;_=ai(_))w++;for(_=0,J=E;J;J=ai(J))_++;for(;0<w-_;)zt=ai(zt),w--;for(;0<_-w;)E=ai(E),_--;for(;w--;){if(zt===E||E!==null&&zt===E.alternate)break e;zt=ai(zt),E=ai(E)}zt=null}else zt=null;B!==null&&kd(P,U,B,zt,!1),Ht!==null&&ze!==null&&kd(P,ze,Ht,zt,!0)}}t:{if(U=O?Pt(O):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var wt=Wr;else if($r(U))if(Pr)wt=Mh;else{wt=Ch;var ie=Sh}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?O&&H(O.elementType)&&(wt=Wr):wt=wh;if(wt&&(wt=wt(t,O))){Jr(P,wt,l,I);break t}ie&&ie(t,U,O),t==="focusout"&&O&&U.type==="number"&&O.memoizedProps.value!=null&&hn(U,"number",U.value)}switch(ie=O?Pt(O):window,t){case"focusin":($r(ie)||ie.contentEditable==="true")&&(ka=ie,Ys=O,wi=null);break;case"focusout":wi=Ys=ka=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,uo(P,l,I);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":uo(P,l,I)}var _t;if(Ds)t:{switch(t){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else za?Qr(t,l)&&(Lt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Xr&&l.locale!=="ko"&&(za||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&za&&(_t=gi()):(te=I,Sl="value"in te?te.value:te.textContent,za=!0)),ie=us(O,Lt),0<ie.length&&(Lt=new Gr(Lt,t,null,l,I),P.push({event:Lt,listeners:ie}),_t?Lt.data=_t:(_t=Ir(l),_t!==null&&(Lt.data=_t)))),(_t=gh?xh(t,l):bh(t,l))&&(Lt=us(O,"onBeforeInput"),0<Lt.length&&(ie=new Gr("onBeforeInput","beforeinput",null,l,I),P.push({event:ie,listeners:Lt}),ie.data=_t)),cm(P,t,O,l,I)}Od(P,e)})}function Wi(t,e,l){return{instance:t,listener:e,currentTarget:l}}function us(t,e){for(var l=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Pe(t,l),a!=null&&n.unshift(Wi(t,a,i)),a=Pe(t,e),a!=null&&n.push(Wi(t,a,i))),t.tag===3)return n;t=t.return}return[]}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kd(t,e,l,n,a){for(var i=e._reactName,s=[];l!==null&&l!==n;){var o=l,y=o.alternate,O=o.stateNode;if(o=o.tag,y!==null&&y===n)break;o!==5&&o!==26&&o!==27||O===null||(y=O,a?(O=Pe(l,i),O!=null&&s.unshift(Wi(l,O,y))):a||(O=Pe(l,i),O!=null&&s.push(Wi(l,O,y)))),l=l.return}s.length!==0&&t.push({event:e,listeners:s})}var dm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function Ld(t){return(typeof t=="string"?t:""+t).replace(dm,`
`).replace(hm,"")}function Dd(t,e){return e=Ld(e),Ld(t)===e}function ss(){}function Oe(t,e,l,n,a,i){switch(l){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Vn(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Vn(t,""+n);break;case"className":Cn(t,"class",n);break;case"tabIndex":Cn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,l,n);break;case"style":g(t,n,i);break;case"data":if(e!=="object"){Cn(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=it(""+n),t.setAttribute(l,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(e!=="input"&&Oe(t,e,"name",a.name,a,null),Oe(t,e,"formEncType",a.formEncType,a,null),Oe(t,e,"formMethod",a.formMethod,a,null),Oe(t,e,"formTarget",a.formTarget,a,null)):(Oe(t,e,"encType",a.encType,a,null),Oe(t,e,"method",a.method,a,null),Oe(t,e,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=it(""+n),t.setAttribute(l,n);break;case"onClick":n!=null&&(t.onclick=ss);break;case"onScroll":n!=null&&oe("scroll",t);break;case"onScrollEnd":n!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(l=n.__html,l!=null){if(a.children!=null)throw Error(f(60));t.innerHTML=l}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}l=it(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""+n):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":n===!0?t.setAttribute(l,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,n):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(l,n):t.removeAttribute(l);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(l):t.setAttribute(l,n);break;case"popover":oe("beforetoggle",t),oe("toggle",t),cn(t,"popover",n);break;case"xlinkActuate":Vl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Vl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Vl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Vl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Vl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Vl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Vl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Vl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Vl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":cn(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=L.get(l)||l,cn(t,l,n))}}function or(t,e,l,n,a,i){switch(l){case"style":g(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(l=n.__html,l!=null){if(a.children!=null)throw Error(f(60));t.innerHTML=l}}break;case"children":typeof n=="string"?Vn(t,n):(typeof n=="number"||typeof n=="bigint")&&Vn(t,""+n);break;case"onScroll":n!=null&&oe("scroll",t);break;case"onScrollEnd":n!=null&&oe("scrollend",t);break;case"onClick":n!=null&&(t.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!le.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(a=l.endsWith("Capture"),e=l.slice(2,a?l.length-7:void 0),i=t[de]||null,i=i!=null?i[l]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,n,a);break t}l in t?t[l]=n:n===!0?t.setAttribute(l,""):cn(t,l,n)}}}function Ml(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var n=!1,a=!1,i;for(i in l)if(l.hasOwnProperty(i)){var s=l[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:Oe(t,e,i,s,l,null)}}a&&Oe(t,e,"srcSet",l.srcSet,l,null),n&&Oe(t,e,"src",l.src,l,null);return;case"input":oe("invalid",t);var o=i=s=a=null,y=null,O=null;for(n in l)if(l.hasOwnProperty(n)){var I=l[n];if(I!=null)switch(n){case"name":a=I;break;case"type":s=I;break;case"checked":y=I;break;case"defaultChecked":O=I;break;case"value":i=I;break;case"defaultValue":o=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(f(137,e));break;default:Oe(t,e,n,I,l,null)}}Oa(t,i,o,y,O,s,a,!1),Aa(t);return;case"select":oe("invalid",t),n=s=i=null;for(a in l)if(l.hasOwnProperty(a)&&(o=l[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:Oe(t,e,a,o,l,null)}e=i,l=s,t.multiple=!!n,e!=null?Mn(t,!!n,e,!1):l!=null&&Mn(t,!!n,l,!0);return;case"textarea":oe("invalid",t),i=a=n=null;for(s in l)if(l.hasOwnProperty(s)&&(o=l[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(f(91));break;default:Oe(t,e,s,o,l,null)}gu(t,n,a,i),Aa(t);return;case"option":for(y in l)if(l.hasOwnProperty(y)&&(n=l[y],n!=null))switch(y){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(t,e,y,n,l,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(n=0;n<Ji.length;n++)oe(Ji[n],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in l)if(l.hasOwnProperty(O)&&(n=l[O],n!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:Oe(t,e,O,n,l,null)}return;default:if(H(e)){for(I in l)l.hasOwnProperty(I)&&(n=l[I],n!==void 0&&or(t,e,I,n,l,void 0));return}}for(o in l)l.hasOwnProperty(o)&&(n=l[o],n!=null&&Oe(t,e,o,n,l,null))}function mm(t,e,l,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,y=null,O=null,I=null;for(B in l){var P=l[B];if(l.hasOwnProperty(B)&&P!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":y=P;default:n.hasOwnProperty(B)||Oe(t,e,B,null,n,P)}}for(var U in n){var B=n[U];if(P=l[U],n.hasOwnProperty(U)&&(B!=null||P!=null))switch(U){case"type":i=B;break;case"name":a=B;break;case"checked":O=B;break;case"defaultChecked":I=B;break;case"value":s=B;break;case"defaultValue":o=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(f(137,e));break;default:B!==P&&Oe(t,e,U,B,n,P)}}_a(t,s,o,y,O,I,i,a);return;case"select":B=s=o=U=null;for(i in l)if(y=l[i],l.hasOwnProperty(i)&&y!=null)switch(i){case"value":break;case"multiple":B=y;default:n.hasOwnProperty(i)||Oe(t,e,i,null,n,y)}for(a in n)if(i=n[a],y=l[a],n.hasOwnProperty(a)&&(i!=null||y!=null))switch(a){case"value":U=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==y&&Oe(t,e,a,i,n,y)}e=o,l=s,n=B,U!=null?Mn(t,!!l,U,!1):!!n!=!!l&&(e!=null?Mn(t,!!l,e,!0):Mn(t,!!l,l?[]:"",!1));return;case"textarea":B=U=null;for(o in l)if(a=l[o],l.hasOwnProperty(o)&&a!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Oe(t,e,o,null,n,a)}for(s in n)if(a=n[s],i=l[s],n.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":U=a;break;case"defaultValue":B=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(f(91));break;default:a!==i&&Oe(t,e,s,a,n,i)}yu(t,U,B);return;case"option":for(var Ht in l)if(U=l[Ht],l.hasOwnProperty(Ht)&&U!=null&&!n.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:Oe(t,e,Ht,null,n,U)}for(y in n)if(U=n[y],B=l[y],n.hasOwnProperty(y)&&U!==B&&(U!=null||B!=null))switch(y){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Oe(t,e,y,U,n,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)U=l[zt],l.hasOwnProperty(zt)&&U!=null&&!n.hasOwnProperty(zt)&&Oe(t,e,zt,null,n,U);for(O in n)if(U=n[O],B=l[O],n.hasOwnProperty(O)&&U!==B&&(U!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(f(137,e));break;default:Oe(t,e,O,U,n,B)}return;default:if(H(e)){for(var ze in l)U=l[ze],l.hasOwnProperty(ze)&&U!==void 0&&!n.hasOwnProperty(ze)&&or(t,e,ze,void 0,n,U);for(I in n)U=n[I],B=l[I],!n.hasOwnProperty(I)||U===B||U===void 0&&B===void 0||or(t,e,I,U,n,B);return}}for(var E in l)U=l[E],l.hasOwnProperty(E)&&U!=null&&!n.hasOwnProperty(E)&&Oe(t,e,E,null,n,U);for(P in n)U=n[P],B=l[P],!n.hasOwnProperty(P)||U===B||U==null&&B==null||Oe(t,e,P,U,n,B)}var fr=null,dr=null;function cs(t){return t.nodeType===9?t:t.ownerDocument}function Ud(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hd(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function hr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mr=null;function ym(){var t=window.event;return t&&t.type==="popstate"?t===mr?!1:(mr=t,!0):(mr=null,!1)}var Bd=typeof setTimeout=="function"?setTimeout:void 0,gm=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,xm=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch(bm)}:Bd;function bm(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function Vd(t,e){var l=e,n=0,a=0;do{var i=l.nextSibling;if(t.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<n&&8>n){l=n;var s=t.ownerDocument;if(l&1&&Pi(s.documentElement),l&2&&Pi(s.body),l&4)for(l=s.head,Pi(l),s=l.firstChild;s;){var o=s.nextSibling,y=s.nodeName;s[Et]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&s.rel.toLowerCase()==="stylesheet"||l.removeChild(s),s=o}}if(a===0){t.removeChild(i),uu(e);return}a--}else l==="$"||l==="$?"||l==="$!"?a++:n=l.charCodeAt(0)-48;else n=0;l=i}while(l);uu(e)}function yr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yr(l),At(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function vm(t,e,l,n){for(;t.nodeType===1;){var a=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Et])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=dn(t.nextSibling),t===null)break}return null}function pm(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=dn(t.nextSibling),t===null))return null;return t}function gr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Sm(t,e){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")e();else{var n=function(){e(),l.removeEventListener("DOMContentLoaded",n)};l.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var xr=null;function Gd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(e===0)return t;e--}else l==="/$"&&e++}t=t.previousSibling}return null}function qd(t,e,l){switch(e=cs(l),t){case"html":if(t=e.documentElement,!t)throw Error(f(452));return t;case"head":if(t=e.head,!t)throw Error(f(453));return t;case"body":if(t=e.body,!t)throw Error(f(454));return t;default:throw Error(f(451))}}function Pi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);At(t)}var an=new Map,Xd=new Set;function rs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hn=W.d;W.d={f:Cm,r:wm,D:Mm,C:Tm,L:Em,m:jm,X:Am,S:Nm,M:Rm};function Cm(){var t=Hn.f(),e=ts();return t||e}function wm(t){var e=kt(t);e!==null&&e.tag===5&&e.type==="form"?of(e):Hn.r(t)}var ii=typeof document>"u"?null:document;function Kd(t,e,l){var n=ii;if(n&&typeof e=="string"&&e){var a=_l(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof l=="string"&&(a+='[crossorigin="'+l+'"]'),Xd.has(a)||(Xd.add(a),t={rel:t,crossOrigin:l,href:e},n.querySelector(a)===null&&(e=n.createElement("link"),Ml(e,"link",t),se(e),n.head.appendChild(e)))}}function Mm(t){Hn.D(t),Kd("dns-prefetch",t,null)}function Tm(t,e){Hn.C(t,e),Kd("preconnect",t,e)}function Em(t,e,l){Hn.L(t,e,l);var n=ii;if(n&&t&&e){var a='link[rel="preload"][as="'+_l(e)+'"]';e==="image"&&l&&l.imageSrcSet?(a+='[imagesrcset="'+_l(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(a+='[imagesizes="'+_l(l.imageSizes)+'"]')):a+='[href="'+_l(t)+'"]';var i=a;switch(e){case"style":i=ui(t);break;case"script":i=si(t)}an.has(i)||(t=d({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),an.set(i,t),n.querySelector(a)!==null||e==="style"&&n.querySelector(Fi(i))||e==="script"&&n.querySelector(tu(i))||(e=n.createElement("link"),Ml(e,"link",t),se(e),n.head.appendChild(e)))}}function jm(t,e){Hn.m(t,e);var l=ii;if(l&&t){var n=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+_l(n)+'"][href="'+_l(t)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=si(t)}if(!an.has(i)&&(t=d({rel:"modulepreload",href:t},e),an.set(i,t),l.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tu(i)))return}n=l.createElement("link"),Ml(n,"link",t),se(n),l.head.appendChild(n)}}}function Nm(t,e,l){Hn.S(t,e,l);var n=ii;if(n&&t){var a=he(n).hoistableStyles,i=ui(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Fi(i)))o.loading=5;else{t=d({rel:"stylesheet",href:t,"data-precedence":e},l),(l=an.get(i))&&br(t,l);var y=s=n.createElement("link");se(y),Ml(y,"link",t),y._p=new Promise(function(O,I){y.onload=O,y.onerror=I}),y.addEventListener("load",function(){o.loading|=1}),y.addEventListener("error",function(){o.loading|=2}),o.loading|=4,os(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Am(t,e){Hn.X(t,e);var l=ii;if(l&&t){var n=he(l).hoistableScripts,a=si(t),i=n.get(a);i||(i=l.querySelector(tu(a)),i||(t=d({src:t,async:!0},e),(e=an.get(a))&&vr(t,e),i=l.createElement("script"),se(i),Ml(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Rm(t,e){Hn.M(t,e);var l=ii;if(l&&t){var n=he(l).hoistableScripts,a=si(t),i=n.get(a);i||(i=l.querySelector(tu(a)),i||(t=d({src:t,async:!0,type:"module"},e),(e=an.get(a))&&vr(t,e),i=l.createElement("script"),se(i),Ml(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Zd(t,e,l,n){var a=(a=Ct.current)?rs(a):null;if(!a)throw Error(f(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=ui(l.href),l=he(a).hoistableStyles,n=l.get(e),n||(n={type:"style",instance:null,count:0,state:null},l.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ui(l.href);var i=he(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(Fi(t)))&&!i._p&&(s.instance=i,s.state.loading=5),an.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},an.set(t,l),i||_m(a,t,l,s.state))),e&&n===null)throw Error(f(528,""));return s}if(e&&n!==null)throw Error(f(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=si(l),l=he(a).hoistableScripts,n=l.get(e),n||(n={type:"script",instance:null,count:0,state:null},l.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,t))}}function ui(t){return'href="'+_l(t)+'"'}function Fi(t){return'link[rel="stylesheet"]['+t+"]"}function Qd(t){return d({},t,{"data-precedence":t.precedence,precedence:null})}function _m(t,e,l,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Ml(e,"link",l),se(e),t.head.appendChild(e))}function si(t){return'[src="'+_l(t)+'"]'}function tu(t){return"script[async]"+t}function Id(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+_l(l.href)+'"]');if(n)return e.instance=n,se(n),n;var a=d({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),se(n),Ml(n,"style",a),os(n,l.precedence,t),e.instance=n;case"stylesheet":a=ui(l.href);var i=t.querySelector(Fi(a));if(i)return e.state.loading|=4,e.instance=i,se(i),i;n=Qd(l),(a=an.get(a))&&br(n,a),i=(t.ownerDocument||t).createElement("link"),se(i);var s=i;return s._p=new Promise(function(o,y){s.onload=o,s.onerror=y}),Ml(i,"link",n),e.state.loading|=4,os(i,l.precedence,t),e.instance=i;case"script":return i=si(l.src),(a=t.querySelector(tu(i)))?(e.instance=a,se(a),a):(n=l,(a=an.get(i))&&(n=d({},l),vr(n,a)),t=t.ownerDocument||t,a=t.createElement("script"),se(a),Ml(a,"link",n),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(f(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,os(n,l.precedence,t));return e.instance}function os(t,e,l){for(var n=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function br(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fs=null;function $d(t,e,l){if(fs===null){var n=new Map,a=fs=new Map;a.set(l,n)}else a=fs,n=a.get(l),n||(n=new Map,a.set(l,n));if(n.has(t))return n;for(n.set(t,null),l=l.getElementsByTagName(t),a=0;a<l.length;a++){var i=l[a];if(!(i[Et]||i[me]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function Jd(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function Om(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Wd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var eu=null;function zm(){}function km(t,e,l){if(eu===null)throw Error(f(475));var n=eu;if(e.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var a=ui(l.href),i=t.querySelector(Fi(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=ds.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=i,se(i);return}i=t.ownerDocument||t,l=Qd(l),(a=an.get(a))&&br(l,a),i=i.createElement("link"),se(i);var s=i;s._p=new Promise(function(o,y){s.onload=o,s.onerror=y}),Ml(i,"link",l),e.instance=i}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(n.count++,e=ds.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function Lm(){if(eu===null)throw Error(f(475));var t=eu;return t.stylesheets&&t.count===0&&pr(t,t.stylesheets),0<t.count?function(e){var l=setTimeout(function(){if(t.stylesheets&&pr(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(l)}}:null}function ds(){if(this.count--,this.count===0){if(this.stylesheets)pr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hs=null;function pr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hs=new Map,e.forEach(Dm,t),hs=null,ds.call(t))}function Dm(t,e){if(!(e.state.loading&4)){var l=hs.get(t);if(l)var n=l.get(null);else{l=new Map,hs.set(t,l);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(l.set(s.dataset.precedence,s),n=s)}n&&l.set(null,n)}a=e.instance,s=a.getAttribute("data-precedence"),i=l.get(s)||n,i===n&&l.set(null,a),l.set(s,a),this.count++,n=ds.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var lu={$$typeof:X,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function Um(t,e,l,n,a,i,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Pd(t,e,l,n,a,i,s,o,y,O,I,P){return t=new Um(t,e,l,s,o,y,O,P),e=1,i===!0&&(e|=24),i=ql(3,null,null,e),t.current=i,i.stateNode=t,e=ec(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:l,cache:e},ic(i),t}function Fd(t){return t?(t=Ha,t):Ha}function t0(t,e,l,n,a,i){a=Fd(a),n.context===null?n.context=a:n.pendingContext=a,n=Kn(e),n.payload={element:l},i=i===void 0?null:i,i!==null&&(n.callback=i),l=Zn(t,n,e),l!==null&&(Il(l,t,e),Oi(l,t,e))}function e0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function Sr(t,e){e0(t,e),(t=t.alternate)&&e0(t,e)}function l0(t){if(t.tag===13){var e=Ua(t,67108864);e!==null&&Il(e,t,67108864),Sr(t,67108864)}}var ms=!0;function Hm(t,e,l,n){var a=D.T;D.T=null;var i=W.p;try{W.p=2,Cr(t,e,l,n)}finally{W.p=i,D.T=a}}function Bm(t,e,l,n){var a=D.T;D.T=null;var i=W.p;try{W.p=8,Cr(t,e,l,n)}finally{W.p=i,D.T=a}}function Cr(t,e,l,n){if(ms){var a=wr(n);if(a===null)rr(t,e,n,ys,l),a0(t,n);else if(Vm(a,t,e,l,n))n.stopPropagation();else if(a0(t,n),e&4&&-1<Ym.indexOf(t)){for(;a!==null;){var i=kt(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Y(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var y=1<<31-V(s);o.entanglements[1]|=y,s&=~y}bn(i),(je&6)===0&&(Pu=ke()+500,$i(0))}}break;case 13:o=Ua(i,2),o!==null&&Il(o,i,2),ts(),Sr(i,2)}if(i=wr(n),i===null&&rr(t,e,n,ys,l),i===a)break;a=i}a!==null&&n.stopPropagation()}else rr(t,e,n,null,l)}}function wr(t){return t=xt(t),Mr(t)}var ys=null;function Mr(t){if(ys=null,t=ht(t),t!==null){var e=R(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=S(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ys=t,null}function n0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case Ye:return 2;case $e:return 8;case Ve:case bl:return 32;case vl:return 268435456;default:return 32}default:return 32}}var Tr=!1,ia=null,ua=null,sa=null,nu=new Map,au=new Map,ca=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function iu(t,e,l,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:l,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=kt(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Vm(t,e,l,n,a){switch(e){case"focusin":return ia=iu(ia,t,e,l,n,a),!0;case"dragenter":return ua=iu(ua,t,e,l,n,a),!0;case"mouseover":return sa=iu(sa,t,e,l,n,a),!0;case"pointerover":var i=a.pointerId;return nu.set(i,iu(nu.get(i)||null,t,e,l,n,a)),!0;case"gotpointercapture":return i=a.pointerId,au.set(i,iu(au.get(i)||null,t,e,l,n,a)),!0}return!1}function i0(t){var e=ht(t.target);if(e!==null){var l=R(e);if(l!==null){if(e=l.tag,e===13){if(e=S(l),e!==null){t.blockedOn=e,zl(t.priority,function(){if(l.tag===13){var n=Ql();n=Ge(n);var a=Ua(l,n);a!==null&&Il(a,l,n),Sr(l,n)}});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=wr(t.nativeEvent);if(l===null){l=t.nativeEvent;var n=new l.constructor(l.type,l);$=n,l.target.dispatchEvent(n),$=null}else return e=kt(l),e!==null&&l0(e),t.blockedOn=l,!1;e.shift()}return!0}function u0(t,e,l){gs(t)&&l.delete(e)}function Gm(){Tr=!1,ia!==null&&gs(ia)&&(ia=null),ua!==null&&gs(ua)&&(ua=null),sa!==null&&gs(sa)&&(sa=null),nu.forEach(u0),au.forEach(u0)}function xs(t,e){t.blockedOn===e&&(t.blockedOn=null,Tr||(Tr=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Gm)))}var bs=null;function s0(t){bs!==t&&(bs=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){bs===t&&(bs=null);for(var e=0;e<t.length;e+=3){var l=t[e],n=t[e+1],a=t[e+2];if(typeof n!="function"){if(Mr(n||l)===null)continue;break}var i=kt(l);i!==null&&(t.splice(e,3),e-=3,Mc(i,{pending:!0,data:a,method:l.method,action:n},n,a))}}))}function uu(t){function e(y){return xs(y,t)}ia!==null&&xs(ia,t),ua!==null&&xs(ua,t),sa!==null&&xs(sa,t),nu.forEach(e),au.forEach(e);for(var l=0;l<ca.length;l++){var n=ca[l];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ca.length&&(l=ca[0],l.blockedOn===null);)i0(l),l.blockedOn===null&&ca.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(n=0;n<l.length;n+=3){var a=l[n],i=l[n+1],s=a[de]||null;if(typeof i=="function")s||s0(l);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[de]||null)o=s.formAction;else if(Mr(a)!==null)continue}else o=s.action;typeof o=="function"?l[n+1]=o:(l.splice(n,3),n-=3),s0(l)}}}function Er(t){this._internalRoot=t}vs.prototype.render=Er.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(f(409));var l=e.current,n=Ql();t0(l,n,t,e,null,null)},vs.prototype.unmount=Er.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t0(t.current,2,null,t,null,null),ts(),e[He]=null}};function vs(t){this._internalRoot=t}vs.prototype.unstable_scheduleHydration=function(t){if(t){var e=dl();t={blockedOn:null,target:t,priority:e};for(var l=0;l<ca.length&&e!==0&&e<ca[l].priority;l++);ca.splice(l,0,t),l===0&&i0(t)}};var c0=x.version;if(c0!=="19.1.0")throw Error(f(527,c0,"19.1.0"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=b(e),t=t!==null?r(t):null,t=t===null?null:t.stateNode,t};var qm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{ee=ps.inject(qm),Yt=ps}catch{}}return cu.createRoot=function(t,e){if(!h(t))throw Error(f(299));var l=!1,n="",a=Mf,i=Tf,s=Ef,o=null;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=Pd(t,1,!1,null,null,l,n,a,i,s,o,null),t[He]=e.current,cr(t),new Er(e)},cu.hydrateRoot=function(t,e,l){if(!h(t))throw Error(f(299));var n=!1,a="",i=Mf,s=Tf,o=Ef,y=null,O=null;return l!=null&&(l.unstable_strictMode===!0&&(n=!0),l.identifierPrefix!==void 0&&(a=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(s=l.onCaughtError),l.onRecoverableError!==void 0&&(o=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(y=l.unstable_transitionCallbacks),l.formState!==void 0&&(O=l.formState)),e=Pd(t,1,!0,e,l??null,n,a,i,s,o,y,O),e.context=Fd(null),l=e.current,n=Ql(),n=Ge(n),a=Kn(n),a.callback=null,Zn(l,a,n),l=n,e.current.lanes=l,ge(e,l),bn(e),t[He]=e.current,cr(t),new vs(e)},cu.version="19.1.0",cu}var b0;function Fm(){if(b0)return Ar.exports;b0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(x){console.error(x)}}return c(),Ar.exports=Pm(),Ar.exports}var ty=Fm();const ey=k0(ty),Kt=ja.forwardRef(({children:c,variant:x="primary",size:T="md",leftIcon:f,rightIcon:h,className:R="",isLoading:S,disabled:N,...b},r)=>{const d="font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-800 inline-flex items-center justify-center transition-colors duration-150";let j="";switch(x){case"primary":j="bg-primary hover:bg-primary-dark text-white focus:ring-primary-dark";break;case"secondary":j="bg-secondary hover:bg-secondary-dark text-neutral-800 focus:ring-secondary-dark";break;case"danger":j="bg-red-600 hover:bg-red-700 text-white focus:ring-red-700";break;case"ghost":j="bg-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-700 dark:text-neutral-300 focus:ring-primary";break;case"outline":j="border border-primary text-primary hover:bg-primary/10 focus:ring-primary";break}let v="";switch(T){case"sm":v="px-3 py-1.5 text-sm";break;case"md":v="px-4 py-2 text-base";break;case"lg":v="px-6 py-3 text-lg";break;case"xs":v="px-2 py-1 text-xs";break}const K=S?"opacity-75 cursor-not-allowed":"",C=N?"opacity-50 cursor-not-allowed":"";return u.jsxs("button",{ref:r,className:`${d} ${j} ${v} ${K} ${C} ${R}`,disabled:N||S,...b,children:[S&&u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f&&!S&&u.jsx("span",{className:"mr-2",children:f}),c,h&&!S&&u.jsx("span",{className:"ml-2",children:h})]})});Kt.displayName="Button";const Ce=({path:c,className:x="w-5 h-5",viewBox:T="0 0 24 24",size:f,strokeWidth:h=2,fill:R="none",transform:S,fillRule:N})=>{const b={};return f&&(b.width=f,b.height=f),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:x,fill:R,viewBox:T,stroke:"currentColor",strokeWidth:h,style:b,transform:S,fillRule:N,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:c})})},ly=c=>u.jsx(Ce,{path:"M16 3l5 5L8 21H3v-5L16 3z",...c}),ny=c=>u.jsx(Ce,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z",...c}),ay=c=>u.jsx(Ce,{path:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",...c}),iy=c=>u.jsx(Ce,{path:"M2.5 2v6h6M2.66 15.57a10 10 0 10 .57-8.38",...c}),uy=c=>u.jsx(Ce,{path:"M21.5 2v6h-6M21.34 15.57a10 10 0 11-.57-8.38",...c}),sy=c=>u.jsx(Ce,{path:"M12 9a3 3 0 100 6 3 3 0 000-6zM19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z",...c}),cy=c=>u.jsx(Ce,{path:"M11 3a8 8 0 100 16 8 8 0 000-16zM21 21l-4.35-4.35M11 8v6M8 11h6",...c}),ry=c=>u.jsx(Ce,{path:"M11 3a8 8 0 100 16 8 8 0 000-16zM21 21l-4.35-4.35M8 11h6",...c}),oy=c=>u.jsx(Ce,{path:"M12 7a5 5 0 100 10 5 5 0 000-10zM12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4",...c}),fy=c=>u.jsx(Ce,{path:"M21 12.79A9 9 0 11 11.21 3 7 7 0 00 21 12.79z",...c}),dy=c=>u.jsx(Ce,{path:"M3 16.5v-2.25A2.25 2.25 0 015.25 12h13.5A2.25 2.25 0 0121 14.25V16.5m-16.5-4.5L12 7.5m0 0l4.5 4.5M12 7.5v9",...c}),hy=c=>u.jsx(Ce,{path:"M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z M14 3v5h5M16 13H8M16 17H8M10 9H8",...c}),my=c=>u.jsx(Ce,{path:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8",...c}),yy=c=>u.jsx(Ce,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zM8.5 7a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM20.4 14.5L16 10 4 20",...c}),gy=c=>u.jsx(Ce,{path:"M9 4v16M15 4v16",...c}),L0=c=>u.jsx(Ce,{path:"M3 6h2m16 0H5M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6",...c}),Ns=c=>u.jsx(Ce,{path:"M12 4v16m8-8H4",...c}),xy=c=>u.jsx(Ce,{path:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8zM12 15a3 3 0 100-6 3 3 0 000 6z",...c}),by=c=>u.jsx(Ce,{path:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24M1 1l22 22",...c}),vy=c=>u.jsx(Ce,{path:"M5.2 9l-3 3 3 3M9 5.2l3-3 3 3M15 18.9l-3 3-3-3M18.9 9l3 3-3 3M3.3 12h17.4M12 3.2v17.6",...c}),v0=c=>u.jsx(Ce,{path:"M21 3H3v18h18V3zM5 5h14v14H5V5z M7 7h4v4H7V7zm6 0h4v4h-4V7zm-6 6h4v4H7v-4zm6 0h4v4h-4v-4z",fillRule:"evenodd",fill:"currentColor",...c}),py=c=>u.jsx(Ce,{path:"M9 11l3 3 10-10M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",...c}),D0=c=>u.jsx(Ce,{path:"M6 18L18 6M6 6l12 12",...c}),Sy=c=>u.jsx(Ce,{path:"M20 14.66V20a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2h5.34M18 2l4 4L12 16H8v-4L18 2z",...c}),Cy=c=>u.jsx(ay,{...c}),p0=c=>u.jsx(Ce,{path:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",...c}),wy=c=>u.jsx(Ce,{path:"M4 6h16M4 10h16M4 14h16M4 18h16",...c}),My=c=>u.jsx(Ce,{path:"M14 2l4 4L7 17H3v-4L14 2zM3 22h18",...c}),Ty=c=>u.jsx(Ce,{path:"M9 7h10a2 2 0 012 2v10a2 2 0 01-2 2H9a2 2 0 01-2-2V9a2 2 0 012-2zM5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1",...c}),Ey=c=>u.jsx(Ce,{path:"M6 3a3 3 0 100 6 3 3 0 000-6zM6 15a3 3 0 100 6 3 3 0 000-6zM20 4L8.12 15.88M14.47 14.48L20 20M8.12 8.12L12 12",...c}),jy=c=>u.jsx(Ce,{path:"M16 4h2a2 2 0 011 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2M9 2h6a1 1 0 011 1v2a1 1 0 01-1 1H9a1 1 0 01-1-1V3a1 1 0 011-1z",...c}),Ny=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor",children:u.jsx("path",{d:"M80 0v-160h800V0H80Zm140-280 210-560h100l210 560h-96l-50-144H368l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z"})}),Ay=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor",children:u.jsx("path",{d:"m247-904 57-56 343 343q23 23 23 57t-23 57L457-313q-23 23-57 23t-57-23L153-503q-23-23-23-57t23-57l190-191-96-96Zm153 153L209-560h382L400-751Zm360 471q-33 0-56.5-23.5T680-360q0-21 12.5-45t27.5-45q9-12 19-25t21-25q11 12 21 25t19 25q15 21 27.5 45t12.5 45q0 33-23.5 56.5T760-280ZM80 0v-160h800V0H80Z"})}),Ry=c=>u.jsx(Ce,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z",fill:"none",...c}),_y=c=>u.jsx(py,{...c}),Oy=c=>u.jsx(Ry,{strokeWidth:2,...c}),gl="#FAF9F6",Al="#374151",el="#1F2937",fl="#E5E7EB",Rl="transparent_grid_bg",Wl="theme_default_background",Sn="theme_default_symbol_color",fu=[{id:"empty",name:"empty",abbreviation:"",svgContent:'<rect width="100%" height="100%" fill="transparent" />',description:"Empty stitch"},{id:"knit",name:"knit",abbreviation:"K",svgContent:'<line x1="12" y1="4" x2="12" y2="20" stroke="currentColor" stroke-width="2.5"/ >',description:"Knit stitch (vertical line)"},{id:"purl",name:"purl",abbreviation:"P",svgContent:'<line x1="4" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="2.5"/ >',description:"Purl stitch (horizontal line)"},{id:"sl",name:"slip",abbreviation:"sl",svgContent:'<svg viewBox="-140 -140 828 828"><path d="M35.547 20 279.08 532M279.08 532L516.452 20" stroke="currentColor" stroke-width="75" stroke-linecap="round" /></svg>',description:"Slip stitch purlwise"},{id:"sl-wyif",name:"slip 1 wyif",abbreviation:"sl wyif",svgContent:'<svg viewBox="-140 -140 828 828"><path d="M35.547 20 279.08 532M279.08 532L516.452 20" stroke="currentColor" stroke-width="75" stroke-linecap="round" /><circle cx="280.02" cy="114.252" r="62.563" stroke-width="25" stroke-linecap="round" fill="currentColor"/></svg>',description:"Slip 1 stitch purlwise with yarn in front"},{id:"k-tbl",name:"K tbl",abbreviation:"k tbl",svgContent:'<svg viewBox="-125 -125 745 745" fill="rgb(255, 255, 255)"><path d="M468.825 477.648C372.159 476.314 83.492 274.314 83.492 124.98s280-145.332 280 50.668S28.825 468.314 28.825 468.314" stroke="currentColor" stroke-linecap="round" stroke-width="75" /></svg>',description:"Knit through back loop"},{id:"p-tbl",name:"P tbl",abbreviation:"p tbl",svgContent:'<svg viewBox="-125 -125 745 745" fill="rgb(255, 255, 255)"><path d="M468.825 477.648C372.159 476.314 83.492 274.314 83.492 124.98s280-145.332 280 50.668S28.825 468.314 28.825 468.314" stroke="currentColor" stroke-linecap="round" stroke-width="75" fill="none"/><circle cx="230" cy="160" r="50" stroke-width="25" stroke-linecap="round" fill="currentColor"/></svg>',description:"Purl through back loop"},{id:"m1r",name:"m1r",abbreviation:"m1r",svgContent:'<svg viewBox="-140 -140 828 828" background: rgb(255, 255, 255)><path stroke="currentColor" stroke-linecap="round" stroke-width="75" d="m20 20 256 256L532 20 20 532" fill="none" /></svg>',description:"Make 1 right leaning"},{id:"m1l",name:"m1l",abbreviation:"m1l",svgContent:'<svg viewBox="-140 -140 828 828" background: rgb(255, 255, 255)><path stroke="currentColor" stroke-linecap="round" stroke-width="75" d="M532 20 276 276 20 20l512 512" fill="none" /></svg>',description:"Make 1 left leaning"},{id:"m1pr",name:"m1pr",abbreviation:"m1pr",svgContent:'<svg viewBox="-140 -140 828 828" background: rgb(255, 255, 255)><path stroke="currentColor" stroke-linecap="round" stroke-width="75" d="m20 20 256 256L532 20 20 532" fill="none" /><circle cx="276" cy="84" r="64" stroke="#000000" stroke-miterlimit="10" stroke-width="1" /></svg>',description:"Make 1 purlwise right leaning."},{id:"m1pl",name:"m1pl",abbreviation:"m1pl",svgContent:'<svg viewBox="-140 -140 828 828" background: rgb(255, 255, 255)><path stroke="currentColor" stroke-linecap="round" stroke-width="75" d="M532 20 276 276 20 20l512 512" fill="none" /><circle cx="276" cy="96.598" r="64" stroke="#000000" stroke-width="1" /></svg>',description:"Make 1 purlwise left leaning."},{id:"yo",name:"yarn over",abbreviation:"yo",svgContent:'<svg viewBox="-140 -140 828 828"><circle cx="276" cy="276" r="256" stroke="currentColor" stroke-width="75" fill="none" /></svg>',description:"Yarn over"},{id:"k2tog",name:"k2tog",abbreviation:"k2tog",svgContent:'<svg viewBox="-140 -140 828 828"><path d="M532 20 20 532" stroke="currentColor" stroke-width="75" stroke-linecap="round" fill="none" /></svg>',description:"Knit 2 stitches together"},{id:"ssk",name:"slip, slip, knit",abbreviation:"ssk",svgContent:'<svg viewBox="-140 -140 828 828"><path d="M20 20 512 512" stroke="currentColor" stroke-width="75" stroke-linecap="round" fill="none" /></svg>',description:"Slip, slip, knit"},{id:"sk2p",name:"SK2P",abbreviation:"sk2p",svgContent:'<svg viewBox="-130.25 -140 781.5 828"><path d="M263.533 20 20 532m480.905 0L263.533 20" stroke="currentColor" stroke-width="75" stroke-linecap="round" fill="none" /></svg>',description:"Slip, knit 2 together, pass slipped stitch over"},{id:"p2tog",name:"Purl 2 Together",abbreviation:"p2tog",svgContent:'<svg viewBox="-140 -140 828 828"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="75" d="M532 20 20 532" /><circle cx="148" cy="148" r="64" /></svg>',description:"Purl 2 stitches together"},{id:"turn-rs",name:"Turn to RS",abbreviation:"turn-RS",svgContent:'<svg viewBox="0 0 512 512"><path d="M110.024 392.688h138.871M110.024 175.513h138.871m-140.871 0 94.058 94.058m0-188.116-94.058 94.058" stroke="currentColor" stroke-linecap="round" stroke-width="45" /><path d="M248.895 392.688c84.488 0 153.081-48.656 153.081-108.588S333.383 175.513 248.895 175.513" fill="none" stroke="currentColor" stroke-width="45" /></svg>',description:"Turn to Right Side"},{id:"turn-ws",name:"Turn to WS",abbreviation:"turn-WS",svgContent:'<svg viewBox="0 0 512 512"><path d="M401.976 392.688H263.105M401.976 175.513H263.105m138.871 0-94.058 94.058m0-188.116 94.058 94.058" stroke="currentColor" stroke-linecap="round" stroke-width="45" /><path d="M263.105 392.688c-84.488 0-153.081-48.656-153.081-108.588S178.617 175.513 263.105 175.513" fill="none" stroke="currentColor" stroke-width="45" /></svg>',description:"Turn to Wrong Side"}],zy=[{value:"•",name:"bullet"},{value:"■",name:"square"},{value:"●",name:"circle"},{value:"K",name:"letter K"},{value:"P",name:"letter P"},{value:"A",name:"letter A"},{value:"B",name:"letter B"},{value:"C",name:"letter C"},{value:"X",name:"letter X"},{value:"O",name:"letter O"},{value:"+",name:"plus Sign"},{value:"-",name:"minus Sign"},{value:"✅",name:"thumbs Up Emoji"},{value:"✨",name:"sparkles Emoji"}],zr=["⓪","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳"],Ts=20,Es=20,ru=200,ou=200,pn=28,$l="#D1D5DB",Jl="#4B5563",sn=30,Ae="key_empty_no_stitch",Bn="key_knit_default",ky="key_purl_default",S0=8,C0=8,Bl="__ABBR_SKIP__",Ms=()=>`key_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,js=()=>`sheet_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,U0=[{id:Bn,name:"Knit",abbreviation:"K",width:1,height:1,backgroundColor:gl,symbolColor:el,cells:[[null]]},{id:ky,name:"Purl",abbreviation:"P",width:1,height:1,backgroundColor:gl,symbolColor:el,cells:[[{type:"text",value:"•"}]]},{id:Ae,name:"No Stitch",abbreviation:Bl,width:1,height:1,backgroundColor:Rl,symbolColor:el,cells:[[null]]}],H0=(c,x)=>{const T={};for(let f=0;f<c;f++){T[f]={};for(let h=0;h<x;h++)T[f][h]={keyId:Bn,isAnchorCellForMxN:!1,keyPartRowOffset:0,keyPartColOffset:0}}return T},un=(c,x,T,f)=>{const h=H0(x,T),R=[...c].sort((S,N)=>{const b=f.find(C=>C.id===S.keyId),r=f.find(C=>C.id===N.keyId);if(!b||!r)return 0;const d=b.cells&&b.cells.flat().some(C=>C!==null)||b.lines&&b.lines.length>0,j=r.cells&&r.cells.flat().some(C=>C!==null)||r.lines&&r.lines.length>0;if(d&&!j)return-1;if(!d&&j)return 1;const v=b.width*b.height,K=r.width*r.height;return d===j&&K!==v?K-v:S.anchor.y!==N.anchor.y?S.anchor.y-N.anchor.y:S.anchor.x-N.anchor.x});for(const S of R){const N=f.find(b=>b.id===S.keyId);if(N)for(let b=0;b<N.height;b++)for(let r=0;r<N.width;r++){const d=S.anchor.y+b,j=S.anchor.x+r;d>=0&&d<x&&j>=0&&j<T&&(h[d][j]={keyId:S.keyId,isAnchorCellForMxN:b===0&&r===0&&(N.width>1||N.height>1),keyPartRowOffset:b,keyPartColOffset:r})}}return h},Ly=(c,x,T,f)=>c.filter(h=>!(!x.find(S=>S.id===h.keyId)||h.anchor.y>=T||h.anchor.x>=f)),B0=[],Dy=un(B0,Ts,Es,U0),w0={id:"base",name:"Base Layer",isVisible:!0,grid:Dy,keyPlacements:B0},Y0={rowCountVisibility:"right",colCountVisibility:"bottom"},di={id:js(),name:"Sheet 1",rows:Ts,cols:Es,orientation:"bottom-up",displaySettings:Y0,layers:[w0],activeLayerId:w0.id},M0=50,fi=[.5,.75,1,1.25,1.5,2],Uy=2,Dr=(c,x)=>({minR:c.y,maxR:c.y+x.height-1,minC:c.x,maxC:c.x+x.width-1}),V0=(c,x)=>c.minC<=x.maxC&&c.maxC>=x.minC&&c.minR<=x.maxR&&c.maxR>=x.minR,Hy=(c,x,T,f,h)=>{var b;const R=c.map(r=>r.anchor.y>=x?{...r,anchor:{...r.anchor,y:r.anchor.y+1}}:r),S=[],N=x===0?T[0]?0:-1:x-1;if(N>=0&&T[N])for(let r=0;r<h;r++){const d=(b=T[N])==null?void 0:b[r],j=(d==null?void 0:d.keyId)||Bn;S.push({anchor:{y:x,x:r},keyId:j})}else for(let r=0;r<h;r++)S.push({anchor:{y:x,x:r},keyId:Bn});return[...R,...S]},By=(c,x,T,f)=>c.filter(h=>!(!T.find(S=>S.id===h.keyId)||h.anchor.y===x)).map(h=>h.anchor.y>x?{...h,anchor:{...h.anchor,y:h.anchor.y-1}}:h),Yy=(c,x,T,f,h)=>{var b,r;const R=c.map(d=>d.anchor.x>=x?{...d,anchor:{...d.anchor,x:d.anchor.x+1}}:d),S=[],N=x===0?(b=T[0])!=null&&b[0]?0:-1:x-1;for(let d=0;d<h;d++){let j=Bn;if(N>=0&&((r=T[d])!=null&&r[N])){const v=T[d][N];v!=null&&v.keyId&&(j=v.keyId)}S.push({anchor:{y:d,x},keyId:j})}return[...R,...S]},Vy=(c,x,T,f)=>c.filter(h=>!(!T.find(S=>S.id===h.keyId)||h.anchor.x===x)).map(h=>h.anchor.x>x?{...h,anchor:{...h.anchor,x:h.anchor.x-1}}:h),Gy={sheets:[di],activeSheetId:di.id,keyPalette:U0},qy=(c,x)=>{let T="Sheet 1",f=1;for(;c.includes(T);)f++,T=`Sheet ${f}`;const h=[],S={id:"base",name:"Base Layer",isVisible:!0,grid:un(h,Ts,Es,x),keyPlacements:h};return{id:js(),name:T,rows:Ts,cols:Es,orientation:"bottom-up",displaySettings:{...Y0},layers:[S],activeLayerId:S.id}},Xy=({onUndo:c,canUndo:x,onRedo:T,canRedo:f,isDarkMode:h,toggleDarkMode:R,onOpenSettings:S,onOpenExportModal:N,onImport:b,onGenerateInstructions:r,currentZoom:d,onZoomChange:j,chartRows:v,chartCols:K})=>{const C=p.useMemo(()=>v>=100||K>=100?[.25,...fi]:fi,[v,K]),k=()=>{const q=C.indexOf(d);q<C.length-1&&j(C[q+1])},G=()=>{const q=C.indexOf(d);q>0&&j(C[q-1])};return u.jsxs("header",{className:"bg-neutral-50 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 shadow-md p-2 md:p-3 flex items-center justify-between print:hidden flex-shrink-0",children:[u.jsx("div",{className:"flex items-center sm:space-x-1 md:space-x-2",children:u.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-neutral-700 dark:text-neutral-200 whitespace-nowrap",style:{fontFamily:"'Cormorant Garamond', serif"},children:"Areum Knitlab"})}),u.jsxs("div",{className:"flex items-center sm:space-x-1 md:space-x-1.5",children:[u.jsx(Kt,{variant:"ghost",size:"sm",onClick:c,disabled:!x,title:"Undo (Ctrl+Z)",children:u.jsx(iy,{})}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:T,disabled:!f,title:"Redo (Ctrl+Y)",children:u.jsx(uy,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-0.5 sm:mx-1"}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:r,title:"Generate Written Instructions",children:u.jsx(hy,{})}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:N,title:"Export to JPG",children:u.jsx(my,{})})]}),u.jsxs("div",{className:"flex items-center sm:space-x-0.5 md:space-x-1",children:[u.jsx(Kt,{variant:"ghost",size:"sm",onClick:G,title:"Zoom Out",disabled:C.indexOf(d)===0,children:u.jsx(ry,{})}),u.jsxs("span",{className:"text-sm w-10 text-center tabular-nums",children:[Math.round(d*100),"%"]}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:k,title:"Zoom In",disabled:C.indexOf(d)===C.length-1,children:u.jsx(cy,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-0.5 sm:mx-1"}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:R,title:h?"Switch to Light Mode":"Switch to Dark Mode",children:h?u.jsx(oy,{}):u.jsx(fy,{})}),u.jsx(Kt,{variant:"ghost",size:"sm",onClick:S,title:"Sheet Settings",children:u.jsx(sy,{})})]})]})},Ky=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...c,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.045 3.045C5.308 2.462 4.27 2.636 3.688 3.373A5.932 5.932 0 002.438 6c0 .46.06.91.179 1.349A5.97 5.97 0 005.35 10.5h.159a.6.6 0 01.537.36L7.5 15l1.455-4.14a.6.6 0 01.537-.36h.158c1.463 0 2.807-.537 3.748-1.479A5.932 5.932 0 0015.562 6c0-.46-.06-.91-.179-1.349A5.97 5.97 0 0012.65 2.5h-.159a.6.6 0 01-.537-.36L10.5 0 9.045 1.14a.6.6 0 01-.537.36H8.35C6.887 1.5 5.543 2.037 4.602 2.979L6.045 3.045zm11.91 0C18.692 2.462 19.73 2.636 20.312 3.373A5.932 5.932 0 0121.562 6c0 .46-.06.91-.179 1.349A5.97 5.97 0 0118.65 10.5h.159a.6.6 0 00.537-.36L21 6l-1.455 4.14a.6.6 0 00-.537.36h-.158c-1.463 0-2.807.537-3.748 1.479A5.932 5.932 0 0012.438 6c0-.46.06-.91.179-1.349A5.97 5.97 0 0115.35 2.5h.159a.6.6 0 00.537-.36L17.5 0l1.455 1.14a.6.6 0 00.537.36h.158c1.463 0 2.807.537 3.748 1.479L17.955 3.045zM6.045 20.955C5.308 21.538 4.27 21.364 3.688 20.627A5.932 5.932 0 012.438 18c0-.46.06-.91.179-1.349A5.97 5.97 0 015.35 13.5h.159a.6.6 0 00.537.36L7.5 9l1.455 4.14a.6.6 0 00.537.36h.158c1.463 0 2.807.537 3.748 1.479A5.932 5.932 0 0115.562 18c0 .46-.06.91-.179 1.349A5.97 5.97 0 0112.65 21.5h-.159a.6.6 0 00-.537.36L10.5 24l-1.455-1.14a.6.6 0 00-.537-.36H8.35c-1.463 0-2.807-.537-3.748-1.479L6.045 20.955zm11.91 0c.737.583 1.775.409 2.357-.328A5.932 5.932 0 0021.562 18c0-.46-.06-.91-.179-1.349A5.97 5.97 0 0018.65 13.5h.159a.6.6 0 01.537.36L21 18l-1.455-4.14a.6.6 0 01-.537-.36h-.158c-1.463 0-2.807-.537-3.748-1.479A5.932 5.932 0 0012.438 18c0 .46.06.91.179 1.349A5.97 5.97 0 0015.35 21.5h.159a.6.6 0 01.537.36L17.5 24l1.455-1.14a.6.6 0 01.537-.36h.158c1.463 0 2.807-.537 3.748-1.479L17.955 20.955z"})}),Zy=({layers:c,activeLayerId:x,onLayerSelect:T,onAddLayer:f,onRemoveLayer:h,onToggleLayerVisibility:R,onSelectAllActiveLayer:S})=>u.jsxs("div",{className:"p-2 space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-neutral-600 dark:text-neutral-400 uppercase tracking-wider",children:"Layers"}),u.jsx(Kt,{size:"sm",variant:"ghost",onClick:f,title:"Add new layer",children:u.jsx(Ns,{})})]}),c.length===0&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No layers yet. Add one!"}),u.jsx("ul",{className:"space-y-1 max-h-48 overflow-y-auto",children:c.map((N,b)=>u.jsxs("li",{className:`group flex items-center justify-between p-2 rounded cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors
                        ${x===N.id?"bg-primary/20 dark:bg-primary-dark/30":""}`,onClick:()=>T(N.id),children:[u.jsx("span",{className:"text-sm truncate flex-grow",title:N.name,children:N.name||`Layer ${b+1}`}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[x===N.id&&u.jsx(Kt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),S()},title:"Select all in this layer (Ctrl+A behavior for layer)",className:"opacity-0 group-hover:opacity-100 focus:opacity-100",children:v0?u.jsx(v0,{}):u.jsx(Ky,{})}),u.jsx(Kt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),R(N.id)},title:N.isVisible?"Hide layer":"Show layer",children:N.isVisible?u.jsx(xy,{}):u.jsx(by,{})}),u.jsx(Kt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),h(N.id)},title:"Delete layer",className:"text-red-500 hover:text-red-700 disabled:opacity-50",disabled:c.length<=1,children:u.jsx(L0,{})})]})]},N.id))})]}),Qy=({sheets:c,activeSheetId:x,onSheetSelect:T,onAddSheet:f,onRemoveSheet:h,onRenameSheet:R})=>{const[S,N]=p.useState(null),[b,r]=p.useState(""),d=C=>{N(C.id),r(C.name)},j=()=>{S&&b.trim()&&R(S,b.trim()),N(null),r("")},v=()=>{N(null),r("")},K=C=>{if(c.length<=1){alert("Cannot delete the last sheet.");return}window.confirm("Are you sure you want to delete this sheet? This action cannot be undone.")&&h(C)};return u.jsxs("div",{className:"p-2 space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-neutral-600 dark:text-neutral-400 uppercase tracking-wider",children:"Sheets"}),u.jsx(Kt,{size:"sm",variant:"ghost",onClick:f,title:"Add new sheet",children:u.jsx(Ns,{})})]}),c.length===0&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No sheets. Add one!"}),u.jsx("ul",{className:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar",children:c.map(C=>u.jsxs("li",{className:`group flex items-center justify-between p-2 rounded cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors
                        ${x===C.id?"bg-primary/20 dark:bg-primary-dark/30":""}`,onClick:()=>S!==C.id&&T(C.id),children:[S===C.id?u.jsx("input",{type:"text",value:b,onChange:k=>r(k.target.value),onBlur:j,onKeyDown:k=>{k.key==="Enter"&&j(),k.key==="Escape"&&v()},className:"text-sm flex-grow bg-neutral-50 dark:bg-neutral-700 border border-primary px-1 py-0.5 rounded outline-none",autoFocus:!0}):u.jsx("span",{className:"text-sm truncate flex-grow",title:C.name,children:C.name}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2 opacity-0 group-hover:opacity-100 focus-within:opacity-100",children:[S!==C.id&&u.jsx(Kt,{size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),d(C)},title:"Rename sheet",children:u.jsx(My,{})}),u.jsx(Kt,{size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),K(C.id)},title:"Delete sheet",className:"text-red-500 hover:text-red-700 disabled:opacity-50",disabled:c.length<=1,children:u.jsx(L0,{})})]})]},C.id))})]})},Iy=[{id:"sheets",label:"Sheets",icon:u.jsx(wy,{})},{id:"layers",label:"Layers",icon:u.jsx(Cy,{})},{id:"image-import",label:"Image Import",icon:u.jsx(yy,{})}],ci=56,$y=224,Jy=200,Wy=450,Ss=c=>c!=="image-import",Py=c=>{const[x,T]=p.useState($y),[f,h]=p.useState(!1),R=p.useRef(null),S=Math.max(0,Jy-ci),N=Math.max(0,Wy-ci),b=C=>{C.preventDefault(),h(!0)},r=p.useCallback(()=>h(!1),[]),d=p.useCallback(C=>{if(!f||!R.current)return;const k=R.current.getBoundingClientRect();let q=C.clientX-k.left+(R.current.offsetLeft||0)-ci;q=Math.max(S,Math.min(N,q)),T(q)},[f,S,N]);p.useEffect(()=>(f?(document.addEventListener("mousemove",d),document.addEventListener("mouseup",r)):(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r)),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r)}),[f,d,r]);const j=C=>{if(C==="image-import"){c.onOpenImageProcessor();return}c.activeTab===C&&c.isSidebarContentVisible?c.onToggleSidebarContentVisibility():(c.onTabSelect(C),c.isSidebarContentVisible||c.onToggleSidebarContentVisibility())},v=()=>{switch(c.activeTab){case"sheets":return u.jsx(Qy,{sheets:c.allSheets,activeSheetId:c.activeSheetId,onSheetSelect:c.onSheetSelect,onAddSheet:c.onAddSheet,onRemoveSheet:c.onRemoveSheet,onRenameSheet:c.onRenameSheet});case"layers":return u.jsx(Zy,{layers:c.layers,activeLayerId:c.activeLayerId,onLayerSelect:c.onLayerSelect,onAddLayer:c.onAddLayer,onRemoveLayer:c.onRemoveLayer,onToggleLayerVisibility:c.onToggleLayerVisibility,onSelectAllActiveLayer:c.onSelectAllActiveLayer});default:return null}},K=c.isSidebarContentVisible&&Ss(c.activeTab)?ci+x:ci;return p.useEffect(()=>{c.onActualWidthChange&&c.onActualWidthChange(K)},[K,c.onActualWidthChange]),u.jsxs("div",{ref:R,className:"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 flex print:hidden relative transition-all duration-150 ease-in-out",style:{width:`${K}px`},children:[u.jsx("div",{className:"flex flex-col items-center bg-neutral-200 dark:bg-neutral-900 border-r border-neutral-300 dark:border-neutral-700 py-2 space-y-1 flex-shrink-0",style:{width:`${ci}px`},children:Iy.map(C=>{const G=Ss(C.id)&&c.activeTab===C.id&&c.isSidebarContentVisible;return u.jsx("button",{onClick:()=>j(C.id),title:C.label,className:`p-2.5 rounded-md w-10 h-10 flex items-center justify-center transition-colors
                          ${G?"bg-primary text-white":"hover:bg-neutral-300 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,"aria-label":C.label,"aria-selected":G,children:ja.cloneElement(C.icon,{className:"w-5 h-5"})},C.id)})}),c.isSidebarContentVisible&&Ss(c.activeTab)&&u.jsx("div",{className:"flex flex-col flex-grow overflow-hidden",style:{width:`${x}px`},children:u.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:v()})}),c.isSidebarContentVisible&&Ss(c.activeTab)&&u.jsx("div",{className:"absolute top-0 h-full w-2 cursor-col-resize flex items-center justify-center group",style:{right:"0px"},onMouseDown:b,children:u.jsx(gy,{className:"text-neutral-400 dark:text-neutral-500 group-hover:text-primary w-2.5 h-8 opacity-30 group-hover:opacity-100 transition-opacity"})})]})};var Ie=(c=>(c.Pen="pen",c.Select="select",c.Move="move",c))(Ie||{});const Br=({x:c,y:x,items:T,onClose:f})=>{const h=p.useRef(null);p.useEffect(()=>{const b=d=>{h.current&&!h.current.contains(d.target)&&f()},r=d=>{d.key==="Escape"&&f()};return document.addEventListener("mousedown",b),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",r)}},[f]);const R={position:"fixed",top:x,left:c,zIndex:1e3},[S,N]=ja.useState({top:x,left:c});return p.useEffect(()=>{if(h.current){const b=h.current.offsetWidth,r=h.current.offsetHeight;let d=x,j=c;c+b>window.innerWidth&&(j=window.innerWidth-b-5),x+r>window.innerHeight&&(d=window.innerHeight-r-5),j<0&&(j=0),d<0&&(d=0),N({top:d,left:j})}},[c,x,T]),u.jsx("div",{ref:h,className:"bg-neutral-50 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-lg py-1 min-w-max animate-fadeIn",style:{...R,top:S.top,left:S.left},children:T.map((b,r)=>b.isSeparator===!0?u.jsx("div",{className:"h-px bg-neutral-200 dark:bg-neutral-700 my-1 mx-1"},`sep-${r}`):u.jsxs("button",{onClick:()=>{b.action(),f()},disabled:b.disabled,className:"w-full text-left px-2.5 py-1.5 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-primary/20 dark:hover:bg-primary-dark/30 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:bg-primary/20 dark:focus:bg-primary-dark/30 transition-colors",children:[b.label," "]},`${b.label}-${r}`))})},Fy=250,t1=200,oa=new Map;function T0(c,x,T,f,h,R,S){const N=R??0,b=S??0;return`${c}_${x}_${T.toFixed(2)}_${f}_${h}_${N}_${b}`}function e1(){if(oa.size>Fy){const c=Array.from(oa.entries()).sort((x,T)=>x[1].lastUsed-T[1].lastUsed);for(let x=0;x<oa.size-t1;x++)oa.delete(c[x][0])}}async function l1(c,x,T,f){const h=document.createElement("canvas");h.width=Math.max(1,Math.ceil(T)),h.height=Math.max(1,Math.ceil(f));const R=h.getContext("2d");if(!R)return null;const S=`<svg xmlns="http://www.w3.org/2000/svg" width="${T}" height="${f}" viewBox="0 0 24 24" style="color: ${x};">${c}</svg>`;return new Promise(N=>{const b=new Image;b.onload=()=>{R.clearRect(0,0,T,f),R.drawImage(b,0,0,T,f),N(h)},b.onerror=()=>{console.warn("Failed to load SVG for caching. SVG:",c.substring(0,100)),R.fillStyle=x,R.font=`${Math.max(8,f*.6)}px sans-serif`,R.textAlign="center",R.textBaseline="middle",R.fillText("?",T/2,f/2),N(h)},b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(S)}`})}async function Cs(c,x,T=fu,f,h,R,S,N,b){if(!x||R<=0)return;const r=N??0,d=b??0;let j=x.symbolColor;x.symbolColor===Sn&&(j=S?fl:el);const v=R*.85,K=f+(R-v)/2,C=h+(R-v)/2;let k,G;if(x.lines&&x.lines.length>0)G="lines_content",k=T0(x.id,G,R,j,S,r,d);else if(x.cells&&x.cells[r]&&x.cells[r][d]){const X=x.cells[r][d];if(!X)return;G=X.type==="svg"?X.value:`text_${X.value.charAt(0)}`,k=T0(x.id,G,v,j,S,r,d)}else return;const q=oa.get(k);if(q){q.lastUsed=Date.now();const X=x.lines&&x.lines.length>0?f:K,lt=x.lines&&x.lines.length>0?h:C;c.drawImage(q.canvas,X,lt);return}let rt=null;if(x.lines&&x.lines.length>0){const X=document.createElement("canvas");X.width=Math.max(1,Math.ceil(R)),X.height=Math.max(1,Math.ceil(R));const lt=X.getContext("2d");if(lt){lt.strokeStyle=j,lt.lineWidth=Math.max(1,R*.08),lt.lineCap="round";for(const ct of x.lines){const Dt=(ct.start.x-d)*R,ot=(ct.start.y-r)*R,pt=(ct.end.x-d)*R,Zt=(ct.end.y-r)*R;lt.beginPath(),lt.moveTo(Dt,ot),lt.lineTo(pt,Zt),lt.stroke()}rt=X}}else if(x.cells&&x.cells[r]&&x.cells[r][d]){const X=x.cells[r][d];if(X.type==="svg"){const lt=T.find(ct=>ct.id===X.value);lt!=null&&lt.svgContent&&(rt=await l1(lt.svgContent,j,v,v))}else if(X.type==="text"){const lt=document.createElement("canvas");lt.width=Math.max(1,Math.ceil(v)),lt.height=Math.max(1,Math.ceil(v));const ct=lt.getContext("2d");if(ct){ct.fillStyle=j;const Dt=Math.max(8,v*.7);ct.font=`${Dt}px 'Roboto Mono', monospace`,ct.textAlign="center",ct.textBaseline="middle",ct.fillText(X.value.charAt(0),v/2,v/2),rt=lt}}}if(rt){oa.set(k,{canvas:rt,lastUsed:Date.now()}),e1();const X=x.lines&&x.lines.length>0?f:K,lt=x.lines&&x.lines.length>0?h:C;c.drawImage(rt,X,lt)}}function n1(){const c=[];oa.forEach((x,T)=>{(T.includes(Sn)||T.includes(fl)||T.includes(el)||T.includes("_true_")||T.includes("_false_"))&&c.push(T)}),c.forEach(x=>oa.delete(x))}const a1=({chartState:c,keyPalette:x,activeTool:T,allSymbols:f,isDarkMode:h,zoomLevel:R,setZoomLevel:S,effectiveZoomLevels:N,viewOffset:b,onViewOffsetChange:r,canvasSize:d,selection:j,isActuallyDrawingSel:v,selectionDragAnchorForCanvas:K,isActuallyDraggingSel:C,draggedCellsPreviewInfo:k,dragPreviewSnappedGridPosition:G,onSelectionChange:q,onCellAction:rt,onSelectionDragStart:X,onSelectionDragMove:lt,onSelectionDragEnd:ct,onRequestApplyActiveKeyToSelection:Dt,onRequestClearAllInSelection:ot,onInsertRow:pt,onDeleteRow:Zt,onInsertColumn:jt,onDeleteColumn:bt,selectAllActiveLayerFlag:Mt,onSelectAllProcessed:Gt,onCopySelection:qt,onCutSelection:Bt,onPasteFromClipboard:D,canPaste:W,isPreviewingPaste:yt,pastePreviewInfo:Ot,pastePreviewAnchor:m,hoveredCanvasCell:Z,onHoveredCellChange:st,onPastePreviewMove:ut,onPastePreviewFinalize:mt,onPastePreviewCancel:St,activeKeyId:Ct,onPenDragSessionStart:ve,onPenDragSessionContinue:F,onPenDragSessionEnd:fe})=>{const{rows:$t,cols:Ut,layers:il,activeLayerId:pe,orientation:ll,displaySettings:Jt}=c,we=il.find(et=>et.id===pe),ke=p.useRef(null),xl=p.useRef(null),Ye=p.useRef(null),$e=p.useRef(null),[Ve,bl]=p.useState(!1),[vl,Je]=p.useState(!1),[pl,ee]=p.useState(null),[Yt,We]=p.useState(null),[V,ft]=p.useState(null),Q=pn*R,Tt=x.find(et=>et.id===Ae)||{id:Ae,name:"No Stitch",width:1,height:1,backgroundColor:Rl,symbolColor:h?fl:el},gt=Jt.rowCountVisibility==="left"||Jt.rowCountVisibility==="both"||Jt.rowCountVisibility==="alternating-left"||Jt.rowCountVisibility==="alternating-right"?sn:0,A=Jt.rowCountVisibility==="right"||Jt.rowCountVisibility==="both"||Jt.rowCountVisibility==="alternating-left"||Jt.rowCountVisibility==="alternating-right"?sn:0,Y=Jt.colCountVisibility==="top"||Jt.colCountVisibility==="both"?sn:0,nt=Jt.colCountVisibility==="bottom"||Jt.colCountVisibility==="both"?sn:0,vt=Ut*Q,Nt=$t*Q,Xt=gt+vt+A,Me=Y+Nt+nt,Ue=p.useCallback(et=>{let z=et.x,Rt=et.y;Xt<=d.width?z=Math.max(0,Math.min(et.x,d.width-Xt)):z=Math.max(d.width-Xt,Math.min(0,et.x)),Me<=d.height?Rt=Math.max(0,Math.min(et.y,d.height-Me)):Rt=Math.max(d.height-Me,Math.min(0,et.y)),r({x:z,y:Rt})},[Xt,Me,d.width,d.height,r]),ge=h?Jl:$l,Tl=p.useCallback(async(et,z,Rt)=>{if(!ke.current||!we)return;const Et=ke.current.getContext("2d");if(!Et)return;const At=gt+z*Q,ht=Y+et*Q;Et.save(),Et.translate(b.x,b.y),Et.clearRect(At,ht,Q,Q);let kt=Rt.backgroundColor;kt===Rl?kt=h?Jl:$l:kt===Wl&&(kt=h?Al:gl),Et.fillStyle=kt,Et.fillRect(At,ht,Q,Q),Rt&&Rt.id!==Ae&&await Cs(Et,Rt,f,At,ht,Q,h,0,0),Et.strokeStyle=ge,Et.lineWidth=1,Et.beginPath();const Pt=Math.round(At+Q)+.5,he=Math.round(ht+Q)+.5,se=Math.round(At)+.5,Vt=Math.round(ht)+.5;Et.moveTo(Pt,Vt-.5),Et.lineTo(Pt,he),Et.lineTo(se-.5,he),Et.stroke(),Et.restore()},[we,x,Q,h,f,gt,Y,ge,b,Tt]),ue=p.useCallback(async()=>{var se;if(!ke.current||!we||d.width===0||d.height===0)return;const et=ke.current,z=et.getContext("2d");if(!z)return;et.width=d.width,et.height=d.height,z.fillStyle=h?"#1F2937":"#FCFCFC",z.fillRect(0,0,et.width,et.height),z.save(),z.translate(b.x,b.y),gt>0&&z.fillRect(0,Y,gt,Nt),Y>0&&z.fillRect(gt,0,vt,Y),A>0&&z.fillRect(gt+vt,Y,A,Nt),nt>0&&z.fillRect(gt,Y+Nt,vt,nt);const Rt=Math.max(0,Math.floor((-b.x-gt)/Q)),Et=Math.min(Ut,Math.ceil((-b.x-gt+d.width)/Q)),At=Math.max(0,Math.floor((-b.y-Y)/Q)),ht=Math.min($t,Math.ceil((-b.y-Y+d.height)/Q)),kt=[];for(let Vt=At;Vt<ht;Vt++)for(let le=Rt;le<Et;le++){const ce=gt+le*Q,Xe=Y+Vt*Q,ae=(se=we.grid[Vt])==null?void 0:se[le],Yl=ae!=null&&ae.keyId&&x.find(hi=>hi.id===ae.keyId)||Tt;let El=Yl.backgroundColor;El===Rl?El=h?Jl:$l:El===Wl&&(El=h?Al:gl),z.fillStyle=El,z.fillRect(ce,Xe,Q,Q),Yl&&Yl.id!==Ae&&kt.push(Cs(z,Yl,f,ce,Xe,Q,h,ae==null?void 0:ae.keyPartRowOffset,ae==null?void 0:ae.keyPartColOffset))}await Promise.all(kt),z.strokeStyle=ge,z.lineWidth=1;for(let Vt=At;Vt<=ht;Vt++){z.beginPath();const le=Math.round(Y+Vt*Q)+.5,ce=Math.round(gt+Rt*Q)+.5,Xe=Math.round(gt+Et*Q)+.5;z.moveTo(ce-.5,le),z.lineTo(Xe-.5,le),z.stroke()}for(let Vt=Rt;Vt<=Et;Vt++){z.beginPath();const le=Math.round(gt+Vt*Q)+.5,ce=Math.round(Y+At*Q)+.5,Xe=Math.round(Y+ht*Q)+.5;z.moveTo(le,ce-.5),z.lineTo(le,Xe-.5),z.stroke()}z.fillStyle=h?fl:el;const Pt=Math.max(8,Math.min(14,Q*.4*Math.max(.5,1/R)));z.font=`${Pt}px sans-serif`,z.textAlign="center",z.textBaseline="middle";const he=Vt=>ll==="bottom-up"?$t-Vt:Vt+1;for(let Vt=At;Vt<ht;Vt++){const le=he(Vt),ce=Y+Vt*Q+Q/2;-b.y<=ce&&ce<=-b.y+d.height&&((Jt.rowCountVisibility==="left"||Jt.rowCountVisibility==="both"||Jt.rowCountVisibility==="alternating-left"&&le%2!==0||Jt.rowCountVisibility==="alternating-right"&&le%2===0)&&gt>0&&z.fillText(String(le),gt/2,ce),(Jt.rowCountVisibility==="right"||Jt.rowCountVisibility==="both"||Jt.rowCountVisibility==="alternating-right"&&le%2!==0||Jt.rowCountVisibility==="alternating-left"&&le%2===0)&&A>0&&z.fillText(String(le),gt+vt+A/2,ce))}for(let Vt=Rt;Vt<Et;Vt++){const le=Vt+1,ce=gt+Vt*Q+Q/2;-b.x<=ce&&ce<=-b.x+d.width&&((Jt.colCountVisibility==="top"||Jt.colCountVisibility==="both")&&Y>0&&z.fillText(String(le),ce,Y/2),(Jt.colCountVisibility==="bottom"||Jt.colCountVisibility==="both")&&nt>0&&z.fillText(String(le),ce,Y+Nt+nt/2))}z.restore()},[we,x,f,h,R,b,d,$t,Ut,Jt,ll,Tt,Q,vt,Nt,gt,Y,A,nt,ge]),Re=p.useCallback(async()=>{if(!xl.current||!we||d.width===0||d.height===0)return;const et=xl.current,z=et.getContext("2d");if(!z)return;if(et.width=d.width,et.height=d.height,z.save(),z.translate(b.x,b.y),j){const At={start:{x:Math.min(j.start.x,j.end.x),y:Math.min(j.start.y,j.end.y)},end:{x:Math.max(j.start.x,j.end.x),y:Math.max(j.start.y,j.end.y)}};z.strokeStyle=h?"#F7A17F":"#E3815D",z.lineWidth=2/R,z.strokeRect(gt+At.start.x*Q,Y+At.start.y*Q,(At.end.x-At.start.x+1)*Q,(At.end.y-At.start.y+1)*Q)}Z&&!yt&&!Ve&&!vl&&!j&&!C&&!v&&T!==Ie.Move&&(z.fillStyle=h?"rgba(42, 157, 177, 0.3)":"rgba(118, 196, 213, 0.2)",z.fillRect(gt+Z.x*Q,Y+Z.y*Q,Q,Q));const Rt=[];if(C&&k&&G){z.globalAlpha=.6;for(const At of k.relativeKeyInstances){const ht=x.find(he=>he.id===At.keyId);if(!ht)continue;const kt=G.x+At.anchor.x,Pt=G.y+At.anchor.y;for(let he=0;he<ht.height;he++)for(let se=0;se<ht.width;se++){const Vt=Pt+he,le=kt+se;if(Vt>=0&&Vt<$t&&le>=0&&le<Ut){const ce=gt+le*Q,Xe=Y+Vt*Q;let ae=ht.backgroundColor;ae===Rl?ae=h?Jl:$l:ae===Wl&&(ae=h?Al:gl),z.fillStyle=ae,z.fillRect(ce,Xe,Q,Q),ht.id!==Ae&&Rt.push(Cs(z,ht,f,ce,Xe,Q,h,he,se))}}}await Promise.all(Rt),z.globalAlpha=1}const Et=[];if(yt&&Ot&&m){z.globalAlpha=.6;for(const At of Ot.relativeKeyInstances){const ht=x.find(he=>he.id===At.keyId);if(!ht)continue;const kt=m.x+At.anchor.x,Pt=m.y+At.anchor.y;for(let he=0;he<ht.height;he++)for(let se=0;se<ht.width;se++){const Vt=Pt+he,le=kt+se;if(Vt>=0&&Vt<$t&&le>=0&&le<Ut){const ce=gt+le*Q,Xe=Y+Vt*Q;let ae=ht.backgroundColor;ae===Rl?ae=h?Jl:$l:ae===Wl&&(ae=h?Al:gl),z.fillStyle=ae,z.fillRect(ce,Xe,Q,Q),ht.id!==Ae&&Et.push(Cs(z,ht,f,ce,Xe,Q,h,he,se))}}}await Promise.all(Et),z.globalAlpha=1}z.restore()},[we,j,h,b,Q,d,$t,Ut,R,C,k,G,x,f,yt,Ot,m,Z,Ve,vl,T,gt,Y]);p.useEffect(()=>{ue().then(()=>Re())},[ue]),p.useEffect(()=>{Re()},[Re]),p.useEffect(()=>{if(Mt&&we&&we.id===pe){const et={start:{x:0,y:0},end:{x:Ut-1,y:$t-1}};q(et,!1,{x:Ut-1,y:$t-1}),Gt()}},[Mt,pe,$t,Ut,Gt,q,we]);const Ge=p.useCallback(et=>{if(!Ye.current)return null;const z=Ye.current.getBoundingClientRect(),Rt=et.clientX-z.left,Et=et.clientY-z.top,At=Math.floor((Rt-b.x-gt)/Q),ht=Math.floor((Et-b.y-Y)/Q);return{x:At,y:ht}},[b.x,b.y,gt,Y,Q]),qe=p.useCallback(async et=>{if(Ct){const z=x.find(Rt=>Rt.id===Ct);z&&(await Tl(et.y,et.x,z),rt(et,z))}},[Ct,x,rt,Tl]),dl=async et=>{var Et;ft(null);const z=Ge(et);if(!z)return;const Rt=z.x>=0&&z.x<Ut&&z.y>=0&&z.y<$t;if(yt){et.button===0?mt():et.button===2&&St();return}if(Yt&&et.target.closest("button[data-gutter-control]")){et.stopPropagation();return}if(Rt)if(et.button===0)if(T===Ie.Pen)bl(!0),ve(),await qe(z),F();else if(T===Ie.Select){let At=!1;const ht=j?{start:{x:Math.min(j.start.x,j.end.x),y:Math.min(j.start.y,j.end.y)},end:{x:Math.max(j.start.x,j.end.x),y:Math.max(j.start.y,j.end.y)}}:null;if(ht&&z.x>=ht.start.x&&z.x<=ht.end.x&&z.y>=ht.start.y&&z.y<=ht.end.y&&(At=!0),At&&j&&we&&ht){const kt=ht.end.x-ht.start.x+1,Pt=ht.end.y-ht.start.y+1,he=[];for(let Vt=0;Vt<Pt;Vt++)for(let le=0;le<kt;le++){const ce=ht.start.y+Vt,Xe=ht.start.x+le,ae=(Et=we.grid[ce])==null?void 0:Et[Xe];if(ae!=null&&ae.keyId){const Yl=x.find(El=>El.id===ae.keyId);Yl&&(ae.isAnchorCellForMxN||Yl.width===1&&Yl.height===1)&&(he.some(El=>El.keyId===ae.keyId&&El.anchor.x===le&&El.anchor.y===Vt)||he.push({anchor:{y:Vt,x:le},keyId:ae.keyId}))}}const se={relativeKeyInstances:he,width:kt,height:Pt,originalStartCoords:ht.start};X(se,z,et)}else q({start:z,end:z},!0,z);bl(!1)}else T===Ie.Move&&(bl(!1),ee({x:et.clientX,y:et.clientY}));else et.button===1&&(et.preventDefault(),Je(!0),ee({x:et.clientX,y:et.clientY}));else et.button===0?T===Ie.Select&&j?q(null,!1,void 0):T===Ie.Move&&(bl(!1),ee({x:et.clientX,y:et.clientY})):et.button===1&&(et.preventDefault(),Je(!0),ee({x:et.clientX,y:et.clientY}))},zl=et=>{if(Ye.current){const ht=Ye.current.getBoundingClientRect(),kt=et.clientX-ht.left,Pt=et.clientY-ht.top;$e.current={xInCanvas:kt,yInCanvas:Pt,xInPannable:kt-b.x,yInPannable:Pt-b.y}}const z=Ge(et);if(!z){st(null);return}const Rt=z.x>=0&&z.x<Ut&&z.y>=0&&z.y<$t,Et=8/R;let At=null;if(Ye.current&&$e.current){const{xInPannable:ht,yInPannable:kt}=$e.current;for(let Pt=0;Pt<=$t;Pt++){const he=Y+Pt*Q;if(Math.abs(kt-he)<Et&&(gt>0&&ht>=0&&ht<gt||A>0&&ht>=gt+vt&&ht<Xt)){At={type:"row",index:Pt,displayNumber:He(Pt<$t?Pt:Pt-1,"row").displayNumber};break}}if(!At)for(let Pt=0;Pt<=Ut;Pt++){const he=gt+Pt*Q;if(Math.abs(ht-he)<Et&&(Y>0&&kt>=0&&kt<Y||nt>0&&kt>=Y+Nt&&kt<Me)){At={type:"col",index:Pt,displayNumber:He(Pt<Ut?Pt:Pt-1,"col").displayNumber};break}}}if(We(At),Rt&&!At?(!C&&!Ve&&!v&&T!==Ie.Move?st(z):st(null),yt&&ut(z)):At||(st(null),yt&&ut(z)),C)lt(z,et);else if(v&&T===Ie.Select&&K){const ht=Math.max(0,Math.min(Ut-1,z.x)),kt=Math.max(0,Math.min($t-1,z.y));q({start:K,end:{x:ht,y:kt}},!0,{x:ht,y:kt})}else if(vl&&pl){const ht=et.clientX-pl.x,kt=et.clientY-pl.y;Ue({x:b.x+ht,y:b.y+kt}),ee({x:et.clientX,y:et.clientY})}else if(T===Ie.Move&&pl&&et.buttons===1){const ht=et.clientX-pl.x,kt=et.clientY-pl.y;Ue({x:b.x+ht,y:b.y+kt}),ee({x:et.clientX,y:et.clientY})}else Ve&&Rt&&T===Ie.Pen&&qe(z)},Wt=p.useCallback(et=>{Ve&&(bl(!1),fe()),vl&&Je(!1),pl&&ee(null);const z=Ge(et);if(C&&G)ct(G,et);else if(v&&K){const Rt=z?{x:Math.max(0,Math.min(Ut-1,z.x)),y:Math.max(0,Math.min($t-1,z.y))}:K;q({start:K,end:Rt},!1,Rt)}},[Ve,vl,pl,C,ct,G,v,K,q,Ut,$t,Ge,fe]);p.useEffect(()=>(document.addEventListener("mouseup",Wt),()=>document.removeEventListener("mouseup",Wt)),[Wt]),p.useEffect(()=>{const et=Rt=>{Rt.preventDefault();const Et=Rt.deltaY<0?1:-1;let ht=N.indexOf(R)+Et;ht=Math.max(0,Math.min(N.length-1,ht)),N[ht]!==R?S(N[ht]):Ue({x:b.x-Rt.deltaX,y:b.y-Rt.deltaY})},z=Ye.current;return z&&z.addEventListener("wheel",et,{passive:!1}),()=>{z&&z.removeEventListener("wheel",et)}},[N,R,S,b,Ue]);const me=et=>{var Et;if(et.preventDefault(),yt){St();return}if(C||v){ft(null);return}ft(null);let z=[];if(Yt&&(Yt.type==="row"||Yt.type==="col")&&Yt){const{type:At,index:ht,displayNumber:kt}=Yt;At==="row"?(z.push({label:`Insert Row Before ${kt}`,action:()=>pt(ht)}),z.push({label:`Insert Row After ${kt}`,action:()=>pt(ht+1)}),$t>1&&z.push({label:`Delete Row ${kt}`,action:()=>Zt(ht),disabled:$t<=1})):(z.push({label:`Insert Column Before ${kt}`,action:()=>jt(ht)}),z.push({label:`Insert Column After ${kt}`,action:()=>jt(ht+1)}),Ut>1&&z.push({label:`Delete Column ${kt}`,action:()=>bt(ht),disabled:Ut<=1}))}else j?(z.push({label:"Copy (Ctrl+C)",action:qt,disabled:!j},{label:"Cut (Ctrl+X)",action:Bt,disabled:!j},{label:"Paste (Ctrl+V)",action:D,disabled:!W}),z.push({isSeparator:!0}),z.push({label:"Apply Active Key to Selection",action:Dt,disabled:!Ct}),z.push({label:'Apply "No Stitch" to Selection',action:ot}),z.push({isSeparator:!0}),z.push({label:"Deselect Area",action:()=>q(null,!1,void 0)})):z.push({label:"Paste (Ctrl+V)",action:D,disabled:!W});z.length>0&&((Et=z[z.length-1])!=null&&Et.isSeparator)&&z.pop(),z.length>0&&ft({visible:!0,x:et.clientX,y:et.clientY,items:z})};let de="crosshair";T===Ie.Select&&!v?de=C?"grabbing":"cell":(T===Ie.Move||vl)&&(de=vl||T===Ie.Move&&pl?"grabbing":"grab"),yt&&(de="copy");const He=(et,z)=>{const Rt=z==="row"&&ll==="bottom-up"?$t-et:et+1;let Et=!0;return z==="row"&&(Jt.rowCountVisibility==="alternating-left"&&(Et=Rt%2!==0),Jt.rowCountVisibility==="alternating-right"&&(Et=Rt%2===0)),{displayNumber:Rt,isPrimaryDirection:Et}},ul=(et,z,Rt)=>{const{displayNumber:Et}=He(z<(et==="row"?$t:Ut)?z:z-1,et),At=et==="row"?z===$t:z===Ut;return u.jsxs("div",{style:{...Rt,display:"flex",flexDirection:et==="row"?"row":"column",gap:"2px",zIndex:15,pointerEvents:"auto"},children:[u.jsx("button",{"data-gutter-control":!0,onClick:()=>et==="row"?pt(z):jt(z),className:"p-0.5 rounded bg-neutral-200/80 dark:bg-neutral-700/80 hover:bg-primary/40 dark:hover:bg-primary-dark/50 text-neutral-700 dark:text-neutral-200 hover:text-primary-dark dark:hover:text-primary-light transition-colors shadow-md",title:`Insert ${et} here`,"aria-label":`Insert ${et}`,children:u.jsx(Ns,{size:14})}),!At&&(et==="row"?$t>1:Ut>1)&&u.jsx("button",{"data-gutter-control":!0,onClick:()=>et==="row"?Zt(z):bt(z),className:"p-0.5 rounded bg-neutral-200/80 dark:bg-neutral-700/80 hover:bg-red-500/40 dark:hover:bg-red-400/50 text-neutral-700 dark:text-neutral-200 hover:text-red-700 dark:hover:text-red-500 transition-colors shadow-md",title:`Delete ${et} ${Et}`,"aria-label":`Delete ${et}`,children:u.jsx(D0,{size:14})})]})};return u.jsxs("div",{ref:Ye,className:"w-full h-full bg-neutral-200 dark:bg-neutral-800 overflow-hidden relative select-none touch-none",style:{cursor:de},onContextMenu:me,onMouseMove:zl,onMouseDown:dl,onMouseLeave:()=>{st(null),We(null),Ve&&(bl(!1),fe())},"aria-label":"Knitting Chart Canvas",role:"application",children:[u.jsx("canvas",{ref:ke,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},"aria-hidden":"true"}),u.jsx("canvas",{ref:xl,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},"aria-hidden":"true"}),u.jsxs("div",{style:{position:"absolute",left:b.x,top:b.y,width:Xt,height:Me,pointerEvents:"none",zIndex:5},children:[Array.from({length:$t+1}).map((et,z)=>{if(!((Yt==null?void 0:Yt.type)==="row"&&Yt.index===z))return null;let Rt=!1,Et=!1;const At=Jt.rowCountVisibility;return At==="left"?Rt=!0:At==="right"?Et=!0:(At==="both"||At==="alternating-left"||At==="alternating-right")&&(Rt=!0,Et=!0),gt===0&&(Rt=!1),A===0&&(Et=!1),u.jsxs(ja.Fragment,{children:[Rt&&ul("row",z,{position:"absolute",top:`${Y+z*Q-10}px`,left:`${gt/2-20}px`}),Et&&ul("row",z,{position:"absolute",top:`${Y+z*Q-10}px`,left:`${gt+vt+A/2-20}px`})]},`row-gutter-controls-${z}`)}),Array.from({length:Ut+1}).map((et,z)=>{var kt;if(!((Yt==null?void 0:Yt.type)==="col"&&Yt.index===z))return null;let Rt=!1,Et=!1;const At=Jt.colCountVisibility,ht=(kt=$e.current)==null?void 0:kt.yInPannable;return At==="top"?Rt=!0:At==="bottom"?Et=!0:At==="both"&&(ht!==void 0?ht>=0&&ht<Y?Rt=!0:ht>=Y+Nt&&ht<Me?Et=!0:ht<Y+Nt/2?Rt=!0:Et=!0:(Rt=!0,Et=!0)),Y===0&&(Rt=!1),nt===0&&(Et=!1),u.jsxs(ja.Fragment,{children:[Rt&&ul("col",z,{position:"absolute",left:`${gt+z*Q-10}px`,top:`${Y/2-20}px`}),Et&&ul("col",z,{position:"absolute",left:`${gt+z*Q-10}px`,top:`${Y+Nt+nt/2-20}px`})]},`col-gutter-controls-${z}`)})]}),(V==null?void 0:V.visible)&&u.jsx(Br,{x:V.x,y:V.y,items:V.items,onClose:()=>ft(null)})]})},Na=({isOpen:c,onClose:x,title:T,children:f,size:h="md",footer:R})=>{if(!c)return null;let S="";switch(h){case"sm":S="max-w-sm";break;case"md":S="max-w-md";break;case"lg":S="max-w-lg";break;case"xl":S="max-w-xl";break;case"full":S="max-w-full w-11/12";break;default:S="max-w-md"}return u.jsx("div",{className:"fixed inset-0 bg-neutral-800 bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,children:u.jsxs("div",{className:`bg-neutral-50 dark:bg-neutral-800 rounded-lg shadow-xl p-6 ${S} w-full animate-slideUp flex flex-col max-h-[90vh]`,onClick:N=>N.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[typeof T=="string"?u.jsx("h2",{className:"text-xl font-semibold text-neutral-800 dark:text-neutral-100 flex-grow",children:T}):u.jsx("div",{className:"flex-grow",children:T}),u.jsx("button",{onClick:x,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 transition-colors ml-2 flex-shrink-0","aria-label":"Close modal",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-grow overflow-y-auto mb-4",children:f}),R&&u.jsx("div",{className:"mt-auto pt-4 border-t border-neutral-200 dark:border-neutral-700",children:R})]})})},i1=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#000000","#FFFFFF","#808080","#C0C0C0","#A52A2A","#FFC0CB","#ADD8E6","#90EE90"],E0=({initialColor:c="#000000",onChange:x})=>{const[T,f]=p.useState(c);p.useEffect(()=>{f(c)},[c]);const h=S=>{const N=S.target.value.toUpperCase();f(N),x(N)},R=S=>{const N=S.toUpperCase();f(N),x(N)};return u.jsxs("div",{className:"flex items-center space-x-2",children:[" ",u.jsx("input",{type:"color",value:T,onChange:h,className:"w-8 h-8 p-0 border border-neutral-300 dark:border-neutral-600 rounded-md cursor-pointer flex-shrink-0","aria-label":"Select active color"}),u.jsx("div",{className:"grid grid-cols-8 gap-1",children:i1.map(S=>u.jsx("button",{type:"button",title:S,onClick:()=>R(S),className:`w-5 h-5 rounded border border-neutral-300 dark:border-neutral-600 ${T.toUpperCase()===S?"ring-2 ring-primary ring-offset-1 dark:ring-offset-neutral-800":""}`,style:{backgroundColor:S},"aria-label":`Select color ${S}`},S))})]})},j0=(c,x,T)=>{var N;if(!(c!=null&&c.svgContent))return null;const f=.85,h=`${x*f}px`,R=`${x*f}px`;if(c.svgContent.includes("<svg"))return u.jsx("div",{style:{width:h,height:R},dangerouslySetInnerHTML:{__html:c.svgContent}});const S=c.viewBox||((N=c.svgContent.match(/viewBox\s*=\s*["']([^"']+)["']/))==null?void 0:N[1])||"0 0 24 24";return u.jsx("svg",{width:h,height:R,viewBox:S,style:{color:T},dangerouslySetInnerHTML:{__html:c.svgContent}})},Ur=({keyDef:c,allStitchSymbols:x=fu,className:T="",cellSize:f=24,keyPartRowOffset:h,keyPartColOffset:R,isDarkMode:S=!1})=>{if(!c)return u.jsx("div",{className:`w-full h-full ${T}`,style:{backgroundColor:"transparent"}});const{width:N,height:b,symbolColor:r,lines:d,cells:j}=c;let v=r;r===Sn&&(v=S?fl:el);const K={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",userSelect:"none",position:"relative",color:v};if(h!==void 0&&R!==void 0&&(N>1||b>1)){const C=h,k=R;if(d&&d.length>0)return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`${k*f} ${C*f} ${f} ${f}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},preserveAspectRatio:"xMidYMid meet",children:d.map((G,q)=>u.jsx("line",{x1:G.start.x*f,y1:G.start.y*f,x2:G.end.x*f,y2:G.end.y*f,stroke:v,strokeWidth:Math.max(1,f*.08),strokeLinecap:"round"},`key-line-part-${q}`))})});if(j&&j[C]&&j[C][k]){const G=j[C][k];if((G==null?void 0:G.type)==="svg"){const q=x.find(rt=>rt.id===G.value);return u.jsx("div",{style:K,className:T,title:c.name,children:q?j0(q,f,v):null})}else if((G==null?void 0:G.type)==="text"){const q=Math.max(8,f*.6);return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("span",{style:{fontSize:q,lineHeight:"1",fontFamily:"monospace",color:v},children:G.value.charAt(0)})})}}return u.jsx("div",{className:`w-full h-full ${T}`,title:c.name,style:{backgroundColor:"transparent"}})}else if(N===1&&b===1){if(d&&d.length>0)return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${f} ${f}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:d.map((C,k)=>u.jsx("line",{x1:C.start.x*f,y1:C.start.y*f,x2:C.end.x*f,y2:C.end.y*f,stroke:v,strokeWidth:Math.max(1,f*.08),strokeLinecap:"round"},`key-line-1x1-${k}`))})});if(j&&j[0]&&j[0][0]){const C=j[0][0];if(C.type==="svg"){const k=x.find(G=>G.id===C.value);return u.jsx("div",{style:K,className:T,title:c.name,children:k?j0(k,f,v):null})}else if(C.type==="text"){const k=Math.max(8,f*.6);return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("span",{style:{fontSize:`${k}px`,lineHeight:"1",fontFamily:"monospace",color:v},children:C.value.charAt(0)})})}}}else if(N>1||b>1){const C=f/Math.max(N,b);if(d&&d.length>0)return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${N*C} ${b*C}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:d.map((k,G)=>u.jsx("line",{x1:k.start.x*C,y1:k.start.y*C,x2:k.end.x*C,y2:k.end.y*C,stroke:v,strokeWidth:Math.max(1,C*.08),strokeLinecap:"round"},`key-line-mxn-preview-${G}`))})});if(j){const k=Math.min(C*.7,14),G=Math.max(6,k);return u.jsx("div",{style:K,className:T,title:c.name,children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${N}, 1fr)`,gridTemplateRows:`repeat(${b}, 1fr)`,width:"100%",height:"100%",color:v},children:j.map((q,rt)=>q.map((X,lt)=>{var ct;return u.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:`${G}px`,lineHeight:"1",fontFamily:"monospace",overflow:"hidden"},children:X?X.type==="text"?X.value.charAt(0):X.type==="svg"?((ct=x.find(Dt=>Dt.id===X.value))==null?void 0:ct.abbreviation)||"?":"":""},`preview-mxn-cell-${rt}-${lt}`)}))})})}}return u.jsx("div",{className:`w-full h-full ${T}`,title:c.name,style:{backgroundColor:"transparent"}})},ri=(c,x)=>Array(c).fill(null).map(()=>Array(x).fill(null)),N0=.3,De=32,vn=20,oi=16,u1=4,s1=.8,c1=.4,kr=({anchorEl:c,isOpen:x,onClose:T,children:f,className:h,position:R="bottom-start"})=>{const S=p.useRef(null);if(p.useEffect(()=>{const r=d=>{S.current&&!S.current.contains(d.target)&&c&&!c.contains(d.target)&&T()};return x&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[x,T,c]),!x||!c)return null;const N=c.getBoundingClientRect(),b={position:"fixed",zIndex:1100};switch(R){case"bottom-start":b.top=N.bottom+4,b.left=N.left;break;case"bottom-end":b.top=N.bottom+4,b.right=window.innerWidth-N.right;break;case"top-start":b.bottom=window.innerHeight-N.top+4,b.left=N.left;break;case"top-end":b.bottom=window.innerHeight-N.top+4,b.right=window.innerWidth-N.right;break}return u.jsx("div",{ref:S,style:b,className:`bg-neutral-50 dark:bg-neutral-800 shadow-xl rounded-md border border-neutral-300 dark:border-neutral-600 p-3 animate-fadeIn ${h}`,children:f})},r1=({isOpen:c,onClose:x,onSave:T,existingKey:f,isDarkMode:h,keyPalette:R})=>{const[S,N]=p.useState(""),[b,r]=p.useState(""),[d,j]=p.useState(""),[v,K]=p.useState(!0),[C,k]=p.useState(1),[G,q]=p.useState(1),[rt,X]=p.useState(h?Al:gl),[lt,ct]=p.useState(h?fl:el),[Dt,ot]=p.useState(ri(1,1)),[pt,Zt]=p.useState([]),[jt,bt]=p.useState(null),[Mt,Gt]=p.useState(null),[qt,Bt]=p.useState(null),[D,W]=p.useState(null),[yt,Ot]=p.useState(null),m=p.useRef(null),[Z,st]=p.useState(!1),ut=p.useRef(null),[mt,St]=p.useState(!1),Ct=p.useRef(null),[ve,F]=p.useState(!1),fe=p.useRef(null),[$t,Ut]=p.useState(""),il=p.useCallback(A=>{const Y=A.match(/^Custom Key (\d+)$/i);if(Y){const nt=parseInt(Y[1],10);if(nt>=0&&nt<zr.length)return zr[nt]}return""},[]),pe=p.useCallback(()=>{var A;if(st(!1),St(!1),F(!1),Ut(""),W(null),Bt(null),Gt(null),Ot(null),f){N(f.id),r(f.name),k(f.width),q(f.height),X(f.backgroundColor),ct(f.symbolColor),Zt(f.lines||[]);const Y=f.id===Ae?!1:f.abbreviation!==Bl;K(Y),j(Y?f.abbreviation||"":Bl);const nt=ri(f.height,f.width);if(f.cells&&(!f.lines||f.lines.length===0)){for(let vt=0;vt<f.height;vt++)for(let Nt=0;Nt<f.width;Nt++)nt[vt][Nt]=((A=f.cells[vt])==null?void 0:A[Nt])||null;bt("cell")}else bt(f.lines&&f.lines.length>0?"line":"cell");ot(nt)}else{const Y=Ms();N(Y);let nt="Custom Key",vt=1,Nt=`${nt} ${vt}`;for(;R.some(Ue=>Ue.name===Nt&&Ue.id!==Y);)vt++,Nt=`${nt} ${vt}`;r(Nt),K(!0),j(il(Nt));const Xt=1,Me=1;k(Xt),q(Me),X(h?Al:gl),ct(h?fl:el),bt("line"),ot(ri(Xt,Me)),Zt([])}},[f,h,R,c,il]);p.useEffect(()=>{c&&pe()},[c,pe]),p.useEffect(()=>{var Y;if(!c)return;const A=ri(G,C);if(jt==="cell"){const nt=Dt;for(let vt=0;vt<Math.min(G,nt.length);vt++)for(let Nt=0;Nt<Math.min(C,((Y=nt[vt])==null?void 0:Y.length)||0);Nt++)A[vt][Nt]=nt[vt][Nt]}ot(A),jt!=="line"&&pt.length>0&&Zt([])},[C,G,c,jt]);const ll=A=>{const Y=A.target.value;r(Y),Y.trim()&&R.some(nt=>nt.name.toLowerCase()===Y.trim().toLowerCase()&&nt.id!==S)?Ot("A key with this name already exists."):Ot(null),!f&&d&&zr.includes(d)&&j(il(Y))},Jt=()=>{const A=!v;K(A),A?d===Bl&&j(f?"":il(b)):j(Bl)},we=(A,Y)=>{if(jt==="line")return;pt.length>0&&Zt([]);const nt=Dt.map(vt=>[...vt]);nt[A][Y]=Mt?{...Mt}:null,ot(nt)},ke=A=>{bt(A),A==="line"?(ot(ri(G,C)),Gt(null),F(!1)):(Zt([]),Bt(null))},xl=p.useCallback(()=>{const A=[];for(let Y=0;Y<=G;Y++)for(let nt=0;nt<=C;nt++)A.push({x:nt,y:Y}),nt<C&&A.push({x:nt+.5,y:Y}),Y<G&&A.push({x:nt,y:Y+.5}),nt<C&&Y<G&&A.push({x:nt+.5,y:Y+.5});return A},[C,G]),Ye=A=>{if(!m.current)return null;const Y=m.current.getBoundingClientRect();return{x:(A.clientX-Y.left)/De,y:(A.clientY-Y.top)/De}},$e=A=>{const Y=xl();let nt=null,vt=N0*N0;for(const Nt of Y){const Xt=(Nt.x-A.x)**2+(Nt.y-A.y)**2;Xt<vt&&(vt=Xt,nt=Nt)}return nt},Ve=A=>{if(jt!=="line"||A.button!==0)return;const Y=Ye(A);if(!Y)return;const nt=$e(Y);nt&&(Dt.flat().some(vt=>vt!==null)&&ot(ri(G,C)),Gt(null),F(!1),Bt({start:nt,end:nt}))},bl=A=>{if(jt!=="line"){W(null);return}const Y=Ye(A);if(!Y){W(null);return}if(W($e(Y)),!qt)return;const nt=$e(Y)||Y;Bt({...qt,end:nt})},vl=()=>{qt&&(D&&(qt.start.x!==D.x||qt.start.y!==D.y)&&Zt(A=>[...A,{start:qt.start,end:D}]),Bt(null)),W(null)},Je=A=>{if(jt!=="line"||!qt||A.button!==0)return;const Y=Ye(A);if(!Y){Bt(null);return}const nt=$e(Y);nt&&(qt.start.x!==nt.x||qt.start.y!==nt.y)&&Zt(vt=>[...vt,{start:qt.start,end:nt}]),Bt(null)},pl=A=>{A.preventDefault();const Y=b.trim();if(!Y){alert("Key name cannot be empty.");return}if(yt){alert(yt);return}let nt=d;S===Ae?nt=Bl:v?nt=d===null?"":d:nt=Bl;const vt={id:S,name:Y,abbreviation:nt,width:C,height:G,backgroundColor:rt,symbolColor:lt,lines:pt.length>0?pt:void 0,cells:pt.length>0?void 0:Dt.map(Nt=>Nt.map(Xt=>Xt?{...Xt}:null))};T(vt),x()},ee=(A,Y,nt)=>{const vt=A==="inc",Nt=Y==="width"?C:G,Me=vt?Nt>=(Y==="width"?S0:C0):Nt<=1;let ge={...{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",cursor:Me?"not-allowed":"pointer",transition:"background-color 0.15s ease-out, border-color 0.15s ease-out",zIndex:10}},Tl=vt?"+":"-";Y==="height"?(ge.width=`${C*De}px`,ge.height=`${oi}px`,ge.left=`${vn}px`,nt==="top"?ge.top=`${vn-oi}px`:ge.bottom=`${vn-oi}px`):(ge.height=`${G*De}px`,ge.width=`${oi}px`,ge.top=`${vn}px`,nt==="left"?ge.left=`${vn-oi}px`:ge.right=`${vn-oi}px`);let ue="text-xs font-medium";return vt?ue+=Me?"bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500":"bg-neutral-300 hover:bg-neutral-400 dark:bg-neutral-600 dark:hover:bg-neutral-500 text-neutral-700 dark:text-neutral-200":ue+=Me?"border-neutral-300 dark:border-neutral-600 text-neutral-400 dark:text-neutral-500 border-2 border-dotted":"border-neutral-400 hover:border-neutral-500 dark:border-neutral-500 dark:hover:border-neutral-400 text-neutral-600 dark:text-neutral-300 border-2 border-dotted hover:bg-neutral-200/30 dark:hover:bg-neutral-700/30",u.jsx("button",{type:"button",style:ge,className:ue,onClick:()=>{Y==="width"?k(Re=>vt?Math.min(S0,Re+1):Math.max(1,Re-1)):q(Re=>vt?Math.min(C0,Re+1):Math.max(1,Re-1))},disabled:Me,"aria-label":`${vt?"Increase":"Decrease"} ${Y}`,children:Tl})};let We=[...fu.filter(A=>A.id!==Ae).map(A=>({type:"svg",value:A.id,name:A.name,category:"SVG Symbols"})),...zy.map(A=>({type:"text",value:A.value,name:A.name,category:"Unicode Symbols"}))].filter(A=>{if(!$t)return!0;const Y=$t.toLowerCase(),nt=A.name.toLowerCase().includes(Y),vt=A.value.toLowerCase().includes(Y);return nt||vt});if($t.trim()){const A=$t.trim().charAt(0),Y={type:"text",value:A,name:`Use character: "${A}"`,category:"Custom Input"};We=We.filter(nt=>!(nt.type==="text"&&nt.value===A)),We.unshift(Y)}let V;rt===Rl?V=h?Jl:$l:rt===Wl?V=h?Al:gl:V=rt;const ft=A=>A===Wl?h?Al:gl:A===Rl?h?Jl:$l:A===Sn?h?fl:el:A,Q=!v||S===Ae;let Tt=b||"Abbr.";S===Ae?Tt="N/A":v||(Tt="? Abbreviation used in pattern instructions");const gt=({color:A,title:Y,onClick:nt})=>u.jsxs("button",{type:"button",onClick:nt,className:"w-full flex items-center justify-start space-x-2 p-1 text-sm hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded transition-colors",title:Y,children:[u.jsx("div",{className:"w-5 h-5 rounded border border-neutral-400 dark:border-neutral-500 flex-shrink-0",style:{backgroundColor:A}}),u.jsx("span",{className:"truncate",children:Y})]});return u.jsx(Na,{isOpen:c,onClose:x,title:u.jsx("input",{type:"text",value:b,onChange:ll,placeholder:"Key Name",className:"text-xl font-semibold bg-white dark:bg-neutral-700 focus:ring-1 focus:ring-primary rounded px-2 py-1 outline-none w-full text-neutral-800 dark:text-neutral-100 border border-neutral-300 dark:border-neutral-600"}),size:"xl",children:u.jsxs("form",{onSubmit:pl,className:"space-y-3 max-h-[75vh] flex flex-col",children:[yt&&u.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 flex-shrink-0",children:yt}),u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("label",{htmlFor:"keyAbbreviation",className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-0.5",children:"Abbreviation (for Pattern Instructions)"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",id:"keyAbbreviation",value:d===Bl?"":d||"",onChange:A=>j(A.target.value),placeholder:Tt,disabled:Q,maxLength:10,className:"flex-grow px-2 py-1 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700 disabled:bg-neutral-100 dark:disabled:bg-neutral-800 disabled:text-neutral-400 dark:disabled:text-neutral-500"}),S!==Ae&&u.jsxs(Kt,{type:"button",variant:"ghost",size:"sm",onClick:Jt,title:v?"Exclude this key from pattern instructions":"Include this key in pattern instructions",className:"p-1.5",children:[v?u.jsx(_y,{}):u.jsx(Oy,{}),u.jsx("span",{className:"ml-1 text-xs whitespace-nowrap",children:v?"Include: ON":"Include: OFF"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 p-1.5 border rounded-md bg-neutral-100 dark:bg-neutral-800/80 flex-shrink-0 relative",children:[u.jsx(Kt,{type:"button",onClick:()=>ke("line"),variant:jt==="line"?"primary":"ghost",title:"Draw Lines Mode",children:u.jsx(Sy,{})}),u.jsx(Kt,{type:"button",ref:fe,onClick:()=>{ke("cell"),F(A=>!A)},variant:jt==="cell"?"primary":"ghost",title:"Select Symbol/Text Mode",children:u.jsx(p0,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),u.jsx(Kt,{type:"button",ref:ut,onClick:()=>st(A=>!A),variant:"ghost",title:"Symbol/Line Color",children:u.jsx(Ny,{})}),u.jsx(Kt,{type:"button",ref:Ct,onClick:()=>St(A=>!A),variant:"ghost",title:"Background Color",children:u.jsx(Ay,{})}),u.jsx(kr,{anchorEl:ut.current,isOpen:Z,onClose:()=>st(!1),children:u.jsxs("div",{className:"space-y-2 w-56",children:[u.jsx("p",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 px-1",children:"Symbol Color"}),u.jsx(E0,{initialColor:ft(lt),onChange:A=>{ct(A)}}),u.jsx(gt,{color:h?fl:el,title:"Theme Default Symbol",onClick:()=>{ct(Sn),st(!1)}})]})}),u.jsx(kr,{anchorEl:Ct.current,isOpen:mt,onClose:()=>St(!1),children:u.jsxs("div",{className:"space-y-2 w-56",children:[u.jsx("p",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 px-1",children:"Background Color"}),u.jsx(E0,{initialColor:ft(rt),onChange:A=>{X(A)}}),u.jsx(gt,{color:h?Al:gl,title:"Theme Default Background",onClick:()=>{X(Wl),St(!1)}}),u.jsx(gt,{color:h?Jl:$l,title:"Grid Lines Background",onClick:()=>{X(Rl),St(!1)}})]})}),u.jsxs(kr,{anchorEl:fe.current,isOpen:ve&&jt==="cell",onClose:()=>F(!1),className:"w-80 min-h-[200px] max-h-[300px] flex flex-col",children:[u.jsxs("div",{className:"p-1 flex items-center border-b border-neutral-300 dark:border-neutral-600 mb-2",children:[u.jsx(p0,{className:"text-neutral-500 mr-2",size:18}),u.jsx("input",{type:"text",placeholder:"Search symbols or type a character...",value:$t,onChange:A=>Ut(A.target.value),className:"w-full bg-transparent text-sm outline-none py-1"}),$t&&u.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>Ut(""),className:"p-1",children:u.jsx(D0,{size:16})})]}),u.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-1",children:u.jsxs("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(32px,1fr))] gap-1",children:[We.map(A=>{const Y={id:`picker-${A.type}-${A.value}-${A.name}`,name:A.name,width:1,height:1,backgroundColor:"transparent",symbolColor:lt,cells:[[{type:A.type,value:A.value}]]};return u.jsx("button",{type:"button",title:A.name,onClick:()=>{Gt({type:A.type,value:A.value}),F(!1)},className:`aspect-square flex items-center justify-center rounded border hover:bg-primary/10 dark:hover:bg-primary-dark/20 transition-colors
                                            ${(Mt==null?void 0:Mt.type)===A.type&&(Mt==null?void 0:Mt.value)===A.value?"border-primary ring-1 ring-primary":"border-neutral-300 dark:border-neutral-600"}`,children:u.jsx(Ur,{keyDef:Y,cellSize:26,isDarkMode:h})},`symbol-picker-${A.type}-${A.value}-${A.name}`)}),We.length===0&&u.jsx("p",{className:"col-span-full text-center text-sm text-neutral-500 p-2",children:"No symbols found."})]})})]})]}),u.jsx("div",{className:"flex-grow flex items-center justify-center p-2 overflow-auto custom-scrollbar min-h-[200px]",children:jt===null?u.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 p-8 border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg",children:[u.jsx("p",{className:"text-lg font-medium",children:"Choose an editing mode"}),u.jsx("p",{className:"text-sm",children:"Select Line Mode or Symbol Mode above to begin editing the key."})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-xs font-bold text-neutral-800 dark:text-neutral-100",children:[u.jsx("div",{}),u.jsxs("div",{className:"p-1",children:[C," x ",G]}),u.jsxs("div",{className:"relative",style:{paddingTop:vn,paddingBottom:vn,paddingLeft:vn,paddingRight:vn},children:[ee("dec","height","top"),ee("inc","height","bottom"),ee("dec","width","left"),ee("inc","width","right"),u.jsxs("div",{className:"grid border border-neutral-400 dark:border-neutral-500 overflow-hidden relative select-none shadow-md",style:{gridTemplateColumns:`repeat(${C}, ${De}px)`,gridTemplateRows:`repeat(${G}, ${De}px)`,width:C*De,height:G*De,minWidth:De,minHeight:De,backgroundColor:V,boxSizing:"content-box"},children:[jt==="cell"&&Dt.map((A,Y)=>A.map((nt,vt)=>{const Nt=nt?{id:`cell-preview-${Y}-${vt}`,name:"",width:1,height:1,backgroundColor:"transparent",symbolColor:lt,cells:[[nt]]}:null;return u.jsx("div",{onClick:()=>we(Y,vt),className:"w-full h-full flex items-center justify-center border border-neutral-300/20 dark:border-neutral-600/20",style:{cursor:"pointer",pointerEvents:"auto"},role:"button","aria-label":`Cell row ${Y+1} column ${vt+1}.`,children:Nt&&u.jsx(Ur,{keyDef:Nt,cellSize:De*.85,isDarkMode:h})},`preview-cell-${Y}-${vt}`)})),u.jsxs("svg",{ref:m,width:C*De,height:G*De,viewBox:`0 0 ${C*De} ${G*De}`,className:"absolute inset-0",style:{pointerEvents:jt==="line"?"auto":"none",cursor:jt==="line"?"crosshair":"default"},onMouseDown:Ve,onMouseMove:bl,onMouseUp:Je,onMouseLeave:vl,children:[pt.map((A,Y)=>u.jsx("line",{x1:A.start.x*De,y1:A.start.y*De,x2:A.end.x*De,y2:A.end.y*De,stroke:lt===Sn?h?fl:el:lt,strokeWidth:Math.max(1.5,De*.06),strokeLinecap:"round"},`line-${Y}`)),qt&&u.jsx("line",{x1:qt.start.x*De,y1:qt.start.y*De,x2:qt.end.x*De,y2:qt.end.y*De,stroke:lt===Sn?h?fl:el:lt,strokeWidth:Math.max(1.5,De*.06),strokeLinecap:"round",strokeDasharray:"3 2"}),jt==="line"&&xl().map((A,Y)=>u.jsx("circle",{cx:A.x*De,cy:A.y*De,r:u1,fill:lt===Sn?h?fl:el:lt,opacity:D&&D.x===A.x&&D.y===A.y?s1:c1,className:"transition-opacity duration-100"},`snap-${Y}`))]})]})]})]})}),u.jsxs("div",{className:"pt-4 flex justify-end space-x-2 flex-shrink-0",children:[u.jsx(Kt,{type:"button",variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Kt,{type:"submit",variant:"primary",children:f?"Save Changes":"Create Key"})]})]})})},o1=({isOpen:c,onClose:x,onChartGenerated:T})=>{const[f,h]=p.useState(null),[R,S]=p.useState(null),[N,b]=p.useState(3),[r,d]=p.useState(!1),[j,v]=p.useState(null),K=G=>{var rt;const q=(rt=G.target.files)==null?void 0:rt[0];if(q){h(q);const X=new FileReader;X.onloadend=()=>{S(X.result)},X.readAsDataURL(q),v(null)}else h(null),S(null)},C=async()=>{if(!f||!R){alert("Please select an image file.");return}if(d(!0),v(null),!R.split(",")[1]){alert("Could not read image data."),d(!1);return}},k=()=>{h(null),S(null),v(null),d(!1),x()};return u.jsxs(Na,{isOpen:c,onClose:k,title:"Image to Chart Converter",size:"lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"imageFile",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Upload Image"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-neutral-300 dark:border-neutral-600 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx(dy,{className:"mx-auto h-12 w-12 text-neutral-400 dark:text-neutral-500"}),u.jsxs("div",{className:"flex text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white dark:bg-neutral-700 rounded-md font-medium text-primary hover:text-primary-dark focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 dark:focus-within:ring-offset-neutral-800 focus-within:ring-primary",children:[u.jsx("span",{children:"Upload a file"}),u.jsx("input",{id:"image-upload",name:"image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/gif",onChange:K})]}),u.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"PNG, JPG, GIF up to 10MB"})]})})]}),R&&u.jsx("div",{className:"text-center",children:u.jsx("img",{src:R,alt:"Preview",className:"max-h-60 max-w-full mx-auto border border-neutral-300 dark:border-neutral-600 rounded"})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"numColors",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Number of Colors"}),u.jsx("select",{id:"numColors",value:N,onChange:G=>b(parseInt(G.target.value)),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[2,3,4,5,6,8,10,12,16].map(G=>u.jsxs("option",{value:G,children:[G," Colors"]},G))})]}),j&&u.jsxs("div",{className:"mt-4 p-3 bg-neutral-100 dark:bg-neutral-700 rounded border border-neutral-200 dark:border-neutral-600",children:[u.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Analysis Result:"}),u.jsx("p",{className:"text-xs whitespace-pre-wrap",children:j})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 italic",children:"Image analysis uses Gemini AI. Results are conceptual and may require manual chart creation."})]}),u.jsx("div",{className:"pt-5",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Kt,{variant:"ghost",onClick:k,children:"Cancel"}),u.jsx(Kt,{onClick:C,disabled:!f||r,isLoading:r,children:r?"Analyzing...":"Convert to Chart (Analyze)"})]})})]})},ws=500,f1=({isOpen:c,onClose:x,onCreateChart:T,isDarkMode:f})=>{const[h,R]=p.useState(null),S=p.useRef(null),N=p.useRef(null),b=p.useRef(null),r=p.useRef(null),[d,j]=p.useState(1),[v,K]=p.useState({x:50,y:50,width:100,height:100}),[C,k]=p.useState(!1),[G,q]=p.useState(null),rt=p.useRef({x:0,y:0}),X=p.useRef({...v}),[lt,ct]=p.useState({cols:20,rows:20,numColors:6,poolingAlgorithm:"mean"}),[Dt,ot]=p.useState(!1),pt=p.useRef(!1),[Zt,jt]=p.useState(null),[bt,Mt]=p.useState(null),[Gt,qt]=p.useState(null),[Bt,D]=p.useState("N/A"),[W,yt]=p.useState(!1),[Ot,m]=p.useState([]),[Z,st]=p.useState(new Set),[ut,mt]=p.useState({}),St=p.useRef(null),Ct=p.useCallback(()=>{if(R(null),S.current){const V=S.current.getContext("2d");V==null||V.clearRect(0,0,S.current.width,S.current.height)}if(N.current){const V=N.current.getContext("2d");V==null||V.clearRect(0,0,N.current.width,N.current.height)}j(1),K({x:50,y:50,width:100,height:100}),k(!1),q(null),ct({cols:20,rows:20,numColors:8,poolingAlgorithm:"mean"}),ot(!1),pt.current=!1,jt(null),Mt(null),qt(null),m([]),st(new Set),mt({})},[]),ve=p.useCallback(()=>{Ct(),x()},[Ct,x]),F=V=>{var Q;const ft=(Q=V.target.files)==null?void 0:Q[0];if(ft){Ct();const Tt=new FileReader;Tt.onload=gt=>{var Y;const A=new Image;A.onload=()=>{var Me;R(A);const nt=(Me=N.current)==null?void 0:Me.getContext("2d");N.current&&nt&&(N.current.width=A.width,N.current.height=A.height,nt.drawImage(A,0,0));const vt=Math.min(1,ws/A.width);j(vt);const Nt=A.width*vt,Xt=A.height*vt;K({x:Math.max(0,Nt*.15),y:Math.max(0,Xt*.15),width:Math.max(20,Nt*.7),height:Math.max(20,Xt*.7)})},A.src=(Y=gt.target)==null?void 0:Y.result},Tt.readAsDataURL(ft)}};p.useEffect(()=>{if(c&&h&&S.current&&b.current){let V=ws;b.current.parentElement&&(V=b.current.parentElement.clientWidth);const ft=Math.min(ws,V>0?V:ws),Q=Math.min(1,ft/h.width);if(Math.abs(Q-d)>.001){j(Q);return}const Tt=h.width*d,gt=h.height*d;S.current.width=Tt,S.current.height=gt;const A=S.current.getContext("2d");A&&(A.clearRect(0,0,Tt,gt),A.drawImage(h,0,0,Tt,gt)),b.current.style.width=`${Tt}px`,b.current.style.height=`${gt}px`}},[c,h,d,f]);const fe=V=>{V.target===r.current&&(k(!0),rt.current={x:V.clientX-r.current.offsetLeft,y:V.clientY-r.current.offsetTop},r.current.style.cursor="grabbing")},$t=(V,ft)=>{V.stopPropagation(),q(ft),rt.current={x:V.clientX,y:V.clientY},X.current={...v}},Ut=p.useCallback(V=>{if(!(!h||pt.current)){if(C&&r.current&&S.current){let ft=V.clientX-rt.current.x,Q=V.clientY-rt.current.y;ft=Math.max(0,Math.min(ft,S.current.width-v.width)),Q=Math.max(0,Math.min(Q,S.current.height-v.height)),K(Tt=>({...Tt,x:ft,y:Q}))}else if(G&&S.current){const ft=V.clientX-rt.current.x,Q=V.clientY-rt.current.y;let{x:Tt,y:gt,width:A,height:Y}=X.current;G.includes("w")&&(Tt+=ft,A-=ft),G.includes("e")&&(A+=ft),G.includes("n")&&(gt+=Q,Y-=Q),G.includes("s")&&(Y+=Q);const nt=10;A<nt&&(G.includes("w")&&(Tt=X.current.x+X.current.width-nt),A=nt),Y<nt&&(G.includes("n")&&(gt=X.current.y+X.current.height-nt),Y=nt),Tt=Math.max(0,Tt),gt=Math.max(0,gt),A=Math.min(A,S.current.width-Tt),Y=Math.min(Y,S.current.height-gt),A>0&&Y>0&&K({x:Tt,y:gt,width:A,height:Y})}}},[C,G,h,v.width,v.height]),il=p.useCallback(()=>{k(!1),q(null),r.current&&(r.current.style.cursor="move")},[]);p.useEffect(()=>(document.addEventListener("mousemove",Ut),document.addEventListener("mouseup",il),()=>{document.removeEventListener("mousemove",Ut),document.removeEventListener("mouseup",il)}),[Ut,il]);const pe=V=>{const ft=V.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return ft?{r:parseInt(ft[1]),g:parseInt(ft[2]),b:parseInt(ft[3])}:null},ll=(V,ft)=>{const Q=pe(V),Tt=pe(ft);return!Q||!Tt?1/0:Math.sqrt(Math.pow(Q.r-Tt.r,2)+Math.pow(Q.g-Tt.g,2)+Math.pow(Q.b-Tt.b,2))},Jt=(V,ft)=>{const Q=pe(V),Tt=pe(ft);if(!Q)return ft;if(!Tt)return V;const gt=Math.round((Q.r+Tt.r)/2),A=Math.round((Q.g+Tt.g)/2),Y=Math.round((Q.b+Tt.b)/2);return`rgb(${gt}, ${A}, ${Y})`},we=V=>{const ft=pe(V);return ft?"#"+((1<<24)+(ft.r<<16)+(ft.g<<8)+ft.b).toString(16).slice(1).toUpperCase():"#000000"},ke=V=>{let ft=0,Q=0,Tt=0;return V.length===4?(ft=parseInt(V[1]+V[1],16),Q=parseInt(V[2]+V[2],16),Tt=parseInt(V[3]+V[3],16)):V.length===7&&(ft=parseInt(V[1]+V[2],16),Q=parseInt(V[3]+V[4],16),Tt=parseInt(V[5]+V[6],16)),`rgb(${ft}, ${Q}, ${Tt})`},xl=(V,ft)=>{if(ft<=1)return Math.round(V);const Q=255/(ft-1);return Math.round(Math.round(V/Q)*Q)},Ye=p.useCallback((V,ft)=>{const{cols:Q,rows:Tt}=lt,gt=v.x/d,A=v.y/d,Y=v.width/d,nt=v.height/d;if(Y<1||nt<1||Q<1||Tt<1||!N.current)return{pixelatedData:[],uniqueColors:new Set};const vt=N.current.getContext("2d");if(!vt)return{pixelatedData:[],uniqueColors:new Set};const Nt=Y/Q,Xt=nt/Tt,Me=[],Ue=new Set;for(let ge=0;ge<Tt;ge++)for(let Tl=0;Tl<Q;Tl++){const ue=gt+Tl*Nt,Re=A+ge*Xt,Ge=Math.max(0,Math.floor(ue)),qe=Math.max(0,Math.floor(Re));let dl=Math.floor(Nt),zl=Math.floor(Xt);if(dl=Math.max(1,Math.min(dl,N.current.width-Ge)),zl=Math.max(1,Math.min(zl,N.current.height-qe)),dl<=0||zl<=0){Me.push("rgb(128, 128, 128)"),Ue.add("rgb(128, 128, 128)");continue}const Wt=vt.getImageData(Ge,qe,dl,zl).data;let me="rgb(128,128,128)";if(Wt.length>0){if(ft==="mean"){let de=0,He=0,ul=0;const et=Wt.length/4;for(let z=0;z<Wt.length;z+=4)de+=Wt[z],He+=Wt[z+1],ul+=Wt[z+2];de=Math.round(de/et),He=Math.round(He/et),ul=Math.round(ul/et),me=`rgb(${xl(de,V)}, ${xl(He,V)}, ${xl(ul,V)})`}else if(ft==="mode"){const de=new Map;for(let He=0;He<Wt.length;He+=4){const ul=`rgb(${xl(Wt[He],V)}, ${xl(Wt[He+1],V)}, ${xl(Wt[He+2],V)})`;de.set(ul,(de.get(ul)||0)+1)}if(de.size>0){let He=0;for(const[ul,et]of de)et>He&&(He=et,me=ul)}}}Me.push(me),Ue.add(me)}return{pixelatedData:Me,uniqueColors:Ue}},[lt.cols,lt.rows,v.x,v.y,v.width,v.height,d]),$e=p.useCallback(()=>{if(!h||v.width<=0||v.height<=0||!N.current){jt(null);return}const V=N.current.getContext("2d");if(!V){jt(null);return}const ft=Math.floor(v.x/d),Q=Math.floor(v.y/d),Tt=Math.max(1,Math.floor(v.width/d)),gt=Math.max(1,Math.floor(v.height/d));if(ft+Tt>N.current.width||Q+gt>N.current.height){jt(null);return}const A=V.getImageData(ft,Q,Tt,gt).data,Y=new Set;for(let nt=0;nt<A.length;nt+=4)Y.add(`rgb(${A[nt]},${A[nt+1]},${A[nt+2]})`);jt(Y.size)},[h,v.x,v.y,v.width,v.height,d]),Ve=p.useCallback(async()=>{if(!h||v.width<=0||v.height<=0||pt.current)return;pt.current=!0,ot(!0),$e(),await new Promise(ue=>setTimeout(ue,10));const{numColors:V,poolingAlgorithm:ft}=lt;let Q=0,Tt=[],gt=new Set,A=0,Y=0,nt=1/0;const vt=16;for(let ue=2;ue<=vt;ue++){const{pixelatedData:Re,uniqueColors:Ge}=Ye(ue,ft),qe=Ge.size;qe>=V&&(Q===0||qe<gt.size)&&(Q=ue,Tt=Re,gt=Ge);const dl=Math.abs(qe-V);if((dl<nt||dl===nt&&qe>Y)&&(nt=dl,A=ue,Y=qe,Q===0&&(Tt=Re,gt=Ge)),ft==="mode"&&qe<=V&&qe<5&&ue>5)break}if(Q===0){Q=A||2;const ue=Ye(Q,ft);Tt=ue.pixelatedData,gt=ue.uniqueColors}D(String(Q));let Nt=[...Tt],Xt=Array.from(gt),Me=!1;const Ue={};if(Xt.forEach(ue=>Ue[ue]=ue),Xt.length>V&&V>0)for(Me=!0;Xt.length>V&&!(Xt.length<=1);){let ue=1/0,Re=-1,Ge=-1;for(let Wt=0;Wt<Xt.length;Wt++)for(let me=Wt+1;me<Xt.length;me++){const de=ll(Xt[Wt],Xt[me]);de<ue&&(ue=de,Re=Wt,Ge=me)}if(Re===-1||Ge===-1)break;const qe=Xt[Re],dl=Xt[Ge],zl=Jt(qe,dl);Xt.splice(Math.max(Re,Ge),1),Xt.splice(Math.min(Re,Ge),1),Xt.includes(zl)||Xt.push(zl);for(const Wt in Ue)(Ue[Wt]===qe||Ue[Wt]===dl)&&(Ue[Wt]=zl)}yt(Me);const ge=Nt.map(ue=>Ue[ue]||ue);m(ge);const Tl=new Set(Xt);if(st(Tl),ge.length>0){Mt(ge),qt(Array.from(Tl));const ue={};Tl.forEach(Re=>ue[Re]=we(Re)),mt(ue)}else Mt(null),qt(null);ot(!1),pt.current=!1},[h,v.width,v.height,v.x,v.y,lt.numColors,lt.poolingAlgorithm,lt.cols,lt.rows,Ye,$e]),bl=p.useCallback(()=>{St.current&&clearTimeout(St.current),St.current=window.setTimeout(Ve,400)},[Ve]);p.useEffect(()=>{h&&r.current?(r.current.style.left=`${v.x}px`,r.current.style.top=`${v.y}px`,r.current.style.width=`${v.width}px`,r.current.style.height=`${v.height}px`,r.current.style.display="block",c&&bl()):r.current&&(r.current.style.display="none")},[v.x,v.y,v.width,v.height,h,c,bl]),p.useEffect(()=>{c&&h&&bl()},[lt.cols,lt.rows,lt.numColors,lt.poolingAlgorithm,c,h,bl]);const vl=(V,ft)=>{mt(Q=>({...Q,[V]:ft}))},Je=()=>{if(Ot.length===0)return;const V={};let ft=!1;if(Z.forEach(A=>{const Y=ut[A],nt=ke(Y);A!==nt&&(V[A]=nt,ft=!0)}),!ft)return;const Q=Ot.map(A=>V[A]||A);Mt(Q);const Tt=new Set;Q.forEach(A=>Tt.add(A)),qt(Array.from(Tt)),m(Q),st(Tt);const gt={};Tt.forEach(A=>gt[A]=we(A)),mt(gt),yt(!0),D("N/A (Remapped)")},pl=()=>{pt.current||!h||Ve()},ee=()=>{if(!bt||!Gt){alert("No processed image data to create chart from.");return}const V={gridData:{rows:Math.min(lt.rows,ru),cols:Math.min(lt.cols,ou),colors:bt.map(ft=>we(ft))},palette:Gt.map(ft=>we(ft))};T(V),ve()},Yt=Math.min(300,typeof window<"u"?window.innerWidth*.4:300),We=lt.cols/lt.rows||1;return u.jsxs(Na,{isOpen:c,onClose:ve,title:"Image to Chart Processor",size:"full",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"md:w-1/2 lg:w-1/3 flex flex-col gap-3 pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"image-loader-modal",className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"1. Import Image"}),u.jsx("input",{type:"file",id:"image-loader-modal",accept:"image/*",onChange:F,className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-light file:text-primary-dark hover:file:bg-primary/80"})]}),h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:b,className:"relative border border-neutral-300 dark:border-neutral-600 max-w-full mx-auto bg-neutral-200 dark:bg-neutral-700 self-start",style:{display:"inline-block"},children:[u.jsx("canvas",{ref:S,className:"block cursor-crosshair max-w-full"}),u.jsx("div",{ref:r,onMouseDown:fe,className:"absolute border-2 border-dashed border-red-500 box-border cursor-move",style:{display:"none"},children:["nw","n","ne","w","e","sw","s","se"].map(V=>u.jsx("div",{onMouseDown:ft=>$t(ft,V),className:`absolute w-2.5 h-2.5 bg-blue-500 border border-white box-border
                            ${V.includes("n")?"top-[-5px]":""} ${V.includes("s")?"bottom-[-5px]":""} ${V.includes("w")?"left-[-5px]":""} ${V.includes("e")?"right-[-5px]":""}
                            ${V==="n"||V==="s"?"left-1/2 -translate-x-1/2 cursor-ns-resize":""}
                            ${V==="w"||V==="e"?"top-1/2 -translate-y-1/2 cursor-ew-resize":""}
                            ${V==="nw"?"cursor-nwse-resize":""} ${V==="ne"?"cursor-nesw-resize":""}
                            ${V==="sw"?"cursor-nesw-resize":""} ${V==="se"?"cursor-nwse-resize":""}
                        `},V))})]}),u.jsxs("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-700 rounded text-xs",children:["Max original colors in selection: ",Zt!==null?Zt.toLocaleString():"N/A"]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"2. Configure Pixelation:"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"grid-cols-modal",children:"Grid Cols:"}),u.jsx("input",{type:"number",id:"grid-cols-modal",value:lt.cols,onChange:V=>ct(ft=>({...ft,cols:Math.min(ou,Math.max(1,parseInt(V.target.value)||1))})),min:"1",max:ou,className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"grid-rows-modal",children:"Grid Rows:"}),u.jsx("input",{type:"number",id:"grid-rows-modal",value:lt.rows,onChange:V=>ct(ft=>({...ft,rows:Math.min(ru,Math.max(1,parseInt(V.target.value)||1))})),min:"1",max:ru,className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"num-colors-modal",children:"Target Colors:"}),u.jsx("input",{type:"number",id:"num-colors-modal",value:lt.numColors,onChange:V=>ct(ft=>({...ft,numColors:parseInt(V.target.value)||1})),min:"1",max:"256",className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pooling-algo-modal",children:"Color Averaging:"}),u.jsxs("select",{id:"pooling-algo-modal",value:lt.poolingAlgorithm,onChange:V=>ct(ft=>({...ft,poolingAlgorithm:V.target.value})),className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600",children:[u.jsx("option",{value:"mean",children:"Mean"}),u.jsx("option",{value:"mode",children:"Mode (Dominant)"})]})]})]})]})]})]}),u.jsx("div",{className:"md:w-1/2 lg:w-2/3 flex flex-col gap-3 pr-2",children:bt&&Gt&&u.jsx(u.Fragment,{children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"3. Pixelated Output & Palette:"}),u.jsx("div",{className:"border border-neutral-300 dark:border-neutral-600 bg-neutral-200 dark:bg-neutral-700 p-1 mx-auto mb-2",style:{width:"fit-content",maxWidth:"100%"},children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${lt.cols}, 1fr)`,gridTemplateRows:`repeat(${lt.rows}, 1fr)`,width:Yt,height:Math.max(10,Yt/We),imageRendering:"pixelated",border:"1px solid #333"},children:bt.map((V,ft)=>u.jsx("div",{className:"w-full h-full",style:{backgroundColor:V}},`gridcell-${ft}`))})}),u.jsxs("div",{className:"mt-1 p-2 bg-neutral-100 dark:bg-neutral-700 rounded text-xs",children:[u.jsxs("p",{children:["Algorithm: ",lt.poolingAlgorithm,". Target Colors: ",lt.numColors,". Achieved: ",u.jsx("strong",{children:Gt.length})," colors."]}),u.jsxs("p",{children:["(Initial Quantization L-value: ",Bt,") ",W?"(Colors merged / remapped)":"(Original quantization)"]}),u.jsx("div",{className:"mt-1 max-h-32 overflow-y-auto custom-scrollbar border p-1.5 rounded dark:border-neutral-600 space-y-1",children:Gt.sort((V,ft)=>ll("rgb(0,0,0)",V)-ll("rgb(0,0,0)",ft)).map(V=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("div",{className:"w-5 h-5 border border-black flex-shrink-0",style:{backgroundColor:V}}),u.jsx("span",{className:"truncate text-neutral-600 dark:text-neutral-400 w-28",title:V,children:we(V)}),u.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"→"}),u.jsx("input",{type:"color",value:ut[V]||we(V),onChange:ft=>vl(V,ft.target.value),className:"w-8 h-6 p-0.5 border rounded dark:bg-neutral-700 dark:border-neutral-600 cursor-pointer"})]},`palette-${V}`))}),u.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[u.jsx(Kt,{onClick:Je,className:"text-sm",size:"sm",children:"Apply Color Remap"}),u.jsx(Kt,{onClick:pl,variant:"outline",className:"text-sm",size:"sm",disabled:Dt||!h,children:"Reset Color Map"})]})]})]})})})]}),u.jsx("canvas",{ref:N,style:{display:"none"}}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-neutral-200 dark:border-neutral-700 flex justify-end space-x-2",children:[u.jsx(Kt,{variant:"ghost",onClick:ve,children:"Cancel"}),u.jsx(Kt,{onClick:ee,disabled:!bt||!Gt||Dt,variant:"primary",children:"Create Chart from Image"})]})]})},Lr=(c,x)=>{var T,f;if(!c||c.abbreviation===Bl)return"";if(typeof c.abbreviation=="string"&&c.abbreviation.trim()!=="")return c.abbreviation.trim();if(c.lines&&c.lines.length>0)return"Draw";if(c.cells&&c.cells.length>0&&c.cells[0].length>0){const h=c.cells[0][0];if(h){if(h.type==="svg"){const R=x.find(S=>S.id===h.value);return(R==null?void 0:R.abbreviation)||((f=(T=R==null?void 0:R.name)==null?void 0:T.charAt(0))==null?void 0:f.toUpperCase())||c.name.substring(0,1).toUpperCase()||"?"}else if(h.type==="text")return h.value.charAt(0)||c.name.substring(0,1).toUpperCase()||"?"}}return c.name.substring(0,1).toUpperCase()||"?"},d1=(c,x,T)=>{var S,N,b,r;let f=`Chart: ${c.name}
`;f+=`Size: ${c.rows} rows x ${c.cols} columns
`,f+=`Orientation: ${c.orientation}

`;let h=null;for(let d=0;d<c.rows;d++){const j=c.orientation==="bottom-up"?c.rows-d:d+1;let v=`Row ${j}: `;h=null;let K=0;for(let C=0;C<c.cols;C++){let k=null;for(let G=c.layers.length-1;G>=0;G--){const q=c.layers[G];if(q.isVisible){const rt=(N=(S=q.grid[d])==null?void 0:S[C])==null?void 0:N.keyId;if(rt!==null){k=rt;break}}}if(k===null&&(k=Ae),k===h)K++;else{if(h!==null&&K>0){const q=T.find(rt=>rt.id===h);if(q&&q.abbreviation!==Bl&&q.id!==Ae){const rt=Lr(q,x);rt&&(v+=`${K>1?K:""}${rt}, `)}}h=k;const G=T.find(q=>q.id===k);K=G&&(G.abbreviation===Bl||G.id===Ae)?0:1}}if(h!==null&&K>0){const C=T.find(k=>k.id===h);if(C&&C.abbreviation!==Bl&&C.id!==Ae){const k=Lr(C,x);k&&(v+=`${K>1?K:""}${k}`)}}v.endsWith(", ")&&(v=v.slice(0,-2)),v.trim()!==`Row ${j}:`&&(v+="."),v+=`
`,f+=v}f+=`
Legend:
`;const R=new Set;for(let d=0;d<c.rows;d++)for(let j=0;j<c.cols;j++){let v=null;for(let K=c.layers.length-1;K>=0;K--){const C=c.layers[K];if(C.isVisible){const k=(r=(b=C.grid[d])==null?void 0:b[j])==null?void 0:r.keyId;if(k!==null){v=k;break}}}if(v){const K=T.find(C=>C.id===v);K&&K.id!==Ae&&K.abbreviation!==Bl&&(K.cells&&K.cells.flat().some(C=>C!==null)||K.lines&&K.lines.length>0)&&R.add(v)}}return T.filter(d=>R.has(d.id)).forEach(d=>{let j=Lr(d,x);if(j){f+=`${j} = ${d.name}`;let v="";if(d.cells&&d.cells.length>0&&d.cells[0].length>0){const K=d.cells[0][0];if((K==null?void 0:K.type)==="svg"){const C=fu.find(k=>k.id===K.value);C!=null&&C.description&&(v=C.description)}else(K==null?void 0:K.type)==="text"&&(v=`Displays as '${K.value}'`)}else d.lines&&d.lines.length>0&&(v="Custom drawing");(d.width>1||d.height>1)&&(v+=(v?"; ":"")+`(${d.width}x${d.height})`),v&&(f+=` (${v})`),f+=`
`}}),f},h1=({isOpen:c,onClose:x,chartState:T,stitchSymbols:f,keyPalette:h})=>{const[R,S]=p.useState("");p.useMemo(()=>{c&&T&&h&&S(d1(T,f,h))},[c,T,f,h]);const N=()=>{navigator.clipboard.writeText(R).then(()=>alert("Instructions copied to clipboard!")).catch(b=>console.error("Failed to copy instructions: ",b))};return u.jsxs(Na,{isOpen:c,onClose:x,title:"Generated Knitting Instructions",size:"xl",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("textarea",{readOnly:!0,value:R,className:"w-full h-96 p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-50 dark:bg-neutral-700 font-mono text-xs whitespace-pre","aria-label":"Generated knitting instructions"}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 italic",children:"This is a basic instruction generator. Complex patterns or colorwork may need manual refinement. Keys set to be excluded from instructions are omitted."})]}),u.jsx("div",{className:"pt-5",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Kt,{variant:"ghost",onClick:x,children:"Close"}),u.jsx(Kt,{onClick:N,variant:"primary",children:"Copy to Clipboard"})]})})]})},m1=({isOpen:c,onClose:x,currentSettings:T,onSave:f})=>{const[h,R]=p.useState(T.rows),[S,N]=p.useState(T.cols),[b,r]=p.useState(T.orientation),[d,j]=p.useState(T.displaySettings?{...T.displaySettings}:{...di.displaySettings}),v=p.useRef(c);p.useEffect(()=>{if(c&&!v.current){R(T.rows),N(T.cols),r(T.orientation);const k=T.displaySettings?{...T.displaySettings}:{...di.displaySettings};j(k)}v.current=c},[c,T]);const K=k=>{k.preventDefault(),f({rows:h,cols:S,orientation:b,displaySettings:d}),x()},C=(k,G)=>{j(q=>({...q,[k]:G}))};return u.jsx(Na,{isOpen:c,onClose:x,title:"Chart Settings",size:"lg",children:u.jsxs("form",{onSubmit:K,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartRows",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Rows"}),u.jsx("input",{type:"number",id:"chartRows",value:h,onChange:k=>R(Math.min(ru,Math.max(1,parseInt(k.target.value)||1))),min:"1",max:ru,className:"mt-1 block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartCols",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Columns"}),u.jsx("input",{type:"number",id:"chartCols",value:S,onChange:k=>N(Math.min(ou,Math.max(1,parseInt(k.target.value)||1))),min:"1",max:ou,className:"mt-1 block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartOrientation",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Orientation"}),u.jsxs("select",{id:"chartOrientation",value:b,onChange:k=>r(k.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"bottom-up",children:"Bottom-Up"}),u.jsx("option",{value:"top-down",children:"Top-Down"}),u.jsx("option",{value:"left-right",children:"Left-to-Right (Flat)"}),u.jsx("option",{value:"in-the-round",children:"In The Round"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-neutral-300 dark:border-neutral-600",children:[u.jsx("h4",{className:"text-md font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Row/Column Counters"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"rowCountVisibility",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Row Counters"}),u.jsxs("select",{id:"rowCountVisibility",value:d.rowCountVisibility,onChange:k=>C("rowCountVisibility",k.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"none",children:"None"}),u.jsx("option",{value:"left",children:"Left Side"}),u.jsx("option",{value:"right",children:"Right Side"}),u.jsx("option",{value:"both",children:"Both Sides"}),u.jsx("option",{value:"alternating-left",children:"Alternating (Start Left)"}),u.jsx("option",{value:"alternating-right",children:"Alternating (Start Right)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"colCountVisibility",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Column Counters"}),u.jsxs("select",{id:"colCountVisibility",value:d.colCountVisibility,onChange:k=>C("colCountVisibility",k.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"none",children:"None"}),u.jsx("option",{value:"top",children:"Top Side"}),u.jsx("option",{value:"bottom",children:"Bottom Side"}),u.jsx("option",{value:"both",children:"Both Sides"})]})]})]})]}),u.jsxs("div",{className:"pt-4 flex justify-end space-x-2",children:[u.jsx(Kt,{type:"button",variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Kt,{type:"submit",variant:"primary",children:"Save Settings"})]})]})})},G0=ja.forwardRef(({activeTool:c,onToolSelect:x,onCopySelection:T,onCutSelection:f,onPasteFromClipboard:h,canCopy:R,canCut:S,canPaste:N},b)=>{const r=[{tool:Ie.Pen,label:"Apply Key / Eraser",icon:u.jsx(ly,{}),hotkeyDescription:"Use with selected key (Empty key for eraser)",hotkeyDisplay:"A"}],d=[{tool:Ie.Select,label:"Select Area",icon:u.jsx(ny,{}),hotkeyDescription:"Drag to select",hotkeyDisplay:"S"},{label:"Copy",icon:u.jsx(Ty,{}),action:T,disabled:!R,hotkeyDescription:"Ctrl+C"},{label:"Cut",icon:u.jsx(Ey,{}),action:f,disabled:!S,hotkeyDescription:"Ctrl+X"},{label:"Paste",icon:u.jsx(jy,{}),action:h,disabled:!N,hotkeyDescription:"Ctrl+V"}],j=[{tool:Ie.Move,label:"Pan View",icon:u.jsx(vy,{}),hotkeyDescription:"Click & drag canvas / Middle mouse button",hotkeyDisplay:"ESC"}],v=(K,C)=>u.jsx("div",{className:"flex items-center space-x-0.5",role:"group","aria-label":C,children:K.map(({tool:k,label:G,icon:q,hotkeyDescription:rt,hotkeyDisplay:X,action:lt,disabled:ct})=>u.jsxs(Kt,{variant:k&&c===k?"primary":"ghost",size:"sm",onClick:()=>{k?x(k):lt&&lt()},title:rt?`${G} (${rt})`:G,className:`p-2 relative ${k&&c===k?"ring-2 ring-accent dark:ring-accent":""}`,"aria-label":G,"aria-pressed":k?c===k:void 0,disabled:ct,children:[q,X&&u.jsx("span",{className:"absolute -bottom-1 -right-0.5 text-[9px] bg-neutral-400 dark:bg-neutral-600 text-neutral-50 dark:text-neutral-200 px-1 py-0.5 rounded-sm leading-none shadow","aria-hidden":"true",children:X})]},k||G))});return u.jsx("div",{ref:b,className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-20 print:hidden",children:u.jsx("div",{className:"flex flex-col items-center space-y-1",children:u.jsxs("div",{className:"flex items-center space-x-1 bg-neutral-100 dark:bg-neutral-800 p-1.5 rounded-lg shadow-xl border border-neutral-300 dark:border-neutral-700",children:[v(r,"Main Tools"),u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),v(d,"Select and Clipboard Tools"),u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),v(j,"Utility Tools")]})})})});G0.displayName="FloatingToolPalette";const y1=({keyDef:c,isActive:x,onClick:T,onContextMenu:f,allStitchSymbols:h,shortcutNumber:R,isDarkMode:S})=>{const d=()=>{if(c.width===1&&c.height===1)return null;const C=[],k=32/c.width,G=32/c.height;for(let q=0;q<c.height;q++)for(let rt=0;rt<c.width;rt++){let X;c.backgroundColor===Rl?X=S?Jl:$l:c.backgroundColor===Wl?X=S?Al:gl:X=c.backgroundColor,C.push(u.jsx("div",{style:{position:"absolute",width:`${k-.5}px`,height:`${G-.5}px`,left:`${rt*k}px`,top:`${q*G}px`,backgroundColor:X}},`preview-cell-${q}-${rt}`))}return u.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{padding:"2px"},children:u.jsx("div",{className:"relative w-full h-full",children:C})})};let j="border-2 ";x?j+="border-primary dark:border-primary-light ring-2 ring-primary":j+="border-neutral-300 dark:border-neutral-600 hover:border-primary/70";const v=32/Math.max(c.width,c.height,1);let K;return c.width===1&&c.height===1?c.backgroundColor===Rl?K=S?Jl:$l:c.backgroundColor===Wl?K=S?Al:gl:K=c.backgroundColor:K="transparent",u.jsx("div",{className:"relative group flex-shrink-0",children:u.jsxs("button",{title:`${c.name} (${c.width}x${c.height})${x?" (Active)":""}${R?` [${R}]`:""}`,onClick:T,onContextMenu:C=>f(C,c),className:`p-0 rounded flex items-center justify-center transition-colors relative overflow-hidden
                    ${j}`,style:{width:"36px",height:"36px",backgroundColor:K},"aria-pressed":x,children:[(c.width>1||c.height>1)&&d(),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{pointerEvents:"none"},children:u.jsx(Ur,{keyDef:c,allStitchSymbols:h,cellSize:v,isDarkMode:S})}),R&&u.jsx("span",{className:"absolute top-0.5 right-0.5 text-[10px] font-bold px-1 bg-neutral-300/80 dark:bg-neutral-600/80 text-neutral-700 dark:text-neutral-200 rounded-sm leading-none z-10",children:R})]})})},g1=({keyPalette:c,activeKeyId:x,onKeySelect:T,onAddKey:f,onEditKey:h,onDeleteKey:R,onDuplicateKey:S,allStitchSymbols:N,isDarkMode:b,showKeyUsageTally:r,keyUsageData:d})=>{const[j,v]=p.useState(null),K=(q,rt)=>{q.preventDefault(),v(null);const X=[{label:"Edit Key",action:()=>h(rt)},{label:"Duplicate Key",action:()=>S(rt.id)}];rt.id!==Ae&&c.length>1&&(X.push({isSeparator:!0}),X.push({label:"Delete Key",action:()=>R(rt.id),disabled:c.length<=1})),X.length>0&&v({visible:!0,x:q.clientX,y:q.clientY,keyDef:rt,items:X})},C=()=>v(null);let k=0;const G=c.map(q=>{let rt;k<5&&(k++,rt=k);const X=d.find(lt=>lt.keyDef.id===q.id);return{...q,shortcutNumber:rt,tallyCount:X==null?void 0:X.count}});return u.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700 p-1.5 flex items-end space-x-1.5 print:hidden overflow-x-auto overflow-y-hidden custom-scrollbar flex-shrink-0",children:[G.map(q=>u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",title:r&&q.tallyCount?`${q.name} - Used: ${q.tallyCount}`:q.name,children:[u.jsx(y1,{keyDef:q,isActive:x===q.id,onClick:()=>T(q.id),onContextMenu:K,allStitchSymbols:N,shortcutNumber:q.shortcutNumber,isDarkMode:b}),r&&q.tallyCount&&q.tallyCount>0?u.jsx("span",{className:"text-[10px] mt-1 font-medium text-neutral-600 dark:text-neutral-400 text-center leading-none","aria-hidden":"true",children:q.tallyCount>999?"999+":q.tallyCount}):u.jsx("span",{className:"text-[10px] mt-1 invisible leading-none","aria-hidden":"true",children:"-"})]},`key-item-${q.id}`)),u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 ml-2 mr-1 flex-shrink-0 self-center"}),u.jsx("span",{className:"text-[10px] mt-1 invisible mb-0.5 leading-none","aria-hidden":"true",children:"-"})]}),u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[u.jsx(Kt,{variant:"ghost",size:"sm",onClick:f,title:"Add New Key",className:"p-2 h-[36px] w-[36px] flex-shrink-0 border border-dashed border-neutral-400 dark:border-neutral-500 hover:border-primary",children:u.jsx(Ns,{})}),u.jsx("span",{className:"text-[10px] invisible mb-1 leading-none","aria-hidden":"true",children:"-"})]}),(j==null?void 0:j.visible)&&u.jsx(Br,{x:j.x,y:j.y,items:j.items,onClose:C})]})},x1=({chartState:c,keyPalette:x,viewport:T,onPan:f,isDarkMode:h,maxContainerSize:R})=>{const{rows:S,cols:N,layers:b}=c,r=p.useRef(null),d=p.useRef(null),j=h?Al:gl,v=h?Jl:$l,K=x.find(q=>q.id===Ae)||{id:Ae,name:"No Stitch",width:1,height:1,backgroundColor:Rl,symbolColor:h?fl:el},C=K.backgroundColor===Rl?v:K.backgroundColor===Wl?j:K.backgroundColor,k=p.useCallback((q,rt)=>{var ot;let X=null;for(let pt=b.length-1;pt>=0;pt--){const Zt=b[pt];if(Zt.isVisible&&((ot=Zt.grid[q])!=null&&ot[rt])){const jt=Zt.grid[q][rt],bt=x.find(Mt=>Mt.id===jt.keyId);if(jt.keyId!==null&&bt&&(jt.isAnchorCellForMxN||bt.width===1&&bt.height===1)){X=jt.keyId;break}else if(jt.keyId!==null&&bt&&!jt.isAnchorCellForMxN&&(bt.width>1||bt.height>1)){X=jt.keyId;break}}}const lt=X&&x.find(pt=>pt.id===X)||K;let ct;if(lt.backgroundColor===Rl?ct=v:lt.backgroundColor===Wl?ct=j:ct=lt.backgroundColor,(lt.cells&&lt.cells.flat().some(pt=>pt!==null)||lt.lines&&lt.lines.length>0)&&ct===C&&lt.id!==Ae){let pt=lt.symbolColor;if(pt===Sn&&(pt=h?fl:el),pt.startsWith("#")&&(pt.length===7||pt.length===4)){let Zt,jt,bt;pt.length===4?(Zt=pt[1]+pt[1],jt=pt[2]+pt[2],bt=pt[3]+pt[3]):(Zt=pt.substring(1,3),jt=pt.substring(3,5),bt=pt.substring(5,7));const Mt=parseInt(Zt,16),Gt=parseInt(jt,16),qt=parseInt(bt,16);return`rgba(${Mt},${Gt},${qt},0.5)`}return ct}return ct},[b,x,K,h,v,j,C]);p.useEffect(()=>{const q=r.current,rt=d.current;if(!q||!rt||S===0||N===0)return;const X=q.getContext("2d");if(!X)return;const lt=0,ct=2,Dt=R.height-lt*2-ct,ot=R.width-lt*2-ct;if(ot<=0||Dt<=0)return;const pt=ot/N,Zt=Dt/S,jt=Math.max(.1,Math.min(pt,Zt)),bt=N*jt,Mt=S*jt;if(rt.style.width=`${bt}px`,rt.style.height=`${Mt}px`,q.width=bt,q.height=Mt,jt<=0)return;X.clearRect(0,0,q.width,q.height);for(let ut=0;ut<S;ut++)for(let mt=0;mt<N;mt++)X.fillStyle=k(ut,mt),X.fillRect(mt*jt,ut*jt,jt,jt);X.strokeStyle=h?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.9)",X.lineWidth=1;const Gt=T.x*jt,qt=T.y*jt,Bt=T.width*jt,D=T.height*jt,W=Math.max(0,Gt),yt=Math.max(0,qt),Ot=Math.min(Gt+Bt,q.width),m=Math.min(qt+D,q.height),Z=Ot-W,st=m-yt;if(Z>0&&st>0){X.beginPath();const ut=Math.round(W)+.5,mt=Math.round(yt)+.5,St=W+Z,Ct=yt+st,ve=St>=q.width-.5?Math.round(q.width)-.5:Math.round(St)+.5,F=Ct>=q.height-.5?Math.round(q.height)-.5:Math.round(Ct)+.5;ve>ut&&F>mt&&(X.moveTo(ut,mt),X.lineTo(ve,mt),X.lineTo(ve,F),X.lineTo(ut,F),X.lineTo(ut,mt),X.stroke())}},[S,N,k,T,h,R.width,R.height,c]);const G=q=>{const rt=r.current;if(!rt||rt.width===0||rt.height===0)return;const X=rt.getBoundingClientRect(),lt=q.clientX-X.left,ct=q.clientY-X.top,Dt=rt.width/N;if(Dt<=0)return;const ot=Math.floor(lt/Dt),pt=Math.floor(ct/Dt);f({x:ot,y:pt})};return u.jsxs("div",{ref:d,className:"w-full h-full border border-neutral-300 dark:border-neutral-600 bg-neutral-200/80 dark:bg-neutral-700/80 relative overflow-hidden cursor-pointer shadow-lg rounded",onClick:G,style:{backdropFilter:"blur(2px)"},children:[u.jsx("h3",{className:"absolute top-1 left-1 text-xs font-semibold text-neutral-700 dark:text-neutral-200 uppercase tracking-wider select-none pointer-events-none px-1 py-0.5 rounded bg-transparent",children:"Mini Map"}),u.jsx("canvas",{ref:r,className:"block"}),u.jsx("p",{className:"absolute bottom-1 left-1 text-xs text-neutral-600 dark:text-neutral-300 italic select-none pointer-events-none px-1 py-0.5 rounded bg-transparent",children:"Click to pan."})]})},b1="/knitlab/assets/areum-knitlab-i-did-that-Dg2o0pEC.png",v1=({isOpen:c,onClose:x,applicationState:T,history:f,processLoadState:h,showKeyUsageTally:R,onToggleShowKeyUsageTally:S})=>{const[N,b]=p.useState("none"),[r,d]=p.useState(""),j=()=>{r.trim()?h(r):alert("Please paste JSON data to load.")},v=C=>{navigator.clipboard.writeText(C).then(()=>alert("Data copied to clipboard!")).catch(k=>console.error("Failed to copy data: ",k))},K=()=>{let C="",k="",G=!1;switch(N){case"history":C=JSON.stringify(f,null,2),k="History data JSON",G=!0;break;case"current":C=JSON.stringify(T,null,2),k="Current application state JSON",G=!0;break;case"load":return u.jsxs("div",{className:"space-y-2 flex flex-col h-full",children:[u.jsx("textarea",{value:r,onChange:q=>d(q.target.value),placeholder:"Paste application state JSON here...",className:"w-full flex-grow resize-none p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-700 font-mono text-xs","aria-label":"Paste application state JSON",rows:24}),u.jsx(Kt,{onClick:j,variant:"primary",className:"self-end",children:"Load Data"})]});case"settings":return u.jsxs("div",{className:"space-y-3 p-2",children:[u.jsx("h4",{className:"text-md font-semibold text-neutral-700 dark:text-neutral-300",children:"Display Settings:"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"showKeyUsageTallyToggle",checked:R,onChange:S,className:"h-4 w-4 text-primary focus:ring-primary border-neutral-300 dark:border-neutral-600 rounded"}),u.jsx("label",{htmlFor:"showKeyUsageTallyToggle",className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Show Key Usage Tally on Buttons"})]})]});default:return u.jsxs("div",{className:"space-y-1 p-2",children:[u.jsx("a",{href:"https://www.linkedin.com/in/areum-jo/",target:"_blank",rel:"noopener noreferrer",className:"block text-center text-primary hover:underline",children:"https://www.linkedin.com/in/areum-jo/"}),u.jsx("img",{src:b1,alt:"Areum Kintlab - I did that",className:"w-full h-auto rounded-md"})]})}return N==="history"||N==="current"?u.jsxs("div",{className:"space-y-2 flex flex-col h-full",children:[u.jsx("textarea",{readOnly:!0,value:C,className:"w-full flex-grow resize-none p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-50 dark:bg-neutral-700 font-mono text-xs",rows:24,"aria-label":k}),G&&u.jsx(Kt,{onClick:()=>v(C),variant:"outline",className:"self-end",children:"Copy to Clipboard"})]}):null};return u.jsx(Na,{isOpen:c,onClose:()=>{b("none"),d(""),x()},title:"Developer Menu",size:"xl",children:u.jsxs("div",{className:"flex flex-col space-y-3",style:{minHeight:"60vh"},children:[u.jsxs("div",{className:"flex space-x-2 border-b p-2 border-neutral-200 dark:border-neutral-700 flex-shrink-0",children:[u.jsx(Kt,{onClick:()=>b("history"),variant:N==="history"?"primary":"outline",size:"sm",children:"View History Data"}),u.jsx(Kt,{onClick:()=>b("current"),variant:N==="current"?"primary":"outline",size:"sm",children:"View Current Data"}),u.jsx(Kt,{onClick:()=>b("load"),variant:N==="load"?"primary":"outline",size:"sm",children:"Load from JSON"}),u.jsx(Kt,{onClick:()=>b("settings"),variant:N==="settings"?"primary":"outline",size:"sm",children:"Settings"})]}),u.jsx("div",{className:"flex-grow overflow-hidden",children:K()})]})})},p1=({isOpen:c,onClose:x,chartState:T,keyPalette:f,allSymbols:h,isDarkMode:R,initialZoom:S,generateChartJpeg:N,effectiveZoomLevels:b})=>{const[r,d]=p.useState(S),[j,v]=p.useState(null),[K,C]=p.useState(!1),[k,G]=p.useState(null);p.useEffect(()=>{c&&(d(S),v(null),G(null))},[c,S]);const q=p.useCallback(async()=>{C(!0),v(null),G(null);try{const X=await N(T,f,h,R,r,!0);X?v(X):G("Failed to generate preview. The image might be too large or an unexpected error occurred.")}catch(X){console.error("Error generating JPG preview:",X),G(`Error: ${X instanceof Error?X.message:"Unknown error during preview generation."}`)}finally{C(!1)}},[T,f,h,R,r,N]);p.useEffect(()=>{c&&q()},[c,r,q]);const rt=()=>{if(!j)return;const X=document.createElement("a");X.href=j;const lt=T.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()||"chart";X.download=`${lt}_export_${Math.round(r*100)}pct.jpg`,document.body.appendChild(X),X.click(),document.body.removeChild(X)};return u.jsxs(Na,{isOpen:c,onClose:x,title:"Export to JPG Preview",size:"xl",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{htmlFor:"exportZoomLevel",className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Export Zoom:"}),u.jsx("select",{id:"exportZoomLevel",value:r,onChange:X=>d(parseFloat(X.target.value)),className:"block w-auto pl-3 pr-8 py-1.5 text-sm border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary rounded-md bg-white dark:bg-neutral-700",disabled:K,children:b.map(X=>u.jsxs("option",{value:X,children:[Math.round(X*100),"%"]},X))})]}),K&&u.jsxs("div",{className:"flex justify-center items-center h-64 bg-neutral-100 dark:bg-neutral-700 rounded-md",children:[u.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("p",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-300",children:"Generating Preview..."})]}),k&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 rounded-md text-red-700 dark:text-red-300 text-sm",children:k}),!K&&j&&u.jsx("div",{className:"border border-neutral-300 dark:border-neutral-600 rounded-md overflow-auto max-h-[60vh] bg-neutral-200 dark:bg-neutral-800 p-2",children:u.jsx("img",{src:j,alt:"Chart Export Preview",className:"max-w-full max-h-full mx-auto"})}),!K&&!j&&!k&&u.jsx("div",{className:"flex justify-center items-center h-64 bg-neutral-100 dark:bg-neutral-700 rounded-md",children:u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Adjust zoom to generate preview."})})]}),u.jsx("div",{className:"pt-5 mt-auto",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Kt,{variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Kt,{onClick:rt,disabled:!j||K,variant:"primary",children:"Download JPG"})]})})]})},S1=c=>{var K;const[x,T]=p.useState([{state:c,timestamp:Date.now()}]),[f,h]=p.useState(0),R=p.useCallback(C=>{const k=f;T(G=>{var Dt;const q=((Dt=G[k])==null?void 0:Dt.state)??c,X={state:typeof C=="function"?C(q):C,timestamp:Date.now()};let ct=[...G.slice(0,k+1),X];return ct.length>M0&&(ct=ct.slice(ct.length-M0)),h(ct.length-1),ct})},[f,c]),S=p.useCallback(()=>{f>0&&h(C=>C-1)},[f]),N=p.useCallback(()=>{f<x.length-1&&h(C=>C+1)},[f,x.length]),b=(K=x[f])==null?void 0:K.state,r=f>0,d=f<x.length-1,j=p.useCallback(C=>{T([{state:C,timestamp:Date.now()}]),h(0)},[]),v=p.useCallback(C=>{T(k=>{if(f<0||f>=k.length)return console.error(`Invalid currentIndex: ${f}. Cannot update state.`),k;const G=[...k],q=C(G[f].state);return G[f]={state:q,timestamp:Date.now()},G})},[f]);return{currentState:b,recordChange:R,undo:S,redo:N,canUndo:r,canRedo:d,resetHistory:j,updateCurrentState:v,history:x}},C1=(c,x)=>({start:{x:Math.min(c.start.x,x.start.x),y:Math.min(c.start.y,x.start.y)},end:{x:Math.max(c.end.x,x.end.x),y:Math.max(c.end.y,x.end.y)}}),A0=(c,x,T,f,h)=>{if(!c||!x)return c;let S={...{start:{x:Math.min(c.start.x,c.end.x),y:Math.min(c.start.y,c.end.y)},end:{x:Math.max(c.start.x,c.end.x),y:Math.max(c.start.y,c.end.y)}}},N=!0;const b=Math.max(5,x.keyPlacements.length/2);let r=0;for(;N&&r<b;){N=!1,r++;for(const d of x.keyPlacements){const j=T.find(k=>k.id===d.keyId);if(!j||j.width===1&&j.height===1||j.id===Ae)continue;const v={start:d.anchor,end:{x:d.anchor.x+j.width-1,y:d.anchor.y+j.height-1}},K=Dr(d.anchor,j),C={minR:S.start.y,maxR:S.end.y,minC:S.start.x,maxC:S.end.x};if(V0(C,K)){const k=C1(S,v);(k.start.x!==S.start.x||k.start.y!==S.start.y||k.end.x!==S.end.x||k.end.y!==S.end.y)&&(S=k,N=!0)}}}return S.start.x=Math.max(0,S.start.x),S.start.y=Math.max(0,S.start.y),S.end.x=Math.min(h-1,S.end.x),S.end.y=Math.min(f-1,S.end.y),S},w1="© 2025 Areum Knits. All rights reserved.",M1="Crafted with ❤️ and code.",T1=10,q0=12,E1=10,j1=q0*2+E1;async function N1(c,x,T,f,h,R,S){const N=`<svg xmlns="http://www.w3.org/2000/svg" width="${R}" height="${S}" viewBox="0 0 24 24" style="color: ${T};">${x}</svg>`;return new Promise((b,r)=>{const d=new Image;d.onload=()=>{c.drawImage(d,f,h,R,S),b()},d.onerror=j=>{console.error("Error loading SVG for canvas drawing:",j,x),c.fillStyle=T,c.font=`${S*.6}px sans-serif`,c.textAlign="center",c.textBaseline="middle",c.fillText("?",f+R/2,h+S/2),b()},d.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(N)}`})}async function A1(c,x,T,f,h,R){var S,N,b;try{const r=pn*h,{rows:d,cols:j,displaySettings:v,orientation:K}=c,C=v.rowCountVisibility==="left"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-left"?sn:0,k=v.colCountVisibility==="top"||v.colCountVisibility==="both"?sn:0,G=v.rowCountVisibility==="right"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-right"?sn:0,q=v.colCountVisibility==="bottom"||v.colCountVisibility==="both"?sn:0,rt=j*r,X=d*r,lt=C+rt+G;let ct=k+X+q;R&&(ct+=j1);const Dt=document.createElement("canvas");Dt.width=lt,Dt.height=ct;const ot=Dt.getContext("2d");if(!ot)return null;ot.fillStyle=f?"#1F2937":"#FCFCFC",ot.fillRect(0,0,lt,ct),ot.fillStyle=f?Al:gl,ot.fillRect(C,k,rt,X);const pt=[];for(let bt=0;bt<d;bt++)for(let Mt=0;Mt<j;Mt++){const Gt=C+Mt*r,qt=k+bt*r,Bt=(N=(S=c.layers.find(W=>W.isVisible))==null?void 0:S.grid[bt])==null?void 0:N[Mt],D=Bt!=null&&Bt.keyId?x.find(W=>W.id===Bt.keyId):x.find(W=>W.id===Ae);if(D){let W=D.backgroundColor;W===Rl?W=f?Jl:$l:W===Wl&&(W=f?Al:gl),ot.fillStyle=W,ot.fillRect(Gt,qt,r,r);let yt=D.symbolColor;yt===Sn&&(yt=f?fl:el);const Ot=(Bt==null?void 0:Bt.keyPartRowOffset)??0,m=(Bt==null?void 0:Bt.keyPartColOffset)??0;if(D.lines&&D.lines.length>0)ot.strokeStyle=yt,ot.lineWidth=Math.max(1,r*.08),ot.lineCap="round",(D.width>1||D.height>1?D.lines.filter(st=>{const ut=m*r,mt=Ot*r;return!0}):D.lines).forEach(st=>{ot.beginPath();let ut=st.start.x*r-m*r,mt=st.start.y*r-Ot*r,St=st.end.x*r-m*r,Ct=st.end.y*r-Ot*r;ot.moveTo(Gt+ut,qt+mt),ot.lineTo(Gt+St,qt+Ct),ot.stroke()});else if(D.cells&&((b=D.cells[Ot])!=null&&b[m])){const Z=D.cells[Ot][m];if(Z){const st=r*.85,ut=Gt+(r-st)/2,mt=qt+(r-st)/2;if(Z.type==="text")ot.fillStyle=yt,ot.font=`${r*.6}px 'Roboto Mono', monospace`,ot.textAlign="center",ot.textBaseline="middle",ot.fillText(Z.value.charAt(0),Gt+r/2,qt+r/2);else if(Z.type==="svg"){const St=T.find(Ct=>Ct.id===Z.value);St!=null&&St.svgContent&&pt.push(N1(ot,St.svgContent,yt,ut,mt,st,st))}}}}}await Promise.all(pt),ot.strokeStyle=f?Jl:$l,ot.lineWidth=1;for(let bt=0;bt<=d;bt++)ot.beginPath(),ot.moveTo(C,k+bt*r),ot.lineTo(C+rt,k+bt*r),ot.stroke();for(let bt=0;bt<=j;bt++)ot.beginPath(),ot.moveTo(C+bt*r,k),ot.lineTo(C+bt*r,k+X),ot.stroke();ot.fillStyle=f?fl:el;const Zt=Math.max(10,r*.35);ot.font=`${Zt}px sans-serif`,ot.textAlign="center",ot.textBaseline="middle";const jt=bt=>K==="bottom-up"?d-bt:bt+1;for(let bt=0;bt<d;bt++){const Mt=jt(bt),Gt=k+bt*r+r/2;(v.rowCountVisibility==="left"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-left"&&Mt%2!==0||v.rowCountVisibility==="alternating-right"&&Mt%2===0)&&C>0&&ot.fillText(String(Mt),C/2,Gt),(v.rowCountVisibility==="right"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-right"&&Mt%2!==0||v.rowCountVisibility==="alternating-left"&&Mt%2===0)&&G>0&&ot.fillText(String(Mt),C+rt+G/2,Gt)}for(let bt=0;bt<j;bt++){const Mt=bt+1,Gt=C+bt*r+r/2;(v.colCountVisibility==="top"||v.colCountVisibility==="both")&&k>0&&ot.fillText(String(Mt),Gt,k/2),(v.colCountVisibility==="bottom"||v.colCountVisibility==="both")&&q>0&&ot.fillText(String(Mt),Gt,k+X+q/2)}if(R){ot.fillStyle=f?"rgba(200, 200, 200, 0.8)":"rgba(50, 50, 50, 0.8)",ot.font=`${T1}px 'ui-sans-serif', system-ui, sans-serif`,ot.textAlign="right",ot.textBaseline="bottom";const bt=lt-5;let Mt=ct-5;ot.fillText(M1,bt,Mt),Mt-=q0,ot.fillText(w1,bt,Mt)}return Dt.toDataURL("image/jpeg",.9)}catch(r){return console.error("Error generating chart JPEG:",r),null}}const R0=200,_0=200,O0="8px",z0="8px",R1=768,_1=8,O1=56,z1=()=>{var xu;const{currentState:c,recordChange:x,undo:T,redo:f,canUndo:h,canRedo:R,resetHistory:S,updateCurrentState:N,history:b}=S1(Gy),r=c.sheets.find(M=>M.id===c.activeSheetId)||c.sheets[0]||di,[d,j]=p.useState(((xu=c.keyPalette[0])==null?void 0:xu.id)||null),[v,K]=p.useState("sheets"),[C,k]=p.useState(!1),G=fu,[q,rt]=p.useState(!1),[X,lt]=p.useState(null),[ct,Dt]=p.useState(!1),[ot,pt]=p.useState(!1),[Zt,jt]=p.useState(!1),[bt,Mt]=p.useState(!1),[Gt,qt]=p.useState(!1),[Bt,D]=p.useState(!1),[W,yt]=p.useState(!1),Ot=p.useCallback(()=>r&&(r.rows>=100||r.cols>=100)?[.25,...fi]:fi,[r]),[m,Z]=p.useState(()=>{const M=Ot(),g=fi.indexOf(1)!==-1?fi.indexOf(1):Uy,H=Math.min(g,M.length-1);return M[H]}),st=M=>{const g=Ot();if(g.includes(M))Z(M);else{let H=g[0];for(const L of g)Math.abs(L-M)<Math.abs(H-M)&&(H=L);Z(H)}};p.useEffect(()=>{const M=Ot();if(!M.includes(m)){const g=M.indexOf(1)!==-1?M.indexOf(1):Math.floor(M.length/2);Z(M[g>=0?g:0])}},[r==null?void 0:r.rows,r==null?void 0:r.cols,m,Ot]);const[ut,mt]=p.useState({x:0,y:0}),[St,Ct]=p.useState({width:0,height:0}),ve=p.useRef(null),[F,fe]=p.useState(null),[$t,Ut]=p.useState(null),[il,pe]=p.useState(!1),[ll,Jt]=p.useState(!1),[we,ke]=p.useState(null),[xl,Ye]=p.useState(null),[$e,Ve]=p.useState({x:Math.floor(r.cols/2),y:Math.floor(r.rows/2)}),[bl,vl]=p.useState(null),[Je,pl]=p.useState(null),ee=p.useRef(x);p.useEffect(()=>{ee.current=x},[x]);const[Yt,We]=p.useState(!1),[V,ft]=p.useState(null),[Q,Tt]=p.useState(null),[gt,A]=p.useState(null),[Y,nt]=p.useState(Ie.Pen),vt=p.useCallback(M=>{nt(g=>{const H=typeof M=="function"?M(g):M;return H!==Ie.Select&&F&&!ll&&!il&&(fe(null),pe(!1),Ut(null)),H})},[F,ll,il]),Nt=p.useCallback(M=>{j(M),M!==null&&vt(Ie.Pen)},[vt]);p.useEffect(()=>{const M=el,g=fl,H=gl,L=Al;N(at=>{const it=at.keyPalette.map($=>{let xt={...$};return $.symbolColor===M&&W?xt.symbolColor=g:$.symbolColor===g&&!W&&(xt.symbolColor=M),$.backgroundColor!==Rl&&$.backgroundColor!==Wl&&($.backgroundColor===H&&W?xt.backgroundColor=L:$.backgroundColor===L&&!W&&(xt.backgroundColor=H)),xt});return{...at,keyPalette:it}}),n1(),W?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[W,N]),p.useEffect(()=>{const M=()=>{ve.current&&Ct({width:ve.current.offsetWidth,height:ve.current.offsetHeight})};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),p.useEffect(()=>{var M;(!d||!c.keyPalette.find(g=>g.id===d))&&Nt(((M=c.keyPalette[0])==null?void 0:M.id)||null)},[d,c.keyPalette,Nt]);const[Xt,Me]=p.useState(!0),Ue=()=>Me(M=>!M),ge=p.useMemo(()=>{var H;if(!r)return[];const M=new Map;for(const L of r.layers)if(L.isVisible)for(let at=0;at<r.rows;at++)for(let it=0;it<r.cols;it++){const $=(H=L.grid[at])==null?void 0:H[it];$!=null&&$.keyId&&M.set($.keyId,(M.get($.keyId)||0)+1)}const g=[];for(const[L,at]of M.entries()){const it=c.keyPalette.find($=>$.id===L);it&&it.id!==Ae&&g.push({keyDef:it,count:at})}return g.sort((L,at)=>at.count-L.count)},[r,c.keyPalette]),Tl=()=>yt(M=>!M),ue=M=>K(M),Re=()=>k(M=>!M),Ge=M=>{x(g=>{const H=g.keyPalette.findIndex(it=>it.id===M.id);let L;const at=M.id===Ae?{...M,abbreviation:Bl}:M;return H>-1?(L=[...g.keyPalette],L[H]=at):L=[...g.keyPalette,at],L=L.map(it=>({...it,cells:it.lines&&it.lines.length>0?void 0:it.cells||[[null]],lines:it.cells&&it.cells.flat().some($=>$!==null)?void 0:it.lines})),{...g,keyPalette:L}}),Nt(M.id)},qe=M=>{lt(M||null),rt(!0)},dl=M=>{var g;if(x(H=>{var it;if(H.keyPalette.length<=1)return alert("Cannot delete the last key."),H;const L=H.keyPalette.filter($=>$.id!==M);d===M&&(it=L[0])!=null&&it.id;const at=H.sheets.map($=>{const xt=$.layers.map(tt=>{const dt=tt.keyPlacements.filter(Ze=>Ze.keyId!==M),Qt=un(dt,$.rows,$.cols,L);return{...tt,keyPlacements:dt,grid:Qt}});return{...$,layers:xt}});return{...H,keyPalette:L,sheets:at}}),d===M){const L=((g=c.keyPalette.filter(at=>at.id!==M)[0])==null?void 0:g.id)||null;Nt(L)}},zl=M=>{const g=c.keyPalette.find(it=>it.id===M);if(!g)return;let H=`${g.name} (Copy)`,L=1;for(;c.keyPalette.some(it=>it.name===H);)L++,H=`${g.name} (Copy ${L})`;const at={...g,id:Ms(),name:H,abbreviation:g.abbreviation,cells:g.cells?g.cells.map(it=>it.map($=>$?{...$}:null)):void 0,lines:g.lines?g.lines.map(it=>({...it,start:{...it.start},end:{...it.end}})):void 0};Ge(at),qe(at)},Wt=(M,g,H,L,at,it)=>{let $=[...M.keyPlacements];const xt=Dr(H,g),tt=[];for(let Qt=0;Qt<$.length;Qt++){const Ze=$[Qt],Ee=it.find(Te=>Te.id===Ze.keyId);if(!Ee)continue;const Pe=Dr(Ze.anchor,Ee);V0(xt,Pe)&&tt.push(Qt)}tt.sort((Qt,Ze)=>Ze-Qt).forEach(Qt=>$.splice(Qt,1)),H.y<L&&H.x<at&&H.y+g.height<=L&&H.x+g.width<=at&&$.push({anchor:H,keyId:g.id});const dt=un($,L,at,it);return{...M,keyPlacements:$,grid:dt}},me=p.useCallback(M=>{ee.current(g=>{const H=g.sheets.findIndex(dt=>dt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H];if(!L.activeLayerId)return g;const at=L.layers.findIndex(dt=>dt.id===L.activeLayerId);if(at===-1)return g;const it=L.layers[at],$=M(it,L.rows,L.cols,g.keyPalette);if($===null)return g;const xt=[...L.layers];xt[at]=$;const tt=[...g.sheets];return tt[H]={...L,layers:xt},{...g,sheets:tt}})},[]),de=(M,g)=>{const H=M.sheets.findIndex(dt=>dt.id===M.activeSheetId);if(H===-1)return M;const L=M.sheets[H];if(!L.activeLayerId)return M;const at=L.layers.findIndex(dt=>dt.id===L.activeLayerId);if(at===-1)return M;const it=L.layers[at],$=g(it,L.rows,L.cols,M.keyPalette);if($===null)return M;const xt=[...L.layers];xt[at]=$;const tt=[...M.sheets];return tt[H]={...L,layers:xt},{...M,sheets:tt}},He=M=>{if(ee.current(g=>{const H=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H];let at=g.keyPalette;const it=L.layers.map(tt=>{const dt=Ly(tt.keyPlacements,at,M.rows,M.cols),Qt=un(dt,M.rows,M.cols,at);return{...tt,keyPlacements:dt,grid:Qt}}),$={...L,rows:M.rows,cols:M.cols,orientation:M.orientation,displaySettings:M.displaySettings,layers:it},xt=[...g.sheets];return xt[H]=$,{...g,keyPalette:at,sheets:xt}}),Ve(g=>({x:Math.min(g.x,M.cols-1),y:Math.min(g.y,M.rows-1)})),F){const g={start:{x:Math.min(F.start.x,F.end.x),y:Math.min(F.start.y,F.end.y)},end:{x:Math.max(F.start.x,F.end.x),y:Math.max(F.start.y,F.end.y)}};(g.end.x>=M.cols||g.end.y>=M.rows)&&(fe(null),Ut(null),pe(!1))}Mt(!1)},ul=()=>{var M;ee.current(g=>{const H=g.sheets.map(it=>it.name),L=qy(H,g.keyPalette),at=[...g.sheets,L];return{...g,sheets:at,activeSheetId:L.id}}),Nt(((M=c.keyPalette[0])==null?void 0:M.id)||null),fe(null),Ut(null),pe(!1),mt({x:0,y:0})},et=M=>{if(c.sheets.length<=1){alert("Cannot delete the last sheet.");return}ee.current(g=>{var at;const H=g.sheets.filter(it=>it.id!==M);let L=g.activeSheetId;return g.activeSheetId===M&&(L=((at=H[0])==null?void 0:at.id)||null),{...g,sheets:H,activeSheetId:L}}),c.activeSheetId===M&&(fe(null),Ut(null),pe(!1),mt({x:0,y:0}))},z=M=>{var g;ee.current(H=>({...H,activeSheetId:M})),Nt(((g=c.keyPalette[0])==null?void 0:g.id)||null),fe(null),Ut(null),pe(!1),mt({x:0,y:0})},Rt=(M,g)=>{ee.current(H=>{const L=H.sheets.map(at=>at.id===M?{...at,name:g}:at);return{...H,sheets:L}})},Et=()=>{me((M,g,H,L)=>{const at=`Layer ${r.layers.length+1}`,it={id:`layer_${Date.now()}`,name:at,isVisible:!0,grid:H0(g,H),keyPlacements:[]};return ee.current($=>{const xt=$.sheets.map(tt=>tt.id===$.activeSheetId?{...tt,layers:[...tt.layers,it],activeLayerId:it.id}:tt);return{...$,sheets:xt}}),null})},At=M=>{if(r.layers.length<=1){alert("Cannot delete the last layer.");return}ee.current(g=>{const H=g.sheets.map(L=>{var at;if(L.id===g.activeSheetId){const it=L.layers.filter(dt=>dt.id!==M);let $=L.activeLayerId;L.activeLayerId===M&&($=((at=it[0])==null?void 0:at.id)||null);const xt=g.keyPalette,tt=it.map(dt=>({...dt,grid:un(dt.keyPlacements,L.rows,L.cols,xt)}));return{...L,layers:tt,activeLayerId:$}}return L});return{...g,sheets:H}})},ht=M=>{ee.current(g=>{const H=g.sheets.map(L=>{if(L.id===g.activeSheetId){const at=L.layers.map(it=>it.id===M?{...it,isVisible:!it.isVisible}:it);return{...L,layers:at}}return L});return{...g,sheets:H}})},kt=M=>{ee.current(g=>{const H=g.sheets.map(L=>L.id===g.activeSheetId?{...L,activeLayerId:M}:L);return{...g,sheets:H}})},Pt=p.useRef(!1),he=p.useCallback(()=>{Pt.current=!1},[]),se=p.useCallback(()=>{Pt.current=!0},[]),Vt=p.useCallback(()=>{Pt.current=!1},[]),le=(M,g)=>{if(Ve(M),!g)return;const H=(L,at,it,$)=>Wt(L,g,M,at,it,$);Pt.current?N(L=>de(L,H)):ee.current(L=>de(L,H))},ce=p.useCallback(M=>{if(!F||!r)return;const g=M?d:Ae;if(!g&&M)return;const H=c.keyPalette.find(L=>L.id===g);H&&me((L,at,it,$)=>{let xt={...L,keyPlacements:[...L.keyPlacements]};const tt={start:{x:Math.min(F.start.x,F.end.x),y:Math.min(F.start.y,F.end.y)},end:{x:Math.max(F.start.x,F.end.x),y:Math.max(F.start.y,F.end.y)}};for(let dt=tt.start.y;dt<=tt.end.y;){for(let Qt=tt.start.x;Qt<=tt.end.x;)xt=Wt(xt,H,{y:dt,x:Qt},at,it,$),Qt+=H.id!==Ae||M?H.width:1;dt+=H.id!==Ae||M?H.height:1}return xt})},[F,r,d,c.keyPalette,me]),Xe=p.useCallback(()=>ce(!0),[ce]),ae=p.useCallback(()=>ce(!1),[ce]),Yl=(M,g,H)=>{Jt(!0),pe(!1),Ut(null),ke(M),Ye(g)},El=(M,g)=>{if(!ll||!we||!r)return;const H=Math.max(0,Math.min(r.cols-we.width,M.x)),L=Math.max(0,Math.min(r.rows-we.height,M.y));Ye({x:H,y:L})},hi=(M,g)=>{if(!ll||!we||!M||!r.activeLayerId){Jt(!1),ke(null),Ye(null);return}const{relativeKeyInstances:H,originalStartCoords:L}=we,at=r.activeLayerId,it=r.id;ee.current($=>{const xt=$.keyPalette,tt=$.sheets.map(dt=>{if(dt.id===it){const Qt=dt.layers.map(Ze=>{if(Ze.id===at){let Ee={...Ze,keyPlacements:[...Ze.keyPlacements]};const Pe=xt.find(Te=>Te.id===Bn);if(Pe)for(const Te of H){const It=xt.find(te=>te.id===Te.keyId);if(!It)continue;const xe={x:L.x+Te.anchor.x,y:L.y+Te.anchor.y};for(let te=0;te<It.height;te++)for(let Sl=0;Sl<It.width;Sl++)Ee=Wt(Ee,Pe,{x:xe.x+Sl,y:xe.y+te},dt.rows,dt.cols,xt)}for(const Te of H){const It=xt.find(te=>te.id===Te.keyId);if(!It)continue;const xe={x:M.x+Te.anchor.x,y:M.y+Te.anchor.y};xe.x<dt.cols&&xe.y<dt.rows&&(Ee=Wt(Ee,It,xe,dt.rows,dt.cols,xt))}return Ee}return Ze});return{...dt,layers:Qt}}return dt});return{...$,sheets:tt}}),fe(null),Ut(null),pe(!1),Jt(!1),ke(null),Ye(null)},cn=p.useCallback(()=>{var xt;if(!F||!r||!r.activeLayerId||Yt)return;const M=r.layers.find(tt=>tt.id===r.activeLayerId);if(!M)return;const g={start:{x:Math.min(F.start.x,F.end.x),y:Math.min(F.start.y,F.end.y)},end:{x:Math.max(F.start.x,F.end.x),y:Math.max(F.start.y,F.end.y)}},H=g.end.x-g.start.x+1,L=g.end.y-g.start.y+1,at=[],it=new Set;for(let tt=0;tt<L;tt++)for(let dt=0;dt<H;dt++){const Qt=g.start.y+tt,Ze=g.start.x+dt,Ee=(xt=M.grid[Qt])==null?void 0:xt[Ze];if(Ee!=null&&Ee.keyId){const Pe=c.keyPalette.find(Te=>Te.id===Ee.keyId);Pe&&(Ee!=null&&Ee.isAnchorCellForMxN||Pe.width===1&&Pe.height===1)&&(at.find(It=>It.anchor.x===dt&&It.anchor.y===tt)||(at.push({anchor:{y:tt,x:dt},keyId:Ee.keyId}),it.add(Ee.keyId)))}}const $=Array.from(it).map(tt=>c.keyPalette.find(dt=>dt.id===tt)).filter(Boolean);pl({relativeKeyInstances:at,width:H,height:L,sourceKeyDefinitions:$})},[F,r,c.keyPalette,Yt]),Cn=p.useCallback(()=>{if(!F||!r||!r.activeLayerId||Yt)return;cn();const M=c.keyPalette.find(g=>g.id===Bn);M&&me((g,H,L,at)=>{let it={...g,keyPlacements:[...g.keyPlacements]};const $={start:{x:Math.min(F.start.x,F.end.x),y:Math.min(F.start.y,F.end.y)},end:{x:Math.max(F.start.x,F.end.x),y:Math.max(F.start.y,F.end.y)}};for(let xt=$.start.y;xt<=$.end.y;xt++)for(let tt=$.start.x;tt<=$.end.x;tt++)it=Wt(it,M,{y:xt,x:tt},H,L,at);return it})},[cn,F,r,Yt,c.keyPalette,me]),Vl=(M,g,H)=>{if(!r||!r.activeLayerId)return;const L=r.activeLayerId,at=r.id;ee.current(it=>{let $=[...it.keyPalette];const xt=[];for(const dt of g.sourceKeyDefinitions)if(!$.some(Qt=>Qt.id===dt.id)){const Qt={...dt,cells:dt.lines&&dt.lines.length>0?void 0:dt.cells||[[null]],lines:dt.cells&&dt.cells.flat().some(Ze=>Ze!==null)?void 0:dt.lines};xt.push(Qt)}xt.length>0&&($=[...$,...xt]);const tt=it.sheets.map(dt=>{if(dt.id===at){let Qt=!1;const Ze=dt.layers.map(Ee=>{if(Ee.id===L){Qt=!0;let Pe={...Ee,keyPlacements:[...Ee.keyPlacements]};const Te=$.find(xe=>xe.id===Bn),It=H&&(H.end.x-H.start.x>0||H.end.y-H.start.y>0);if(It&&H&&Te)for(let xe=H.start.y;xe<=H.end.y;xe++)for(let te=H.start.x;te<=H.end.x;te++)Pe=Wt(Pe,Te,{y:xe,x:te},dt.rows,dt.cols,$);for(const xe of g.relativeKeyInstances){const te=$.find(Tn=>Tn.id===xe.keyId);if(!te)continue;const Sl={x:M.x+xe.anchor.x,y:M.y+xe.anchor.y};if(!(Sl.x+te.width<=dt.cols&&Sl.y+te.height<=dt.rows))continue;let gi=!0;if(It&&H){const Tn={x:Sl.x+te.width-1,y:Sl.y+te.height-1};(Tn.x>H.end.x||Tn.y>H.end.y)&&(gi=!1)}gi&&(Pe=Wt(Pe,te,Sl,dt.rows,dt.cols,$))}return Pe}return Ee});if(Qt)return{...dt,layers:Ze}}return dt});return{...it,keyPalette:$,sheets:tt}})},rn=p.useCallback(()=>{We(!1),ft(null),Tt(null)},[]),wn=p.useCallback(()=>{if(!(!Je||!r)){if(Yt){Q&&Je&&(Vl(Q,Je,null),rn());return}if(F){const M={start:{x:Math.min(F.start.x,F.end.x),y:Math.min(F.start.y,F.end.y)},end:{x:Math.max(F.start.x,F.end.x),y:Math.max(F.start.y,F.end.y)}};Vl(M.start,Je,M)}else{let M=gt||$e||{x:0,y:0};We(!0),ft(Je);const g={x:Math.max(0,Math.min(r.cols-Je.width,M.x)),y:Math.max(0,Math.min(r.rows-Je.height,M.y))};Tt(g)}}},[Je,F,gt,$e,r,Vl,Yt,Q,rn]),Yn=p.useCallback(()=>{Yt&&Q&&V?wn():rn()},[Yt,Q,V,wn,rn]),mi=p.useCallback(M=>{if(!Yt||!V||!r)return;const g={x:Math.max(0,Math.min(r.cols-V.width,M.x)),y:Math.max(0,Math.min(r.rows-V.height,M.y))};Tt(g)},[Yt,V,r]),yi=p.useCallback(M=>{ee.current(g=>{const H=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H],at=L.rows+1,it=L.layers.map(tt=>{const dt=Hy(tt.keyPlacements,M,tt.grid,g.keyPalette,L.cols),Qt=un(dt,at,L.cols,g.keyPalette);return{...tt,keyPlacements:dt,grid:Qt}}),$={...L,rows:at,layers:it},xt=[...g.sheets];return xt[H]=$,{...g,sheets:xt}})},[]),As=p.useCallback(M=>{ee.current(g=>{const H=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H];if(L.rows<=1)return g;const at=L.rows-1,it=L.layers.map(tt=>{const dt=By(tt.keyPlacements,M,g.keyPalette),Qt=un(dt,at,L.cols,g.keyPalette);return{...tt,keyPlacements:dt,grid:Qt}}),$={...L,rows:at,layers:it},xt=[...g.sheets];if(xt[H]=$,F){let tt={...F};tt.start.y>=M&&(tt.start.y=Math.max(0,tt.start.y-1)),tt.end.y>=M&&(tt.end.y=Math.max(0,tt.end.y-1)),tt.start.y>tt.end.y||tt.start.y>=at?(fe(null),Ut(null),pe(!1)):fe(tt)}return $e.y>=M&&Ve(tt=>({...tt,y:Math.max(0,tt.y-1)})),{...g,sheets:xt}})},[F,$e]),du=p.useCallback(M=>{ee.current(g=>{const H=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H],at=L.cols+1,it=L.layers.map(tt=>{const dt=Yy(tt.keyPlacements,M,tt.grid,g.keyPalette,L.rows),Qt=un(dt,L.rows,at,g.keyPalette);return{...tt,keyPlacements:dt,grid:Qt}}),$={...L,cols:at,layers:it},xt=[...g.sheets];return xt[H]=$,{...g,sheets:xt}})},[]),kl=p.useCallback(M=>{ee.current(g=>{const H=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(H===-1)return g;const L=g.sheets[H];if(L.cols<=1)return g;const at=L.cols-1,it=L.layers.map(tt=>{const dt=Vy(tt.keyPlacements,M,g.keyPalette),Qt=un(dt,L.rows,at,g.keyPalette);return{...tt,keyPlacements:dt,grid:Qt}}),$={...L,cols:at,layers:it},xt=[...g.sheets];if(xt[H]=$,F){let tt={...F};tt.start.x>=M&&(tt.start.x=Math.max(0,tt.start.x-1)),tt.end.x>=M&&(tt.end.x=Math.max(0,tt.end.x-1)),tt.start.x>tt.end.x||tt.start.x>=at?(fe(null),Ut(null),pe(!1)):fe(tt)}return $e.x>=M&&Ve(tt=>({...tt,x:Math.max(0,tt.x-1)})),{...g,sheets:xt}})},[F,$e]),hu=p.useCallback((M,g,H)=>{if(g&&M){$t||Ut(M.start);const L={start:$t||M.start,end:M.end},at=r==null?void 0:r.layers.find($=>$.id===r.activeLayerId),it=A0(L,at,c.keyPalette,(r==null?void 0:r.rows)||0,(r==null?void 0:r.cols)||0);fe(it),pe(!0)}else if(pe(!1),Ut(null),M){const L=r==null?void 0:r.layers.find(it=>it.id===r.activeLayerId),at=A0(M,L,c.keyPalette,(r==null?void 0:r.rows)||0,(r==null?void 0:r.cols)||0);fe(at)}else fe(null);H&&Ve(H)},[r,c.keyPalette,$t]),Rs=()=>{vl(`${Date.now()}`)},Aa=M=>{if(!r||!ve.current)return;const g=St.width/(pn*m),H=St.height/(pn*m),L=(M.x-g/2)*pn*m,at=(M.y-H/2)*pn*m,it=r.displaySettings.rowCountVisibility==="left"||r.displaySettings.rowCountVisibility==="both"||r.displaySettings.rowCountVisibility==="alternating-left"?sn:0,$=r.displaySettings.colCountVisibility==="top"||r.displaySettings.colCountVisibility==="both"?sn:0;mt({x:-L-it,y:-at-$})},mu=M=>{console.log("Chart data from image importer (raw):",M)},Ra=M=>{var g;try{const H=JSON.parse(M);if(H.sheets&&H.activeSheetId&&H.keyPalette){const L=H.keyPalette.map($=>({id:$.id||Ms(),name:$.name||"Untitled Key",abbreviation:$.abbreviation===void 0?null:$.abbreviation,width:typeof $.width=="number"&&$.width>0?$.width:1,height:typeof $.height=="number"&&$.height>0?$.height:1,backgroundColor:$.backgroundColor||(W?Al:gl),symbolColor:$.symbolColor||(W?fl:el),cells:$.cells&&Array.isArray($.cells)?$.cells.map(xt=>Array.isArray(xt)?xt.map(tt=>tt):[null]):[[null]],lines:$.lines&&Array.isArray($.lines)?$.lines:void 0})),at={...H,keyPalette:L,sheets:H.sheets.map($=>({...$,id:$.id||js(),layers:$.layers.map(xt=>({...xt,id:xt.id||`layer_${Date.now()}`,keyPlacements:xt.keyPlacements||[],grid:un(xt.keyPlacements||[],$.rows,$.cols,L)}))}))};S(at),D(!1),fe(null),pe(!1),Jt(!1),ke(null),mt({x:0,y:0});const it=(g=at.keyPalette[0])==null?void 0:g.id;Nt(it||null)}else alert("Invalid application state JSON format.")}catch(H){console.error("Failed to load application state:",H),alert(`Error loading state: ${H instanceof Error?H.message:"Unknown error"}`)}},_s=M=>{let g=null;x(H=>{var Te;let L=[...H.keyPalette];const at=[];M.palette.forEach(It=>{if(!L.find(te=>te.backgroundColor===It&&te.width===1&&te.height===1&&(!te.cells||!te.cells[0][0])&&(!te.lines||te.lines.length===0))){const Sl={id:Ms(),name:`Color ${It}`,width:1,height:1,abbreviation:null,backgroundColor:It,symbolColor:W?fl:el,cells:[[null]]};at.push(Sl)}}),at.length>0&&(L=[...L,...at]);const it=new Map;L.forEach(It=>{M.palette.includes(It.backgroundColor)&&It.width===1&&It.height===1&&(!It.cells||!It.cells[0][0])&&(!It.lines||It.lines.length===0)&&(it.has(It.backgroundColor)||it.set(It.backgroundColor,It.id))}),M.palette.forEach(It=>{if(!it.has(It)){const xe=at.find(te=>te.backgroundColor===It);xe&&it.set(It,xe.id)}});const $=H.sheets.map(It=>It.name);let xt="Image Chart 1",tt=1;for(;$.includes(xt);)tt++,xt=`Image Chart ${tt}`;const dt=js(),Qt=[];for(let It=0;It<M.gridData.rows;It++)for(let xe=0;xe<M.gridData.cols;xe++){const te=It*M.gridData.cols+xe,Sl=M.gridData.colors[te],Gn=it.get(Sl);Gn?Qt.push({anchor:{y:It,x:xe},keyId:Gn}):Qt.push({anchor:{y:It,x:xe},keyId:Bn})}const Ee={id:"base_image_layer",name:"Image Layer 1",isVisible:!0,grid:un(Qt,M.gridData.rows,M.gridData.cols,L),keyPlacements:Qt},Pe={id:dt,name:xt,rows:M.gridData.rows,cols:M.gridData.cols,orientation:"bottom-up",displaySettings:{...di.displaySettings},layers:[Ee],activeLayerId:Ee.id};return g=((Te=L[0])==null?void 0:Te.id)||null,{...H,keyPalette:L,sheets:[...H.sheets,Pe],activeSheetId:dt}}),Nt(g),fe(null),Ut(null),pe(!1),mt({x:0,y:0}),K("sheets"),k(!0),pt(!1)},[_l,_a]=p.useState({miniMap:z0,footer:O0}),Oa=p.useRef(null),[hn,Mn]=p.useState(null),[yu,gu]=p.useState(O1);p.useEffect(()=>{const M=()=>{var $;const L=(($=Oa.current)==null?void 0:$.offsetHeight)||0,at=8;if(window.innerWidth<R1&&L>0){const xt=`${L+at+4}px`;_a({miniMap:xt,footer:xt})}else _a({miniMap:z0,footer:O0})};M(),window.addEventListener("resize",M);const g=Oa.current;let H;return g&&(H=new ResizeObserver(M),H.observe(g)),()=>{window.removeEventListener("resize",M),H&&g&&H.unobserve(g)}},[]);const Vn=M=>{M.preventDefault(),Mn({visible:!0,x:M.clientX,y:M.clientY,items:[{label:"Developer Menu",action:()=>D(!0)}]})};return p.useEffect(()=>{const M=g=>{if((g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement||g.target instanceof HTMLSelectElement)&&!(g.key==="Escape"&&(q||ct||ot||Zt||bt||Gt||Bt)))return;g.key.toLowerCase()==="a"&&!g.ctrlKey&&!g.metaKey?(g.preventDefault(),vt(Ie.Pen)):g.key.toLowerCase()==="s"&&!g.ctrlKey&&!g.metaKey?(g.preventDefault(),vt(Ie.Select)):g.key==="Escape"&&(g.preventDefault(),Yt?rn():il?(pe(!1),Ut(null),F&&F.start.x===F.end.x&&F.start.y===F.end.y&&fe(null)):ll?(Jt(!1),ke(null),Ye(null),fe(null)):F?fe(null):vt(Ie.Move));const H=parseInt(g.key);if(!g.ctrlKey&&!g.metaKey&&H>=1&&H<=5){g.preventDefault();const at=H-1;c.keyPalette[at]&&Nt(c.keyPalette[at].id)}(g.key==="Delete"||g.key==="Backspace")&&F&&!g.ctrlKey&&!g.metaKey&&(g.preventDefault(),ae());const L=g.ctrlKey||g.metaKey;L&&g.key.toLowerCase()==="z"?(g.preventDefault(),T()):L&&g.key.toLowerCase()==="y"?(g.preventDefault(),f()):L&&g.key.toLowerCase()==="c"?(g.preventDefault(),F&&cn()):L&&g.key.toLowerCase()==="x"?(g.preventDefault(),F&&Cn()):L&&g.key.toLowerCase()==="v"&&(g.preventDefault(),Je&&wn())};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[Yt,il,ll,F,Y,Je,c.keyPalette,T,f,cn,Cn,wn,ae,vt,Nt,rn,q,ct,ot,Zt,bt,Gt,Bt]),u.jsxs("div",{className:"flex flex-col h-screen bg-neutral-100 dark:bg-neutral-800 transition-colors duration-300",children:[u.jsx(Xy,{onUndo:T,canUndo:h,onRedo:f,canRedo:R,isDarkMode:W,toggleDarkMode:Tl,onOpenSettings:()=>Mt(!0),onOpenExportModal:()=>qt(!0),onImport:()=>Dt(!0),onGenerateInstructions:()=>jt(!0),currentZoom:m,onZoomChange:st,chartRows:r.rows,chartCols:r.cols}),u.jsx(g1,{keyPalette:c.keyPalette,activeKeyId:d,onKeySelect:Nt,onAddKey:()=>qe(),onEditKey:qe,onDeleteKey:dl,onDuplicateKey:zl,allStitchSymbols:G,isDarkMode:W,showKeyUsageTally:Xt,onToggleShowKeyTally:Ue,keyUsageData:ge}),u.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[u.jsx(Py,{layers:r.layers,activeLayerId:r.activeLayerId,onLayerSelect:kt,onAddLayer:Et,onRemoveLayer:At,onToggleLayerVisibility:ht,onSelectAllActiveLayer:Rs,allSheets:c.sheets,activeSheetId:c.activeSheetId,onSheetSelect:z,onAddSheet:ul,onRemoveSheet:et,onRenameSheet:Rt,activeTab:v,onTabSelect:ue,isSidebarContentVisible:C,onToggleSidebarContentVisibility:Re,onOpenImageProcessor:()=>pt(!0),onActualWidthChange:gu}),u.jsxs("main",{ref:ve,className:"flex-grow flex items-center justify-center relative overflow-hidden",children:[St.width>0&&St.height>0&&r&&u.jsx(a1,{chartState:r,keyPalette:c.keyPalette,activeTool:Y,allSymbols:G,isDarkMode:W,zoomLevel:m,setZoomLevel:st,effectiveZoomLevels:Ot(),viewOffset:ut,onViewOffsetChange:mt,canvasSize:St,selection:F,isActuallyDrawingSel:il,selectionDragAnchorForCanvas:$t,isActuallyDraggingSel:ll,draggedCellsPreviewInfo:we,dragPreviewSnappedGridPosition:xl,onSelectionChange:hu,onCellAction:le,onSelectionDragStart:Yl,onSelectionDragMove:El,onSelectionDragEnd:hi,onRequestApplyActiveKeyToSelection:Xe,onRequestClearAllInSelection:ae,onInsertRow:yi,onDeleteRow:As,onInsertColumn:du,onDeleteColumn:kl,selectAllActiveLayerFlag:bl,onSelectAllProcessed:()=>vl(null),onCopySelection:cn,onCutSelection:Cn,onPasteFromClipboard:wn,canPaste:!!Je,isPreviewingPaste:Yt,pastePreviewInfo:V,pastePreviewAnchor:Q,hoveredCanvasCell:gt,onHoveredCellChange:A,onPastePreviewMove:mi,onPastePreviewFinalize:Yn,onPastePreviewCancel:rn,activeKeyId:d,onPenDragSessionStart:he,onPenDragSessionContinue:se,onPenDragSessionEnd:Vt}),u.jsx("div",{className:"fixed z-10 opacity-80 hover:opacity-100 transition-opacity",style:{bottom:_l.miniMap,left:`${yu+_1}px`,width:`${R0}px`,height:`${_0}px`},children:r&&St.width>0&&St.height>0&&u.jsx(x1,{chartState:r,keyPalette:c.keyPalette,viewport:{x:(-ut.x-(r.displaySettings.rowCountVisibility==="left"||r.displaySettings.rowCountVisibility==="both"||r.displaySettings.rowCountVisibility==="alternating-left"||r.displaySettings.rowCountVisibility==="alternating-right"?sn:0))/(pn*m),y:(-ut.y-(r.displaySettings.colCountVisibility==="top"||r.displaySettings.colCountVisibility==="both"?sn:0))/(pn*m),width:St.width/(pn*m),height:St.height/(pn*m)},canvasZoom:m,onPan:Aa,canvasSize:St,isDarkMode:W,maxContainerSize:{width:R0,height:_0}})})]})]}),u.jsx(G0,{ref:Oa,activeTool:Y,onToolSelect:vt,isSelectionActive:!!F,onRequestApplyActiveKeyToSelection:Xe,onRequestClearSelectionArea:ae,onRequestClearAllInSelection:ae,onCopySelection:cn,onCutSelection:Cn,onPasteFromClipboard:wn,canCopy:!!F,canCut:!!F,canPaste:!!Je}),u.jsxs("footer",{onContextMenu:Vn,className:"fixed right-2 p-2 text-xs text-neutral-500 dark:text-neutral-400 font-areumFooter z-10 transition-all duration-150 ease-in-out text-right",style:{bottom:_l.footer},"aria-label":"Application Footer",children:["© 2025 Areum Knits. All rights reserved.",u.jsx("br",{}),"Crafted with ❤️ and code."]}),(hn==null?void 0:hn.visible)&&u.jsx(Br,{x:hn.x,y:hn.y,items:hn.items,onClose:()=>Mn(null)}),q&&u.jsx(r1,{isOpen:q,onClose:()=>rt(!1),onSave:Ge,existingKey:X,allStitchSymbols:G,isDarkMode:W,keyPalette:c.keyPalette}),ct&&u.jsx(o1,{isOpen:ct,onClose:()=>Dt(!1),onChartGenerated:mu}),ot&&u.jsx(f1,{isOpen:ot,onClose:()=>pt(!1),onCreateChart:_s,isDarkMode:W}),Zt&&r&&u.jsx(h1,{isOpen:Zt,onClose:()=>jt(!1),chartState:r,stitchSymbols:G,keyPalette:c.keyPalette}),bt&&r&&u.jsx(m1,{isOpen:bt,onClose:()=>Mt(!1),currentSettings:r,onSave:He}),Gt&&r&&u.jsx(p1,{isOpen:Gt,onClose:()=>qt(!1),chartState:r,keyPalette:c.keyPalette,allSymbols:G,isDarkMode:W,initialZoom:m,generateChartJpeg:A1,effectiveZoomLevels:Ot()}),Bt&&u.jsx(v1,{isOpen:Bt,onClose:()=>D(!1),applicationState:c,history:b,processLoadState:Ra,showKeyUsageTally:Xt,onToggleShowKeyUsageTally:Ue})]})},X0=document.getElementById("root");if(!X0)throw new Error("Could not find root element to mount to");const k1=ey.createRoot(X0);k1.render(u.jsx(ja.StrictMode,{children:u.jsx(z1,{})}));
