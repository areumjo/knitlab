(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const _ of m)if(_.type==="childList")for(const M of _.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&f(M)}).observe(document,{childList:!0,subtree:!0});function T(m){const _={};return m.integrity&&(_.integrity=m.integrity),m.referrerPolicy&&(_.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?_.credentials="include":m.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function f(m){if(m.ep)return;m.ep=!0;const _=T(m);fetch(m.href,_)}})();function z0(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var jr={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Xm(){if(r0)return su;r0=1;var c=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function T(f,m,_){var M=null;if(_!==void 0&&(M=""+_),m.key!==void 0&&(M=""+m.key),"key"in m){_={};for(var A in m)A!=="key"&&(_[A]=m[A])}else _=m;return m=_.ref,{$$typeof:c,type:f,key:M,ref:m!==void 0?m:null,props:_}}return su.Fragment=x,su.jsx=T,su.jsxs=T,su}var o0;function Km(){return o0||(o0=1,jr.exports=Xm()),jr.exports}var u=Km(),Nr={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Zm(){if(f0)return te;f0=1;var c=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),j=Symbol.iterator;function v(h){return h===null||typeof h!="object"?null:(h=j&&h[j]||h["@@iterator"],typeof h=="function"?h:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,z={};function G(h,Z,st){this.props=h,this.context=Z,this.refs=z,this.updater=st||X}G.prototype.isReactComponent={},G.prototype.setState=function(h,Z){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,Z,"setState")},G.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function q(){}q.prototype=G.prototype;function rt(h,Z,st){this.props=h,this.context=Z,this.refs=z,this.updater=st||X}var K=rt.prototype=new q;K.constructor=rt,S(K,G.prototype),K.isPureReactComponent=!0;var lt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Ht=Object.prototype.hasOwnProperty;function ot(h,Z,st,ut,ht,St){return st=St.ref,{$$typeof:c,type:h,key:Z,ref:st!==void 0?st:null,props:St}}function pt(h,Z){return ot(h.type,Z,void 0,void 0,void 0,h.props)}function It(h){return typeof h=="object"&&h!==null&&h.$$typeof===c}function jt(h){var Z={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(st){return Z[st]})}var xt=/\/+/g;function Mt(h,Z){return typeof h=="object"&&h!==null&&h.key!=null?jt(""+h.key):Z.toString(36)}function Kt(){}function Zt(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(Kt,Kt):(h.status="pending",h.then(function(Z){h.status==="pending"&&(h.status="fulfilled",h.value=Z)},function(Z){h.status==="pending"&&(h.status="rejected",h.reason=Z)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function Yt(h,Z,st,ut,ht){var St=typeof h;(St==="undefined"||St==="boolean")&&(h=null);var Ct=!1;if(h===null)Ct=!0;else switch(St){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(h.$$typeof){case c:case x:Ct=!0;break;case d:return Ct=h._init,Yt(Ct(h._payload),Z,st,ut,ht)}}if(Ct)return ht=ht(h),Ct=ut===""?"."+Mt(h,0):ut,lt(ht)?(st="",Ct!=null&&(st=Ct.replace(xt,"$&/")+"/"),Yt(ht,Z,st,"",function(re){return re})):ht!=null&&(It(ht)&&(ht=pt(ht,st+(ht.key==null||h&&h.key===ht.key?"":(""+ht.key).replace(xt,"$&/")+"/")+Ct)),Z.push(ht)),1;Ct=0;var xe=ut===""?".":ut+":";if(lt(h))for(var P=0;P<h.length;P++)ut=h[P],St=xe+Mt(ut,P),Ct+=Yt(ut,Z,st,St,ht);else if(P=v(h),typeof P=="function")for(h=P.call(h),P=0;!(ut=h.next()).done;)ut=ut.value,St=xe+Mt(ut,P++),Ct+=Yt(ut,Z,st,St,ht);else if(St==="object"){if(typeof h.then=="function")return Yt(Zt(h),Z,st,ut,ht);throw Z=String(h),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function k(h,Z,st){if(h==null)return h;var ut=[],ht=0;return Yt(h,ut,"","",function(St){return Z.call(st,St,ht++)}),ut}function W(h){if(h._status===-1){var Z=h._result;Z=Z(),Z.then(function(st){(h._status===0||h._status===-1)&&(h._status=1,h._result=st)},function(st){(h._status===0||h._status===-1)&&(h._status=2,h._result=st)}),h._status===-1&&(h._status=0,h._result=Z)}if(h._status===1)return h._result.default;throw h._result}var yt=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function Ot(){}return te.Children={map:k,forEach:function(h,Z,st){k(h,function(){Z.apply(this,arguments)},st)},count:function(h){var Z=0;return k(h,function(){Z++}),Z},toArray:function(h){return k(h,function(Z){return Z})||[]},only:function(h){if(!It(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},te.Component=G,te.Fragment=T,te.Profiler=m,te.PureComponent=rt,te.StrictMode=f,te.Suspense=b,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,te.__COMPILER_RUNTIME={__proto__:null,c:function(h){return ct.H.useMemoCache(h)}},te.cache=function(h){return function(){return h.apply(null,arguments)}},te.cloneElement=function(h,Z,st){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var ut=S({},h.props),ht=h.key,St=void 0;if(Z!=null)for(Ct in Z.ref!==void 0&&(St=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!Ht.call(Z,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&Z.ref===void 0||(ut[Ct]=Z[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=st;else if(1<Ct){for(var xe=Array(Ct),P=0;P<Ct;P++)xe[P]=arguments[P+2];ut.children=xe}return ot(h.type,ht,void 0,void 0,St,ut)},te.createContext=function(h){return h={$$typeof:M,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:_,_context:h},h},te.createElement=function(h,Z,st){var ut,ht={},St=null;if(Z!=null)for(ut in Z.key!==void 0&&(St=""+Z.key),Z)Ht.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ht[ut]=Z[ut]);var Ct=arguments.length-2;if(Ct===1)ht.children=st;else if(1<Ct){for(var xe=Array(Ct),P=0;P<Ct;P++)xe[P]=arguments[P+2];ht.children=xe}if(h&&h.defaultProps)for(ut in Ct=h.defaultProps,Ct)ht[ut]===void 0&&(ht[ut]=Ct[ut]);return ot(h,St,void 0,void 0,null,ht)},te.createRef=function(){return{current:null}},te.forwardRef=function(h){return{$$typeof:A,render:h}},te.isValidElement=It,te.lazy=function(h){return{$$typeof:d,_payload:{_status:-1,_result:h},_init:W}},te.memo=function(h,Z){return{$$typeof:r,type:h,compare:Z===void 0?null:Z}},te.startTransition=function(h){var Z=ct.T,st={};ct.T=st;try{var ut=h(),ht=ct.S;ht!==null&&ht(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Ot,yt)}catch(St){yt(St)}finally{ct.T=Z}},te.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},te.use=function(h){return ct.H.use(h)},te.useActionState=function(h,Z,st){return ct.H.useActionState(h,Z,st)},te.useCallback=function(h,Z){return ct.H.useCallback(h,Z)},te.useContext=function(h){return ct.H.useContext(h)},te.useDebugValue=function(){},te.useDeferredValue=function(h,Z){return ct.H.useDeferredValue(h,Z)},te.useEffect=function(h,Z,st){var ut=ct.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(h,Z)},te.useId=function(){return ct.H.useId()},te.useImperativeHandle=function(h,Z,st){return ct.H.useImperativeHandle(h,Z,st)},te.useInsertionEffect=function(h,Z){return ct.H.useInsertionEffect(h,Z)},te.useLayoutEffect=function(h,Z){return ct.H.useLayoutEffect(h,Z)},te.useMemo=function(h,Z){return ct.H.useMemo(h,Z)},te.useOptimistic=function(h,Z){return ct.H.useOptimistic(h,Z)},te.useReducer=function(h,Z,st){return ct.H.useReducer(h,Z,st)},te.useRef=function(h){return ct.H.useRef(h)},te.useState=function(h){return ct.H.useState(h)},te.useSyncExternalStore=function(h,Z,st){return ct.H.useSyncExternalStore(h,Z,st)},te.useTransition=function(){return ct.H.useTransition()},te.version="19.1.0",te}var d0;function Ur(){return d0||(d0=1,Nr.exports=Zm()),Nr.exports}var p=Ur();const Na=z0(p);var Ar={exports:{}},cu={},Rr={exports:{}},_r={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Qm(){return h0||(h0=1,function(c){function x(k,W){var yt=k.length;k.push(W);t:for(;0<yt;){var Ot=yt-1>>>1,h=k[Ot];if(0<m(h,W))k[Ot]=W,k[yt]=h,yt=Ot;else break t}}function T(k){return k.length===0?null:k[0]}function f(k){if(k.length===0)return null;var W=k[0],yt=k.pop();if(yt!==W){k[0]=yt;t:for(var Ot=0,h=k.length,Z=h>>>1;Ot<Z;){var st=2*(Ot+1)-1,ut=k[st],ht=st+1,St=k[ht];if(0>m(ut,yt))ht<h&&0>m(St,ut)?(k[Ot]=St,k[ht]=yt,Ot=ht):(k[Ot]=ut,k[st]=yt,Ot=st);else if(ht<h&&0>m(St,yt))k[Ot]=St,k[ht]=yt,Ot=ht;else break t}}return W}function m(k,W){var yt=k.sortIndex-W.sortIndex;return yt!==0?yt:k.id-W.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;c.unstable_now=function(){return _.now()}}else{var M=Date,A=M.now();c.unstable_now=function(){return M.now()-A}}var b=[],r=[],d=1,j=null,v=3,X=!1,S=!1,z=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function lt(k){for(var W=T(r);W!==null;){if(W.callback===null)f(r);else if(W.startTime<=k)f(r),W.sortIndex=W.expirationTime,x(b,W);else break;W=T(r)}}function ct(k){if(z=!1,lt(k),!S)if(T(b)!==null)S=!0,Ht||(Ht=!0,Mt());else{var W=T(r);W!==null&&Yt(ct,W.startTime-k)}}var Ht=!1,ot=-1,pt=5,It=-1;function jt(){return G?!0:!(c.unstable_now()-It<pt)}function xt(){if(G=!1,Ht){var k=c.unstable_now();It=k;var W=!0;try{t:{S=!1,z&&(z=!1,rt(ot),ot=-1),X=!0;var yt=v;try{e:{for(lt(k),j=T(b);j!==null&&!(j.expirationTime>k&&jt());){var Ot=j.callback;if(typeof Ot=="function"){j.callback=null,v=j.priorityLevel;var h=Ot(j.expirationTime<=k);if(k=c.unstable_now(),typeof h=="function"){j.callback=h,lt(k),W=!0;break e}j===T(b)&&f(b),lt(k)}else f(b);j=T(b)}if(j!==null)W=!0;else{var Z=T(r);Z!==null&&Yt(ct,Z.startTime-k),W=!1}}break t}finally{j=null,v=yt,X=!1}W=void 0}}finally{W?Mt():Ht=!1}}}var Mt;if(typeof K=="function")Mt=function(){K(xt)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,Zt=Kt.port2;Kt.port1.onmessage=xt,Mt=function(){Zt.postMessage(null)}}else Mt=function(){q(xt,0)};function Yt(k,W){ot=q(function(){k(c.unstable_now())},W)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(k){k.callback=null},c.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<k?Math.floor(1e3/k):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(k){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var yt=v;v=W;try{return k()}finally{v=yt}},c.unstable_requestPaint=function(){G=!0},c.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var yt=v;v=k;try{return W()}finally{v=yt}},c.unstable_scheduleCallback=function(k,W,yt){var Ot=c.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Ot+yt:Ot):yt=Ot,k){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=yt+h,k={id:d++,callback:W,priorityLevel:k,startTime:yt,expirationTime:h,sortIndex:-1},yt>Ot?(k.sortIndex=yt,x(r,k),T(b)===null&&k===T(r)&&(z?(rt(ot),ot=-1):z=!0,Yt(ct,yt-Ot))):(k.sortIndex=h,x(b,k),S||X||(S=!0,Ht||(Ht=!0,Mt()))),k},c.unstable_shouldYield=jt,c.unstable_wrapCallback=function(k){var W=v;return function(){var yt=v;v=W;try{return k.apply(this,arguments)}finally{v=yt}}}}(_r)),_r}var m0;function Im(){return m0||(m0=1,Rr.exports=Qm()),Rr.exports}var Or={exports:{}},jl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function $m(){if(y0)return jl;y0=1;var c=Ur();function x(b){var r="https://react.dev/errors/"+b;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)r+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+b+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(){}var f={d:{f:T,r:function(){throw Error(x(522))},D:T,C:T,L:T,m:T,X:T,S:T,M:T},p:0,findDOMNode:null},m=Symbol.for("react.portal");function _(b,r,d){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:j==null?null:""+j,children:b,containerInfo:r,implementation:d}}var M=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(b,r){if(b==="font")return"";if(typeof r=="string")return r==="use-credentials"?r:""}return jl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,jl.createPortal=function(b,r){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)throw Error(x(299));return _(b,r,null,d)},jl.flushSync=function(b){var r=M.T,d=f.p;try{if(M.T=null,f.p=2,b)return b()}finally{M.T=r,f.p=d,f.d.f()}},jl.preconnect=function(b,r){typeof b=="string"&&(r?(r=r.crossOrigin,r=typeof r=="string"?r==="use-credentials"?r:"":void 0):r=null,f.d.C(b,r))},jl.prefetchDNS=function(b){typeof b=="string"&&f.d.D(b)},jl.preinit=function(b,r){if(typeof b=="string"&&r&&typeof r.as=="string"){var d=r.as,j=A(d,r.crossOrigin),v=typeof r.integrity=="string"?r.integrity:void 0,X=typeof r.fetchPriority=="string"?r.fetchPriority:void 0;d==="style"?f.d.S(b,typeof r.precedence=="string"?r.precedence:void 0,{crossOrigin:j,integrity:v,fetchPriority:X}):d==="script"&&f.d.X(b,{crossOrigin:j,integrity:v,fetchPriority:X,nonce:typeof r.nonce=="string"?r.nonce:void 0})}},jl.preinitModule=function(b,r){if(typeof b=="string")if(typeof r=="object"&&r!==null){if(r.as==null||r.as==="script"){var d=A(r.as,r.crossOrigin);f.d.M(b,{crossOrigin:d,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0})}}else r==null&&f.d.M(b)},jl.preload=function(b,r){if(typeof b=="string"&&typeof r=="object"&&r!==null&&typeof r.as=="string"){var d=r.as,j=A(d,r.crossOrigin);f.d.L(b,d,{crossOrigin:j,integrity:typeof r.integrity=="string"?r.integrity:void 0,nonce:typeof r.nonce=="string"?r.nonce:void 0,type:typeof r.type=="string"?r.type:void 0,fetchPriority:typeof r.fetchPriority=="string"?r.fetchPriority:void 0,referrerPolicy:typeof r.referrerPolicy=="string"?r.referrerPolicy:void 0,imageSrcSet:typeof r.imageSrcSet=="string"?r.imageSrcSet:void 0,imageSizes:typeof r.imageSizes=="string"?r.imageSizes:void 0,media:typeof r.media=="string"?r.media:void 0})}},jl.preloadModule=function(b,r){if(typeof b=="string")if(r){var d=A(r.as,r.crossOrigin);f.d.m(b,{as:typeof r.as=="string"&&r.as!=="script"?r.as:void 0,crossOrigin:d,integrity:typeof r.integrity=="string"?r.integrity:void 0})}else f.d.m(b)},jl.requestFormReset=function(b){f.d.r(b)},jl.unstable_batchedUpdates=function(b,r){return b(r)},jl.useFormState=function(b,r,d){return M.H.useFormState(b,r,d)},jl.useFormStatus=function(){return M.H.useHostTransitionStatus()},jl.version="19.1.0",jl}var g0;function Jm(){if(g0)return Or.exports;g0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(x){console.error(x)}}return c(),Or.exports=$m(),Or.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Wm(){if(b0)return cu;b0=1;var c=Im(),x=Ur(),T=Jm();function f(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function M(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A(t){if(_(t)!==t)throw Error(f(188))}function b(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(f(188));return e!==t?null:t}for(var l=t,n=e;;){var a=l.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){l=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===l)return A(a),t;if(i===n)return A(a),e;i=i.sibling}throw Error(f(188))}if(l.return!==n.return)l=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===l){s=!0,l=a,n=i;break}if(o===n){s=!0,n=a,l=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===l){s=!0,l=i,n=a;break}if(o===n){s=!0,n=i,l=a;break}o=o.sibling}if(!s)throw Error(f(189))}}if(l.alternate!==n)throw Error(f(190))}if(l.tag!==3)throw Error(f(188));return l.stateNode.current===l?t:e}function r(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r(t),e!==null)return e;t=t.sibling}return null}var d=Object.assign,j=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),K=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),It=Symbol.for("react.activity"),jt=Symbol.for("react.memo_cache_sentinel"),xt=Symbol.iterator;function Mt(t){return t===null||typeof t!="object"?null:(t=xt&&t[xt]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Symbol.for("react.client.reference");function Zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Kt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case G:return"Profiler";case z:return"StrictMode";case ct:return"Suspense";case Ht:return"SuspenseList";case It:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case K:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case lt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ot:return e=t.displayName||null,e!==null?e:Zt(t.type)||"Memo";case pt:e=t._payload,t=t._init;try{return Zt(t(e))}catch{}}return null}var Yt=Array.isArray,k=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=T.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Ot=[],h=-1;function Z(t){return{current:t}}function st(t){0>h||(t.current=Ot[h],Ot[h]=null,h--)}function ut(t,e){h++,Ot[h]=t.current,t.current=e}var ht=Z(null),St=Z(null),Ct=Z(null),xe=Z(null);function P(t,e){switch(ut(Ct,e),ut(St,t),ut(ht,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Hd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Hd(e),t=Ud(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(ht),ut(ht,t)}function re(){st(ht),st(St),st(Ct)}function $t(t){t.memoizedState!==null&&ut(xe,t);var e=ht.current,l=Ud(e,t.type);e!==l&&(ut(St,t),ut(ht,l))}function kt(t){St.current===t&&(st(ht),st(St)),xe.current===t&&(st(xe),lu._currentValue=yt)}var il=Object.prototype.hasOwnProperty,ve=c.unstable_scheduleCallback,el=c.unstable_cancelCallback,Ft=c.unstable_shouldYield,Ce=c.unstable_requestPaint,ze=c.unstable_now,bl=c.unstable_getCurrentPriorityLevel,qe=c.unstable_ImmediatePriority,Qe=c.unstable_UserBlockingPriority,Be=c.unstable_NormalPriority,xl=c.unstable_LowPriority,vl=c.unstable_IdlePriority,Ie=c.log,pl=c.unstable_setDisableYieldValue,le=null,Gt=null;function $e(t){if(typeof Ie=="function"&&pl(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,t)}catch{}}var Y=Math.clz32?Math.clz32:Et,ft=Math.log,Q=Math.LN2;function Et(t){return t>>>=0,t===0?32:31-(ft(t)/Q|0)|0}var gt=256,N=4194304;function B(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nt(t,e,l){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?a=B(n):(s&=o,s!==0?a=B(s):l||(l=o&~t,l!==0&&(a=B(l))))):(o=n&~i,o!==0?a=B(o):s!==0?a=B(s):l||(l=n&~t,l!==0&&(a=B(l)))),a===0?0:e!==0&&e!==a&&(e&i)===0&&(i=a&-a,l=e&-e,i>=l||i===32&&(l&4194048)!==0)?e:a}function vt(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function At(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var t=gt;return gt<<=1,(gt&4194048)===0&&(gt=256),t}function we(){var t=N;return N<<=1,(N&62914560)===0&&(N=4194304),t}function Le(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function me(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tl(t,e,l,n,a,i){var s=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var o=t.entanglements,y=t.expirationTimes,O=t.hiddenUpdates;for(l=s&~l;0<l;){var I=31-Y(l),F=1<<I;o[I]=0,y[I]=-1;var D=O[I];if(D!==null)for(O[I]=null,I=0;I<D.length;I++){var V=D[I];V!==null&&(V.lane&=-536870913)}l&=~F}n!==0&&ue(t,n,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function ue(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Y(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|l&4194090}function Ae(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var n=31-Y(l),a=1<<n;a&e|t[n]&e&&(t[n]|=e),l&=~a}}function Ve(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dl(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:n0(t.type))}function Ll(t,e){var l=W.p;try{return W.p=t,e()}finally{W.p=l}}var Pt=Math.random().toString(36).slice(2),fe="__reactFiber$"+Pt,ye="__reactProps$"+Pt,ke="__reactContainer$"+Pt,cl="__reactEvents$"+Pt,Rl="__reactListeners$"+Pt,et="__reactHandles$"+Pt,H="__reactResources$"+Pt,_t="__reactMarker$"+Pt;function Tt(t){delete t[fe],delete t[ye],delete t[cl],delete t[Rl],delete t[et]}function Nt(t){var e=t[fe];if(e)return e;for(var l=t.parentNode;l;){if(e=l[ke]||l[fe]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=Gd(t);t!==null;){if(l=t[fe])return l;t=Gd(t)}return e}t=l,l=t.parentNode}return null}function mt(t){if(t=t[fe]||t[ke]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function zt(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(f(33))}function ne(t){var e=t[H];return e||(e=t[H]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Bt(t){t[_t]=!0}var ll=new Set,qt={};function Vt(t,e){de(t,e),de(t+"Capture",e)}function de(t,e){for(qt[t]=e,t=0;t<e.length;t++)ll.add(e[t])}var Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oe={},Yl={};function _l(t){return il.call(Yl,t)?!0:il.call(oe,t)?!1:Je.test(t)?Yl[t]=!0:(oe[t]=!0,!1)}function Gl(t,e,l){if(_l(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function wn(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function ql(t,e,l,n){if(n===null)t.removeAttribute(l);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+n)}}var on,Mn;function Yn(t){if(on===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);on=e&&e[1]||"",Mn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+on+t+Mn}var mi=!1;function yi(t,e){if(!t||mi)return"";mi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(V){var D=V}Reflect.construct(t,[],F)}else{try{F.call()}catch(V){D=V}t.call(F.prototype)}}else{try{throw Error()}catch(V){D=V}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(V){if(V&&D&&typeof V.stack=="string")return[V.stack,D.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var y=s.split(`
`),O=o.split(`
`);for(a=n=0;n<y.length&&!y[n].includes("DetermineComponentFrameRoot");)n++;for(;a<O.length&&!O[a].includes("DetermineComponentFrameRoot");)a++;if(n===y.length||a===O.length)for(n=y.length-1,a=O.length-1;1<=n&&0<=a&&y[n]!==O[a];)a--;for(;1<=n&&0<=a;n--,a--)if(y[n]!==O[a]){if(n!==1||a!==1)do if(n--,a--,0>a||y[n]!==O[a]){var I=`
`+y[n].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=n&&0<=a);break}}}finally{mi=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Yn(l):""}function As(t){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return Yn("Activity");default:return""}}function du(t){try{var e="";do e+=As(t),t=t.return;while(t);return e}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kl(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rs(t){var e=hu(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,i=l.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Rs(t))}function mu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),n="";return t&&(n=hu(t)?t.checked?"true":"false":t.value),t=n,t!==l?(e.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function Ol(t){return t.replace(_s,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Oa(t,e,l,n,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+kl(e)):t.value!==""+kl(e)&&(t.value=""+kl(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?mn(t,s,kl(e)):l!=null?mn(t,s,kl(l)):n!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+kl(o):t.removeAttribute("name")}function za(t,e,l,n,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;l=l!=null?""+kl(l):"",e=e!=null?""+kl(e):l,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function mn(t,e,l){e==="number"&&_a(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Tn(t,e,l,n){if(t=t.options,e){e={};for(var a=0;a<l.length;a++)e["$"+l[a]]=!0;for(l=0;l<t.length;l++)a=e.hasOwnProperty("$"+t[l].value),t[l].selected!==a&&(t[l].selected=a),a&&n&&(t[l].defaultSelected=!0)}else{for(l=""+kl(l),e=null,a=0;a<t.length;a++){if(t[a].value===l){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function yu(t,e,l){if(e!=null&&(e=""+kl(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+kl(l):""}function gu(t,e,l,n){if(e==null){if(n!=null){if(l!=null)throw Error(f(92));if(Yt(n)){if(1<n.length)throw Error(f(93));n=n[0]}l=n}l==null&&(l=""),e=l}l=kl(e),t.defaultValue=l,n=t.textContent,n===l&&n!==""&&n!==null&&(t.value=n)}function Gn(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function w(t,e,l){var n=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,l):typeof l!="number"||l===0||bu.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function g(t,e,l){if(e!=null&&typeof e!="object")throw Error(f(62));if(t=t.style,l!=null){for(var n in l)!l.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var a in e)n=e[a],e.hasOwnProperty(a)&&l[a]!==n&&w(t,a,n)}else for(var i in e)e.hasOwnProperty(i)&&w(t,i,e[i])}function U(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),at=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function it(t){return at.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $=null;function bt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tt=null,dt=null;function Jt(t){var e=mt(t);if(e&&(t=e.stateNode)){var l=t[ye]||null;t:switch(t=e.stateNode,e.type){case"input":if(Oa(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ol(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var n=l[e];if(n!==t&&n.form===t.form){var a=n[ye]||null;if(!a)throw Error(f(90));Oa(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<l.length;e++)n=l[e],n.form===t.form&&mu(n)}break t;case"textarea":yu(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Tn(t,!!l.multiple,e,!1)}}}var Xe=!1;function Te(t,e,l){if(Xe)return t(e,l);Xe=!0;try{var n=t(e);return n}finally{if(Xe=!1,(tt!==null||dt!==null)&&(ts(),tt&&(e=tt,t=dt,dt=tt=null,Jt(e),t)))for(e=0;e<t.length;e++)Jt(t[e])}}function We(t,e){var l=t.stateNode;if(l===null)return null;var n=l[ye]||null;if(n===null)return null;l=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(f(231,e,typeof l));return l}var Me=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wt=!1;if(Me)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{Wt=!1}var ee=null,Sl=null,qn=null;function gi(){if(qn)return qn;var t,e=Sl,l=e.length,n,a="value"in ee?ee.value:ee.textContent,i=a.length;for(t=0;t<l&&e[t]===a[t];t++);var s=l-t;for(n=1;n<=s&&e[l-n]===a[i-n];n++);return qn=a.slice(t,1<n?1-n:void 0)}function En(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function Vr(){return!1}function Dl(t){function e(l,n,a,i,s){this._reactName=l,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(l=t[o],this[o]=l?l(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xu:Vr,this.isPropagationStopped=Vr,this}return d(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=Dl(da),bi=d({},da,{view:0,detail:0}),X0=Dl(bi),Os,zs,xi,pu=d({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Os=t.screenX-xi.screenX,zs=t.screenY-xi.screenY):zs=Os=0,xi=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Yr=Dl(pu),K0=d({},pu,{dataTransfer:0}),Z0=Dl(K0),Q0=d({},bi,{relatedTarget:0}),Ls=Dl(Q0),I0=d({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=Dl(I0),J0=d({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W0=Dl(J0),F0=d({},da,{data:0}),Gr=Dl(F0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eh[t])?!!e[t]:!1}function ks(){return lh}var nh=d({},bi,{key:function(t){if(t.key){var e=P0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=En(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?th[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?En(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?En(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ah=Dl(nh),ih=d({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=Dl(ih),uh=d({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),sh=Dl(uh),ch=d({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=Dl(ch),oh=d({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fh=Dl(oh),dh=d({},da,{newState:0,oldState:0}),hh=Dl(dh),mh=[9,13,27,32],Ds=Me&&"CompositionEvent"in window,vi=null;Me&&"documentMode"in document&&(vi=document.documentMode);var yh=Me&&"TextEvent"in window&&!vi,Xr=Me&&(!Ds||vi&&8<vi&&11>=vi),Kr=" ",Zr=!1;function Qr(t,e){switch(t){case"keyup":return mh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function gh(t,e){switch(t){case"compositionend":return Ir(e);case"keypress":return e.which!==32?null:(Zr=!0,Kr);case"textInput":return t=e.data,t===Kr&&Zr?null:t;default:return null}}function bh(t,e){if(La)return t==="compositionend"||!Ds&&Qr(t,e)?(t=gi(),qn=Sl=ee=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xr&&e.locale!=="ko"?null:e.data;default:return null}}var xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xh[t.type]:e==="textarea"}function Jr(t,e,l,n){tt?dt?dt.push(n):dt=[n]:tt=n,e=us(e,"onChange"),0<e.length&&(l=new vu("onChange","change",null,l,n),t.push({event:l,listeners:e}))}var pi=null,Si=null;function vh(t){Od(t,0)}function Su(t){var e=zt(t);if(mu(e))return t}function Wr(t,e){if(t==="change")return e}var Fr=!1;if(Me){var Hs;if(Me){var Us="oninput"in document;if(!Us){var Pr=document.createElement("div");Pr.setAttribute("oninput","return;"),Us=typeof Pr.oninput=="function"}Hs=Us}else Hs=!1;Fr=Hs&&(!document.documentMode||9<document.documentMode)}function to(){pi&&(pi.detachEvent("onpropertychange",eo),Si=pi=null)}function eo(t){if(t.propertyName==="value"&&Su(Si)){var e=[];Jr(e,Si,t,bt(t)),Te(vh,e)}}function ph(t,e,l){t==="focusin"?(to(),pi=e,Si=l,pi.attachEvent("onpropertychange",eo)):t==="focusout"&&to()}function Sh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Si)}function Ch(t,e){if(t==="click")return Su(e)}function wh(t,e){if(t==="input"||t==="change")return Su(e)}function Mh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xl=typeof Object.is=="function"?Object.is:Mh;function Ci(t,e){if(Xl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),n=Object.keys(e);if(l.length!==n.length)return!1;for(n=0;n<l.length;n++){var a=l[n];if(!il.call(e,a)||!Xl(t[a],e[a]))return!1}return!0}function lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function no(t,e){var l=lo(t);t=0;for(var n;l;){if(l.nodeType===3){if(n=t+l.textContent.length,t<=e&&n>=e)return{node:l,offset:e-t};t=n}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=lo(l)}}function ao(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ao(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function io(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=_a(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=_a(t.document)}return e}function Bs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Th=Me&&"documentMode"in document&&11>=document.documentMode,ka=null,Vs=null,wi=null,Ys=!1;function uo(t,e,l){var n=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ys||ka==null||ka!==_a(n)||(n=ka,"selectionStart"in n&&Bs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wi&&Ci(wi,n)||(wi=n,n=us(Vs,"onSelect"),0<n.length&&(e=new vu("onSelect","select",null,e,l),t.push({event:e,listeners:n}),e.target=ka)))}function ha(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var Da={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Gs={},so={};Me&&(so=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function ma(t){if(Gs[t])return Gs[t];if(!Da[t])return t;var e=Da[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in so)return Gs[t]=e[l];return t}var co=ma("animationend"),ro=ma("animationiteration"),oo=ma("animationstart"),Eh=ma("transitionrun"),jh=ma("transitionstart"),Nh=ma("transitioncancel"),fo=ma("transitionend"),ho=new Map,qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qs.push("scrollEnd");function fn(t,e){ho.set(t,e),Vt(e,[t])}var mo=new WeakMap;function tn(t,e){if(typeof t=="object"&&t!==null){var l=mo.get(t);return l!==void 0?l:(e={value:t,source:e,stack:du(e)},mo.set(t,e),e)}return{value:t,source:e,stack:du(e)}}var en=[],Ha=0,Xs=0;function Cu(){for(var t=Ha,e=Xs=Ha=0;e<t;){var l=en[e];en[e++]=null;var n=en[e];en[e++]=null;var a=en[e];en[e++]=null;var i=en[e];if(en[e++]=null,n!==null&&a!==null){var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}i!==0&&yo(l,a,i)}}function wu(t,e,l,n){en[Ha++]=t,en[Ha++]=e,en[Ha++]=l,en[Ha++]=n,Xs|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function Ks(t,e,l,n){return wu(t,e,l,n),Mu(t)}function Ua(t,e){return wu(t,null,null,e),Mu(t)}function yo(t,e,l){t.lanes|=l;var n=t.alternate;n!==null&&(n.lanes|=l);for(var a=!1,i=t.return;i!==null;)i.childLanes|=l,n=i.alternate,n!==null&&(n.childLanes|=l),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-Y(l),t=i.hiddenUpdates,n=t[a],n===null?t[a]=[e]:n.push(e),e.lane=l|536870912),i):null}function Mu(t){if(50<Ii)throw Ii=0,Wc=null,Error(f(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ba={};function Ah(t,e,l,n){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(t,e,l,n){return new Ah(t,e,l,n)}function Zs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,e){var l=t.alternate;return l===null?(l=Kl(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function go(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Tu(t,e,l,n,a,i){var s=0;if(n=t,typeof t=="function")Zs(t)&&(s=1);else if(typeof t=="string")s=_m(t,l,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case It:return t=Kl(31,l,e,a),t.elementType=It,t.lanes=i,t;case S:return ya(l.children,a,i,e);case z:s=8,a|=24;break;case G:return t=Kl(12,l,e,a|2),t.elementType=G,t.lanes=i,t;case ct:return t=Kl(13,l,e,a),t.elementType=ct,t.lanes=i,t;case Ht:return t=Kl(19,l,e,a),t.elementType=Ht,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case K:s=10;break t;case rt:s=9;break t;case lt:s=11;break t;case ot:s=14;break t;case pt:s=16,n=null;break t}s=29,l=Error(f(130,t===null?"null":typeof t,"")),n=null}return e=Kl(s,l,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function ya(t,e,l,n){return t=Kl(7,t,n,e),t.lanes=l,t}function Qs(t,e,l){return t=Kl(6,t,null,e),t.lanes=l,t}function Is(t,e,l){return e=Kl(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Va=[],Ya=0,Eu=null,ju=0,ln=[],nn=0,ga=null,Nn=1,An="";function ba(t,e){Va[Ya++]=ju,Va[Ya++]=Eu,Eu=t,ju=e}function bo(t,e,l){ln[nn++]=Nn,ln[nn++]=An,ln[nn++]=ga,ga=t;var n=Nn;t=An;var a=32-Y(n)-1;n&=~(1<<a),l+=1;var i=32-Y(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Nn=1<<32-Y(e)+a|l<<a|n,An=i+t}else Nn=1<<i|l<<a|n,An=t}function $s(t){t.return!==null&&(ba(t,1),bo(t,1,0))}function Js(t){for(;t===Eu;)Eu=Va[--Ya],Va[Ya]=null,ju=Va[--Ya],Va[Ya]=null;for(;t===ga;)ga=ln[--nn],ln[nn]=null,An=ln[--nn],ln[nn]=null,Nn=ln[--nn],ln[nn]=null}var zl=null,Fe=null,pe=!1,xa=null,yn=!1,Ws=Error(f(519));function va(t){var e=Error(f(418,""));throw Ei(tn(e,t)),Ws}function xo(t){var e=t.stateNode,l=t.type,n=t.memoizedProps;switch(e[fe]=t,e[ye]=n,l){case"dialog":ce("cancel",e),ce("close",e);break;case"iframe":case"object":case"embed":ce("load",e);break;case"video":case"audio":for(l=0;l<Ji.length;l++)ce(Ji[l],e);break;case"source":ce("error",e);break;case"img":case"image":case"link":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"input":ce("invalid",e),za(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Ra(e);break;case"select":ce("invalid",e);break;case"textarea":ce("invalid",e),gu(e,n.value,n.defaultValue,n.children),Ra(e)}l=n.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||n.suppressHydrationWarning===!0||Dd(e.textContent,l)?(n.popover!=null&&(ce("beforetoggle",e),ce("toggle",e)),n.onScroll!=null&&ce("scroll",e),n.onScrollEnd!=null&&ce("scrollend",e),n.onClick!=null&&(e.onclick=ss),e=!0):e=!1,e||va(t)}function vo(t){for(zl=t.return;zl;)switch(zl.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:zl=zl.return}}function Mi(t){if(t!==zl)return!1;if(!pe)return vo(t),pe=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||hr(t.type,t.memoizedProps)),l=!l),l&&Fe&&va(t),vo(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(e===0){Fe=hn(t.nextSibling);break t}e--}else l!=="$"&&l!=="$!"&&l!=="$?"||e++;t=t.nextSibling}Fe=null}}else e===27?(e=Fe,ia(t.type)?(t=br,br=null,Fe=t):Fe=e):Fe=zl?hn(t.stateNode.nextSibling):null;return!0}function Ti(){Fe=zl=null,pe=!1}function po(){var t=xa;return t!==null&&(Bl===null?Bl=t:Bl.push.apply(Bl,t),xa=null),t}function Ei(t){xa===null?xa=[t]:xa.push(t)}var Fs=Z(null),pa=null,Rn=null;function Xn(t,e,l){ut(Fs,e._currentValue),e._currentValue=l}function _n(t){t._currentValue=Fs.current,st(Fs)}function Ps(t,e,l){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===l)break;t=t.return}}function tc(t,e,l,n){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;t:for(;i!==null;){var o=i;i=a;for(var y=0;y<e.length;y++)if(o.context===e[y]){i.lanes|=l,o=i.alternate,o!==null&&(o.lanes|=l),Ps(i.return,l,t),n||(s=null);break t}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(f(341));s.lanes|=l,i=s.alternate,i!==null&&(i.lanes|=l),Ps(s,l,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ji(t,e,l,n){t=null;for(var a=e,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(f(387));if(s=s.memoizedProps,s!==null){var o=a.type;Xl(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===xe.current){if(s=a.alternate,s===null)throw Error(f(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(lu):t=[lu])}a=a.return}t!==null&&tc(e,t,l,n),e.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!Xl(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){pa=t,Rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function El(t){return So(pa,t)}function Au(t,e){return pa===null&&Sa(t),So(t,e)}function So(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Rn===null){if(t===null)throw Error(f(308));Rn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Rn=Rn.next=e;return l}var Rh=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},_h=c.unstable_scheduleCallback,Oh=c.unstable_NormalPriority,rl={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new Rh,data:new Map,refCount:0}}function Ni(t){t.refCount--,t.refCount===0&&_h(Oh,function(){t.controller.abort()})}var Ai=null,lc=0,Ga=0,qa=null;function zh(t,e){if(Ai===null){var l=Ai=[];lc=0,Ga=ar(),qa={status:"pending",value:void 0,then:function(n){l.push(n)}}}return lc++,e.then(Co,Co),e}function Co(){if(--lc===0&&Ai!==null){qa!==null&&(qa.status="fulfilled");var t=Ai;Ai=null,Ga=0,qa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Lh(t,e){var l=[],n={status:"pending",value:null,reason:null,then:function(a){l.push(a)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var a=0;a<l.length;a++)(0,l[a])(e)},function(a){for(n.status="rejected",n.reason=a,a=0;a<l.length;a++)(0,l[a])(void 0)}),n}var wo=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&zh(t,e),wo!==null&&wo(t,e)};var Ca=Z(null);function nc(){var t=Ca.current;return t!==null?t:Ue.pooledCache}function Ru(t,e){e===null?ut(Ca,Ca.current):ut(Ca,e.pool)}function Mo(){var t=nc();return t===null?null:{parent:rl._currentValue,pool:t}}var Ri=Error(f(460)),To=Error(f(474)),_u=Error(f(542)),ac={then:function(){}};function Eo(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function jo(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Ou,Ou),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ao(t),t;default:if(typeof e.status=="string")e.then(Ou,Ou);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(f(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=n}},function(n){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ao(t),t}throw _i=e,Ri}}var _i=null;function No(){if(_i===null)throw Error(f(459));var t=_i;return _i=null,t}function Ao(t){if(t===Ri||t===_u)throw Error(f(483))}var Kn=!1;function ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(t,e,l){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Ee&2)!==0){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,e=Mu(t),yo(t,null,l),e}return wu(t,n,e,l),Mu(t)}function Oi(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,l|=n,e.lanes=l,Ae(t,l)}}function sc(t,e){var l=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,l===n)){var a=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var s={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,l=l.next}while(l!==null);i===null?a=i=e:i=i.next=e}else a=i=e;l={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var cc=!1;function zi(){if(cc){var t=qa;if(t!==null)throw t}}function Li(t,e,l,n){cc=!1;var a=t.updateQueue;Kn=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var y=o,O=y.next;y.next=null,s===null?i=O:s.next=O,s=y;var I=t.alternate;I!==null&&(I=I.updateQueue,o=I.lastBaseUpdate,o!==s&&(o===null?I.firstBaseUpdate=O:o.next=O,I.lastBaseUpdate=y))}if(i!==null){var F=a.baseState;s=0,I=O=y=null,o=i;do{var D=o.lane&-536870913,V=D!==o.lane;if(V?(he&D)===D:(n&D)===D){D!==0&&D===Ga&&(cc=!0),I!==null&&(I=I.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var Ut=t,Lt=o;D=e;var Oe=l;switch(Lt.tag){case 1:if(Ut=Lt.payload,typeof Ut=="function"){F=Ut.call(Oe,F,D);break t}F=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Lt.payload,D=typeof Ut=="function"?Ut.call(Oe,F,D):Ut,D==null)break t;F=d({},F,D);break t;case 2:Kn=!0}}D=o.callback,D!==null&&(t.flags|=64,V&&(t.flags|=8192),V=a.callbacks,V===null?a.callbacks=[D]:V.push(D))}else V={lane:D,tag:o.tag,payload:o.payload,callback:o.callback,next:null},I===null?(O=I=V,y=F):I=I.next=V,s|=D;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;V=o,o=V.next,V.next=null,a.lastBaseUpdate=V,a.shared.pending=null}}while(!0);I===null&&(y=F),a.baseState=y,a.firstBaseUpdate=O,a.lastBaseUpdate=I,i===null&&(a.shared.lanes=0),ea|=s,t.lanes=s,t.memoizedState=F}}function Ro(t,e){if(typeof t!="function")throw Error(f(191,t));t.call(e)}function _o(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Ro(l[t],e)}var Xa=Z(null),zu=Z(0);function Oo(t,e){t=Un,ut(zu,t),ut(Xa,e),Un=t|e.baseLanes}function rc(){ut(zu,Un),ut(Xa,Xa.current)}function oc(){Un=zu.current,st(Xa),st(zu)}var In=0,ae=null,Re=null,ul=null,Lu=!1,Ka=!1,wa=!1,ku=0,ki=0,Za=null,kh=0;function nl(){throw Error(f(321))}function fc(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!Xl(t[l],e[l]))return!1;return!0}function dc(t,e,l,n,a,i){return In=i,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?gf:bf,wa=!1,i=l(n,a),wa=!1,Ka&&(i=Lo(e,l,n,a)),zo(t),i}function zo(t){k.H=Yu;var e=Re!==null&&Re.next!==null;if(In=0,ul=Re=ae=null,Lu=!1,ki=0,Za=null,e)throw Error(f(300));t===null||hl||(t=t.dependencies,t!==null&&Nu(t)&&(hl=!0))}function Lo(t,e,l,n){ae=t;var a=0;do{if(Ka&&(Za=null),ki=0,Ka=!1,25<=a)throw Error(f(301));if(a+=1,ul=Re=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}k.H=Gh,i=e(l,n)}while(Ka);return i}function Dh(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?Di(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ae.flags|=1024),e}function hc(){var t=ku!==0;return ku=0,t}function mc(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function yc(t){if(Lu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Lu=!1}In=0,ul=Re=ae=null,Ka=!1,ki=ku=0,Za=null}function Hl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ul===null?ae.memoizedState=ul=t:ul=ul.next=t,ul}function sl(){if(Re===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=ul===null?ae.memoizedState:ul.next;if(e!==null)ul=e,Re=t;else{if(t===null)throw ae.alternate===null?Error(f(467)):Error(f(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},ul===null?ae.memoizedState=ul=t:ul=ul.next=t}return ul}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(t){var e=ki;return ki+=1,Za===null&&(Za=[]),t=jo(Za,t,e),e=ae,(ul===null?e.memoizedState:ul.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?gf:bf),t}function Du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Di(t);if(t.$$typeof===K)return El(t)}throw Error(f(438,String(t)))}function bc(t){var e=null,l=ae.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var n=ae.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=gc(),ae.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),n=0;n<t;n++)l[n]=jt;return e.index++,l}function On(t,e){return typeof e=="function"?e(t):e}function Hu(t){var e=sl();return xc(e,Re,t)}function xc(t,e,l){var n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=l;var a=t.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,n.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,y=null,O=e,I=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(he&F)===F:(In&F)===F){var D=O.revertLane;if(D===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===Ga&&(I=!0);else if((In&D)===D){O=O.next,D===Ga&&(I=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},y===null?(o=y=F,s=i):y=y.next=F,ae.lanes|=D,ea|=D;F=O.action,wa&&l(i,F),i=O.hasEagerState?O.eagerState:l(i,F)}else D={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},y===null?(o=y=D,s=i):y=y.next=D,ae.lanes|=F,ea|=F;O=O.next}while(O!==null&&O!==e);if(y===null?s=i:y.next=o,!Xl(i,t.memoizedState)&&(hl=!0,I&&(l=qa,l!==null)))throw l;t.memoizedState=i,t.baseState=s,t.baseQueue=y,n.lastRenderedState=i}return a===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function vc(t){var e=sl(),l=e.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=t;var n=l.dispatch,a=l.pending,i=e.memoizedState;if(a!==null){l.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Xl(i,e.memoizedState)||(hl=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),l.lastRenderedState=i}return[i,n]}function ko(t,e,l){var n=ae,a=sl(),i=pe;if(i){if(l===void 0)throw Error(f(407));l=l()}else l=e();var s=!Xl((Re||a).memoizedState,l);s&&(a.memoizedState=l,hl=!0),a=a.queue;var o=Uo.bind(null,n,a,t);if(Hi(2048,8,o,[t]),a.getSnapshot!==e||s||ul!==null&&ul.memoizedState.tag&1){if(n.flags|=2048,Qa(9,Uu(),Ho.bind(null,n,a,l,e),null),Ue===null)throw Error(f(349));i||(In&124)!==0||Do(n,e,l)}return l}function Do(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=ae.updateQueue,e===null?(e=gc(),ae.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function Ho(t,e,l,n){e.value=l,e.getSnapshot=n,Bo(e)&&Vo(t)}function Uo(t,e,l){return l(function(){Bo(e)&&Vo(t)})}function Bo(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!Xl(t,l)}catch{return!0}}function Vo(t){var e=Ua(t,2);e!==null&&Jl(e,t,2)}function pc(t){var e=Hl();if(typeof t=="function"){var l=t;if(t=l(),wa){$e(!0);try{l()}finally{$e(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},e}function Yo(t,e,l,n){return t.baseState=l,xc(t,Re,typeof n=="function"?n:On)}function Hh(t,e,l,n,a){if(Vu(t))throw Error(f(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};k.T!==null?l(!0):i.isTransition=!1,n(i),l=e.pending,l===null?(i.next=e.pending=i,Go(e,i)):(i.next=l.next,e.pending=l.next=i)}}function Go(t,e){var l=e.action,n=e.payload,a=t.state;if(e.isTransition){var i=k.T,s={};k.T=s;try{var o=l(a,n),y=k.S;y!==null&&y(s,o),qo(t,e,o)}catch(O){Sc(t,e,O)}finally{k.T=i}}else try{i=l(a,n),qo(t,e,i)}catch(O){Sc(t,e,O)}}function qo(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(n){Xo(t,e,n)},function(n){return Sc(t,e,n)}):Xo(t,e,l)}function Xo(t,e,l){e.status="fulfilled",e.value=l,Ko(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,Go(t,l)))}function Sc(t,e,l){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=l,Ko(e),e=e.next;while(e!==n)}t.action=null}function Ko(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zo(t,e){return e}function Qo(t,e){if(pe){var l=Ue.formState;if(l!==null){t:{var n=ae;if(pe){if(Fe){e:{for(var a=Fe,i=yn;a.nodeType!==8;){if(!i){a=null;break e}if(a=hn(a.nextSibling),a===null){a=null;break e}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Fe=hn(a.nextSibling),n=a.data==="F!";break t}}va(n)}n=!1}n&&(e=l[0])}}return l=Hl(),l.memoizedState=l.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},l.queue=n,l=hf.bind(null,ae,n),n.dispatch=l,n=pc(!1),i=Ec.bind(null,ae,!1,n.queue),n=Hl(),a={state:e,dispatch:null,action:t,pending:null},n.queue=a,l=Hh.bind(null,ae,a,i,l),a.dispatch=l,n.memoizedState=t,[e,l,!1]}function Io(t){var e=sl();return $o(e,Re,t)}function $o(t,e,l){if(e=xc(t,e,Zo)[0],t=Hu(On)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Di(e)}catch(s){throw s===Ri?_u:s}else n=e;e=sl();var a=e.queue,i=a.dispatch;return l!==e.memoizedState&&(ae.flags|=2048,Qa(9,Uu(),Uh.bind(null,a,l),null)),[n,i,t]}function Uh(t,e){t.action=e}function Jo(t){var e=sl(),l=Re;if(l!==null)return $o(e,l,t);sl(),e=e.memoizedState,l=sl();var n=l.queue.dispatch;return l.memoizedState=t,[e,n,!1]}function Qa(t,e,l,n){return t={tag:t,create:l,deps:n,inst:e,next:null},e=ae.updateQueue,e===null&&(e=gc(),ae.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(n=l.next,l.next=t,t.next=n,e.lastEffect=t),t}function Uu(){return{destroy:void 0,resource:void 0}}function Wo(){return sl().memoizedState}function Bu(t,e,l,n){var a=Hl();n=n===void 0?null:n,ae.flags|=t,a.memoizedState=Qa(1|e,Uu(),l,n)}function Hi(t,e,l,n){var a=sl();n=n===void 0?null:n;var i=a.memoizedState.inst;Re!==null&&n!==null&&fc(n,Re.memoizedState.deps)?a.memoizedState=Qa(e,i,l,n):(ae.flags|=t,a.memoizedState=Qa(1|e,i,l,n))}function Fo(t,e){Bu(8390656,8,t,e)}function Po(t,e){Hi(2048,8,t,e)}function tf(t,e){return Hi(4,2,t,e)}function ef(t,e){return Hi(4,4,t,e)}function lf(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,l){l=l!=null?l.concat([t]):null,Hi(4,4,lf.bind(null,e,t),l)}function Cc(){}function af(t,e){var l=sl();e=e===void 0?null:e;var n=l.memoizedState;return e!==null&&fc(e,n[1])?n[0]:(l.memoizedState=[t,e],t)}function uf(t,e){var l=sl();e=e===void 0?null:e;var n=l.memoizedState;if(e!==null&&fc(e,n[1]))return n[0];if(n=t(),wa){$e(!0);try{t()}finally{$e(!1)}}return l.memoizedState=[n,e],n}function wc(t,e,l){return l===void 0||(In&1073741824)!==0?t.memoizedState=e:(t.memoizedState=l,t=rd(),ae.lanes|=t,ea|=t,l)}function sf(t,e,l,n){return Xl(l,e)?l:Xa.current!==null?(t=wc(t,l,n),Xl(t,e)||(hl=!0),t):(In&42)===0?(hl=!0,t.memoizedState=l):(t=rd(),ae.lanes|=t,ea|=t,e)}function cf(t,e,l,n,a){var i=W.p;W.p=i!==0&&8>i?i:8;var s=k.T,o={};k.T=o,Ec(t,!1,e,l);try{var y=a(),O=k.S;if(O!==null&&O(o,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=Lh(y,n);Ui(t,e,I,$l(t))}else Ui(t,e,n,$l(t))}catch(F){Ui(t,e,{then:function(){},status:"rejected",reason:F},$l())}finally{W.p=i,k.T=s}}function Bh(){}function Mc(t,e,l,n){if(t.tag!==5)throw Error(f(476));var a=rf(t).queue;cf(t,a,e,yt,l===null?Bh:function(){return of(t),l(n)})}function rf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:yt},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function of(t){var e=rf(t).next.queue;Ui(t,e,{},$l())}function Tc(){return El(lu)}function ff(){return sl().memoizedState}function df(){return sl().memoizedState}function Vh(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=$l();t=Zn(l);var n=Qn(e,t,l);n!==null&&(Jl(n,e,l),Oi(n,e,l)),e={cache:ec()},t.payload=e;return}e=e.return}}function Yh(t,e,l){var n=$l();l={lane:n,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)?mf(e,l):(l=Ks(t,e,l,n),l!==null&&(Jl(l,t,n),yf(l,e,n)))}function hf(t,e,l){var n=$l();Ui(t,e,l,n)}function Ui(t,e,l,n){var a={lane:n,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))mf(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,l);if(a.hasEagerState=!0,a.eagerState=o,Xl(o,s))return wu(t,e,a,0),Ue===null&&Cu(),!1}catch{}finally{}if(l=Ks(t,e,a,n),l!==null)return Jl(l,t,n),yf(l,e,n),!0}return!1}function Ec(t,e,l,n){if(n={lane:2,revertLane:ar(),action:n,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(e)throw Error(f(479))}else e=Ks(t,l,n,2),e!==null&&Jl(e,t,2)}function Vu(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function mf(t,e){Ka=Lu=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function yf(t,e,l){if((l&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,l|=n,e.lanes=l,Ae(t,l)}}var Yu={readContext:El,use:Du,useCallback:nl,useContext:nl,useEffect:nl,useImperativeHandle:nl,useLayoutEffect:nl,useInsertionEffect:nl,useMemo:nl,useReducer:nl,useRef:nl,useState:nl,useDebugValue:nl,useDeferredValue:nl,useTransition:nl,useSyncExternalStore:nl,useId:nl,useHostTransitionStatus:nl,useFormState:nl,useActionState:nl,useOptimistic:nl,useMemoCache:nl,useCacheRefresh:nl},gf={readContext:El,use:Du,useCallback:function(t,e){return Hl().memoizedState=[t,e===void 0?null:e],t},useContext:El,useEffect:Fo,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,Bu(4194308,4,lf.bind(null,e,t),l)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){Bu(4,2,t,e)},useMemo:function(t,e){var l=Hl();e=e===void 0?null:e;var n=t();if(wa){$e(!0);try{t()}finally{$e(!1)}}return l.memoizedState=[n,e],n},useReducer:function(t,e,l){var n=Hl();if(l!==void 0){var a=l(e);if(wa){$e(!0);try{l(e)}finally{$e(!1)}}}else a=e;return n.memoizedState=n.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},n.queue=t,t=t.dispatch=Yh.bind(null,ae,t),[n.memoizedState,t]},useRef:function(t){var e=Hl();return t={current:t},e.memoizedState=t},useState:function(t){t=pc(t);var e=t.queue,l=hf.bind(null,ae,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Cc,useDeferredValue:function(t,e){var l=Hl();return wc(l,t,e)},useTransition:function(){var t=pc(!1);return t=cf.bind(null,ae,t.queue,!0,!1),Hl().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var n=ae,a=Hl();if(pe){if(l===void 0)throw Error(f(407));l=l()}else{if(l=e(),Ue===null)throw Error(f(349));(he&124)!==0||Do(n,e,l)}a.memoizedState=l;var i={value:l,getSnapshot:e};return a.queue=i,Fo(Uo.bind(null,n,i,t),[t]),n.flags|=2048,Qa(9,Uu(),Ho.bind(null,n,i,l,e),null),l},useId:function(){var t=Hl(),e=Ue.identifierPrefix;if(pe){var l=An,n=Nn;l=(n&~(1<<32-Y(n)-1)).toString(32)+l,e=""+e+"R"+l,l=ku++,0<l&&(e+="H"+l.toString(32)),e+=""}else l=kh++,e=""+e+"r"+l.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Tc,useFormState:Qo,useActionState:Qo,useOptimistic:function(t){var e=Hl();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Ec.bind(null,ae,!0,l),l.dispatch=e,[t,e]},useMemoCache:bc,useCacheRefresh:function(){return Hl().memoizedState=Vh.bind(null,ae)}},bf={readContext:El,use:Du,useCallback:af,useContext:El,useEffect:Po,useImperativeHandle:nf,useInsertionEffect:tf,useLayoutEffect:ef,useMemo:uf,useReducer:Hu,useRef:Wo,useState:function(){return Hu(On)},useDebugValue:Cc,useDeferredValue:function(t,e){var l=sl();return sf(l,Re.memoizedState,t,e)},useTransition:function(){var t=Hu(On)[0],e=sl().memoizedState;return[typeof t=="boolean"?t:Di(t),e]},useSyncExternalStore:ko,useId:ff,useHostTransitionStatus:Tc,useFormState:Io,useActionState:Io,useOptimistic:function(t,e){var l=sl();return Yo(l,Re,t,e)},useMemoCache:bc,useCacheRefresh:df},Gh={readContext:El,use:Du,useCallback:af,useContext:El,useEffect:Po,useImperativeHandle:nf,useInsertionEffect:tf,useLayoutEffect:ef,useMemo:uf,useReducer:vc,useRef:Wo,useState:function(){return vc(On)},useDebugValue:Cc,useDeferredValue:function(t,e){var l=sl();return Re===null?wc(l,t,e):sf(l,Re.memoizedState,t,e)},useTransition:function(){var t=vc(On)[0],e=sl().memoizedState;return[typeof t=="boolean"?t:Di(t),e]},useSyncExternalStore:ko,useId:ff,useHostTransitionStatus:Tc,useFormState:Jo,useActionState:Jo,useOptimistic:function(t,e){var l=sl();return Re!==null?Yo(l,Re,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:bc,useCacheRefresh:df},Ia=null,Bi=0;function Gu(t){var e=Bi;return Bi+=1,Ia===null&&(Ia=[]),jo(Ia,t,e)}function Vi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function qu(t,e){throw e.$$typeof===j?Error(f(525)):(t=Object.prototype.toString.call(e),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function xf(t){var e=t._init;return e(t._payload)}function vf(t){function e(E,C){if(t){var R=E.deletions;R===null?(E.deletions=[C],E.flags|=16):R.push(C)}}function l(E,C){if(!t)return null;for(;C!==null;)e(E,C),C=C.sibling;return null}function n(E){for(var C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function a(E,C){return E=jn(E,C),E.index=0,E.sibling=null,E}function i(E,C,R){return E.index=R,t?(R=E.alternate,R!==null?(R=R.index,R<C?(E.flags|=67108866,C):R):(E.flags|=67108866,C)):(E.flags|=1048576,C)}function s(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function o(E,C,R,J){return C===null||C.tag!==6?(C=Qs(R,E.mode,J),C.return=E,C):(C=a(C,R),C.return=E,C)}function y(E,C,R,J){var wt=R.type;return wt===S?I(E,C,R.props.children,J,R.key):C!==null&&(C.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===pt&&xf(wt)===C.type)?(C=a(C,R.props),Vi(C,R),C.return=E,C):(C=Tu(R.type,R.key,R.props,null,E.mode,J),Vi(C,R),C.return=E,C)}function O(E,C,R,J){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Is(R,E.mode,J),C.return=E,C):(C=a(C,R.children||[]),C.return=E,C)}function I(E,C,R,J,wt){return C===null||C.tag!==7?(C=ya(R,E.mode,J,wt),C.return=E,C):(C=a(C,R),C.return=E,C)}function F(E,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Qs(""+C,E.mode,R),C.return=E,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return R=Tu(C.type,C.key,C.props,null,E.mode,R),Vi(R,C),R.return=E,R;case X:return C=Is(C,E.mode,R),C.return=E,C;case pt:var J=C._init;return C=J(C._payload),F(E,C,R)}if(Yt(C)||Mt(C))return C=ya(C,E.mode,R,null),C.return=E,C;if(typeof C.then=="function")return F(E,Gu(C),R);if(C.$$typeof===K)return F(E,Au(E,C),R);qu(E,C)}return null}function D(E,C,R,J){var wt=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return wt!==null?null:o(E,C,""+R,J);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return R.key===wt?y(E,C,R,J):null;case X:return R.key===wt?O(E,C,R,J):null;case pt:return wt=R._init,R=wt(R._payload),D(E,C,R,J)}if(Yt(R)||Mt(R))return wt!==null?null:I(E,C,R,J,null);if(typeof R.then=="function")return D(E,C,Gu(R),J);if(R.$$typeof===K)return D(E,C,Au(E,R),J);qu(E,R)}return null}function V(E,C,R,J,wt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return E=E.get(R)||null,o(C,E,""+J,wt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return E=E.get(J.key===null?R:J.key)||null,y(C,E,J,wt);case X:return E=E.get(J.key===null?R:J.key)||null,O(C,E,J,wt);case pt:var ie=J._init;return J=ie(J._payload),V(E,C,R,J,wt)}if(Yt(J)||Mt(J))return E=E.get(R)||null,I(C,E,J,wt,null);if(typeof J.then=="function")return V(E,C,R,Gu(J),wt);if(J.$$typeof===K)return V(E,C,R,Au(C,J),wt);qu(C,J)}return null}function Ut(E,C,R,J){for(var wt=null,ie=null,Rt=C,Dt=C=0,yl=null;Rt!==null&&Dt<R.length;Dt++){Rt.index>Dt?(yl=Rt,Rt=null):yl=Rt.sibling;var be=D(E,Rt,R[Dt],J);if(be===null){Rt===null&&(Rt=yl);break}t&&Rt&&be.alternate===null&&e(E,Rt),C=i(be,C,Dt),ie===null?wt=be:ie.sibling=be,ie=be,Rt=yl}if(Dt===R.length)return l(E,Rt),pe&&ba(E,Dt),wt;if(Rt===null){for(;Dt<R.length;Dt++)Rt=F(E,R[Dt],J),Rt!==null&&(C=i(Rt,C,Dt),ie===null?wt=Rt:ie.sibling=Rt,ie=Rt);return pe&&ba(E,Dt),wt}for(Rt=n(Rt);Dt<R.length;Dt++)yl=V(Rt,E,Dt,R[Dt],J),yl!==null&&(t&&yl.alternate!==null&&Rt.delete(yl.key===null?Dt:yl.key),C=i(yl,C,Dt),ie===null?wt=yl:ie.sibling=yl,ie=yl);return t&&Rt.forEach(function(oa){return e(E,oa)}),pe&&ba(E,Dt),wt}function Lt(E,C,R,J){if(R==null)throw Error(f(151));for(var wt=null,ie=null,Rt=C,Dt=C=0,yl=null,be=R.next();Rt!==null&&!be.done;Dt++,be=R.next()){Rt.index>Dt?(yl=Rt,Rt=null):yl=Rt.sibling;var oa=D(E,Rt,be.value,J);if(oa===null){Rt===null&&(Rt=yl);break}t&&Rt&&oa.alternate===null&&e(E,Rt),C=i(oa,C,Dt),ie===null?wt=oa:ie.sibling=oa,ie=oa,Rt=yl}if(be.done)return l(E,Rt),pe&&ba(E,Dt),wt;if(Rt===null){for(;!be.done;Dt++,be=R.next())be=F(E,be.value,J),be!==null&&(C=i(be,C,Dt),ie===null?wt=be:ie.sibling=be,ie=be);return pe&&ba(E,Dt),wt}for(Rt=n(Rt);!be.done;Dt++,be=R.next())be=V(Rt,E,Dt,be.value,J),be!==null&&(t&&be.alternate!==null&&Rt.delete(be.key===null?Dt:be.key),C=i(be,C,Dt),ie===null?wt=be:ie.sibling=be,ie=be);return t&&Rt.forEach(function(qm){return e(E,qm)}),pe&&ba(E,Dt),wt}function Oe(E,C,R,J){if(typeof R=="object"&&R!==null&&R.type===S&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case v:t:{for(var wt=R.key;C!==null;){if(C.key===wt){if(wt=R.type,wt===S){if(C.tag===7){l(E,C.sibling),J=a(C,R.props.children),J.return=E,E=J;break t}}else if(C.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===pt&&xf(wt)===C.type){l(E,C.sibling),J=a(C,R.props),Vi(J,R),J.return=E,E=J;break t}l(E,C);break}else e(E,C);C=C.sibling}R.type===S?(J=ya(R.props.children,E.mode,J,R.key),J.return=E,E=J):(J=Tu(R.type,R.key,R.props,null,E.mode,J),Vi(J,R),J.return=E,E=J)}return s(E);case X:t:{for(wt=R.key;C!==null;){if(C.key===wt)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){l(E,C.sibling),J=a(C,R.children||[]),J.return=E,E=J;break t}else{l(E,C);break}else e(E,C);C=C.sibling}J=Is(R,E.mode,J),J.return=E,E=J}return s(E);case pt:return wt=R._init,R=wt(R._payload),Oe(E,C,R,J)}if(Yt(R))return Ut(E,C,R,J);if(Mt(R)){if(wt=Mt(R),typeof wt!="function")throw Error(f(150));return R=wt.call(R),Lt(E,C,R,J)}if(typeof R.then=="function")return Oe(E,C,Gu(R),J);if(R.$$typeof===K)return Oe(E,C,Au(E,R),J);qu(E,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(l(E,C.sibling),J=a(C,R),J.return=E,E=J):(l(E,C),J=Qs(R,E.mode,J),J.return=E,E=J),s(E)):l(E,C)}return function(E,C,R,J){try{Bi=0;var wt=Oe(E,C,R,J);return Ia=null,wt}catch(Rt){if(Rt===Ri||Rt===_u)throw Rt;var ie=Kl(29,Rt,null,E.mode);return ie.lanes=J,ie.return=E,ie}finally{}}}var $a=vf(!0),pf=vf(!1),an=Z(null),gn=null;function $n(t){var e=t.alternate;ut(ol,ol.current&1),ut(an,t),gn===null&&(e===null||Xa.current!==null||e.memoizedState!==null)&&(gn=t)}function Sf(t){if(t.tag===22){if(ut(ol,ol.current),ut(an,t),gn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(gn=t)}}else Jn()}function Jn(){ut(ol,ol.current),ut(an,an.current)}function zn(t){st(an),gn===t&&(gn=null),st(ol)}var ol=Z(0);function Xu(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||gr(l)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function jc(t,e,l,n){e=t.memoizedState,l=l(n,e),l=l==null?e:d({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Nc={enqueueSetState:function(t,e,l){t=t._reactInternals;var n=$l(),a=Zn(n);a.payload=e,l!=null&&(a.callback=l),e=Qn(t,a,n),e!==null&&(Jl(e,t,n),Oi(e,t,n))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var n=$l(),a=Zn(n);a.tag=1,a.payload=e,l!=null&&(a.callback=l),e=Qn(t,a,n),e!==null&&(Jl(e,t,n),Oi(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=$l(),n=Zn(l);n.tag=2,e!=null&&(n.callback=e),e=Qn(t,n,l),e!==null&&(Jl(e,t,l),Oi(e,t,l))}};function Cf(t,e,l,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ci(l,n)||!Ci(a,i):!0}function wf(t,e,l,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,n),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function Ma(t,e){var l=e;if("ref"in e){l={};for(var n in e)n!=="ref"&&(l[n]=e[n])}if(t=t.defaultProps){l===e&&(l=d({},l));for(var a in t)l[a]===void 0&&(l[a]=t[a])}return l}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mf(t){Ku(t)}function Tf(t){console.error(t)}function Ef(t){Ku(t)}function Zu(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function jf(t,e,l){try{var n=t.onCaughtError;n(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ac(t,e,l){return l=Zn(l),l.tag=3,l.payload={element:null},l.callback=function(){Zu(t,e)},l}function Nf(t){return t=Zn(t),t.tag=3,t}function Af(t,e,l,n){var a=l.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;t.payload=function(){return a(i)},t.callback=function(){jf(e,l,n)}}var s=l.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){jf(e,l,n),typeof a!="function"&&(la===null?la=new Set([this]):la.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function qh(t,e,l,n,a){if(l.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=l.alternate,e!==null&&ji(e,l,a,!0),l=an.current,l!==null){switch(l.tag){case 13:return gn===null?Pc():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=a,n===ac?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([n]):e.add(n),er(t,n,a)),!1;case 22:return l.flags|=65536,n===ac?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([n]):l.add(n)),er(t,n,a)),!1}throw Error(f(435,l.tag))}return er(t,n,a),Pc(),!1}if(pe)return e=an.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=a,n!==Ws&&(t=Error(f(422),{cause:n}),Ei(tn(t,l)))):(n!==Ws&&(e=Error(f(423),{cause:n}),Ei(tn(e,l))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,n=tn(n,l),a=Ac(t.stateNode,n,a),sc(t,a),Pe!==4&&(Pe=2)),!1;var i=Error(f(520),{cause:n});if(i=tn(i,l),Qi===null?Qi=[i]:Qi.push(i),Pe!==4&&(Pe=2),e===null)return!0;n=tn(n,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=a&-a,l.lanes|=t,t=Ac(l.stateNode,n,t),sc(l,t),!1;case 1:if(e=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(la===null||!la.has(i))))return l.flags|=65536,a&=-a,l.lanes|=a,a=Nf(a),Af(a,t,l,n),sc(l,a),!1}l=l.return}while(l!==null);return!1}var Rf=Error(f(461)),hl=!1;function Cl(t,e,l,n){e.child=t===null?pf(e,null,l,n):$a(e,t.child,l,n)}function _f(t,e,l,n,a){l=l.render;var i=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return Sa(e),n=dc(t,e,l,s,i,a),o=hc(),t!==null&&!hl?(mc(t,e,a),Ln(t,e,a)):(pe&&o&&$s(e),e.flags|=1,Cl(t,e,n,a),e.child)}function Of(t,e,l,n,a){if(t===null){var i=l.type;return typeof i=="function"&&!Zs(i)&&i.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=i,zf(t,e,i,n,a)):(t=Tu(l.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Hc(t,a)){var s=i.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(s,n)&&t.ref===e.ref)return Ln(t,e,a)}return e.flags|=1,t=jn(i,n),t.ref=e.ref,t.return=e,e.child=t}function zf(t,e,l,n,a){if(t!==null){var i=t.memoizedProps;if(Ci(i,n)&&t.ref===e.ref)if(hl=!1,e.pendingProps=n=i,Hc(t,a))(t.flags&131072)!==0&&(hl=!0);else return e.lanes=t.lanes,Ln(t,e,a)}return Rc(t,e,l,n,a)}function Lf(t,e,l){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=i!==null?i.baseLanes|l:l,t!==null){for(a=e.child=t.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;e.childLanes=i&~n}else e.childLanes=0,e.child=null;return kf(t,e,n,l)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(e,i!==null?i.cachePool:null),i!==null?Oo(e,i):rc(),Sf(e);else return e.lanes=e.childLanes=536870912,kf(t,e,i!==null?i.baseLanes|l:l,l)}else i!==null?(Ru(e,i.cachePool),Oo(e,i),Jn(),e.memoizedState=null):(t!==null&&Ru(e,null),rc(),Jn());return Cl(t,e,a,l),e.child}function kf(t,e,l,n){var a=nc();return a=a===null?null:{parent:rl._currentValue,pool:a},e.memoizedState={baseLanes:l,cachePool:a},t!==null&&Ru(e,null),rc(),Sf(e),t!==null&&ji(t,e,n,!0),null}function Qu(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(f(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Rc(t,e,l,n,a){return Sa(e),l=dc(t,e,l,n,void 0,a),n=hc(),t!==null&&!hl?(mc(t,e,a),Ln(t,e,a)):(pe&&n&&$s(e),e.flags|=1,Cl(t,e,l,a),e.child)}function Df(t,e,l,n,a,i){return Sa(e),e.updateQueue=null,l=Lo(e,n,l,a),zo(t),n=hc(),t!==null&&!hl?(mc(t,e,i),Ln(t,e,i)):(pe&&n&&$s(e),e.flags|=1,Cl(t,e,l,i),e.child)}function Hf(t,e,l,n,a){if(Sa(e),e.stateNode===null){var i=Ba,s=l.contextType;typeof s=="object"&&s!==null&&(i=El(s)),i=new l(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Nc,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},ic(e),s=l.contextType,i.context=typeof s=="object"&&s!==null?El(s):Ba,i.state=e.memoizedState,s=l.getDerivedStateFromProps,typeof s=="function"&&(jc(e,l,s,n),i.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Nc.enqueueReplaceState(i,i.state,null),Li(e,n,i,a),zi(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,y=Ma(l,o);i.props=y;var O=i.context,I=l.contextType;s=Ba,typeof I=="object"&&I!==null&&(s=El(I));var F=l.getDerivedStateFromProps;I=typeof F=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,I||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||O!==s)&&wf(e,i,n,s),Kn=!1;var D=e.memoizedState;i.state=D,Li(e,n,i,a),zi(),O=e.memoizedState,o||D!==O||Kn?(typeof F=="function"&&(jc(e,l,F,n),O=e.memoizedState),(y=Kn||Cf(e,l,y,n,D,O,s))?(I||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=O),i.props=n,i.state=O,i.context=s,n=y):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,uc(t,e),s=e.memoizedProps,I=Ma(l,s),i.props=I,F=e.pendingProps,D=i.context,O=l.contextType,y=Ba,typeof O=="object"&&O!==null&&(y=El(O)),o=l.getDerivedStateFromProps,(O=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==F||D!==y)&&wf(e,i,n,y),Kn=!1,D=e.memoizedState,i.state=D,Li(e,n,i,a),zi();var V=e.memoizedState;s!==F||D!==V||Kn||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof o=="function"&&(jc(e,l,o,n),V=e.memoizedState),(I=Kn||Cf(e,l,I,n,D,V,y)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(O||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,V,y),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,V,y)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=V),i.props=n,i.state=V,i.context=y,n=I):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,Qu(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,l=n&&typeof l.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=$a(e,t.child,null,a),e.child=$a(e,null,l,a)):Cl(t,e,l,a),e.memoizedState=i.state,t=e.child):t=Ln(t,e,a),t}function Uf(t,e,l,n){return Ti(),e.flags|=256,Cl(t,e,l,n),e.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(t){return{baseLanes:t,cachePool:Mo()}}function zc(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=un),t}function Bf(t,e,l){var n=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(ol.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(pe){if(a?$n(e):Jn(),pe){var o=Fe,y;if(y=o){t:{for(y=o,o=yn;y.nodeType!==8;){if(!o){o=null;break t}if(y=hn(y.nextSibling),y===null){o=null;break t}}o=y}o!==null?(e.memoizedState={dehydrated:o,treeContext:ga!==null?{id:Nn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},y=Kl(18,null,null,0),y.stateNode=o,y.return=e,e.child=y,zl=e,Fe=null,y=!0):y=!1}y||va(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return gr(o)?e.lanes=32:e.lanes=536870912,null;zn(e)}return o=n.children,n=n.fallback,a?(Jn(),a=e.mode,o=Iu({mode:"hidden",children:o},a),n=ya(n,a,l,null),o.return=e,n.return=e,o.sibling=n,e.child=o,a=e.child,a.memoizedState=Oc(l),a.childLanes=zc(t,s,l),e.memoizedState=_c,n):($n(e),Lc(e,o))}if(y=t.memoizedState,y!==null&&(o=y.dehydrated,o!==null)){if(i)e.flags&256?($n(e),e.flags&=-257,e=kc(t,e,l)):e.memoizedState!==null?(Jn(),e.child=t.child,e.flags|=128,e=null):(Jn(),a=n.fallback,o=e.mode,n=Iu({mode:"visible",children:n.children},o),a=ya(a,o,l,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,$a(e,t.child,null,l),n=e.child,n.memoizedState=Oc(l),n.childLanes=zc(t,s,l),e.memoizedState=_c,e=a);else if($n(e),gr(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var O=s.dgst;s=O,n=Error(f(419)),n.stack="",n.digest=s,Ei({value:n,source:null,stack:null}),e=kc(t,e,l)}else if(hl||ji(t,e,l,!1),s=(l&t.childLanes)!==0,hl||s){if(s=Ue,s!==null&&(n=l&-l,n=(n&42)!==0?1:Ve(n),n=(n&(s.suspendedLanes|l))!==0?0:n,n!==0&&n!==y.retryLane))throw y.retryLane=n,Ua(t,n),Jl(s,t,n),Rf;o.data==="$?"||Pc(),e=kc(t,e,l)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=y.treeContext,Fe=hn(o.nextSibling),zl=e,pe=!0,xa=null,yn=!1,t!==null&&(ln[nn++]=Nn,ln[nn++]=An,ln[nn++]=ga,Nn=t.id,An=t.overflow,ga=e),e=Lc(e,n.children),e.flags|=4096);return e}return a?(Jn(),a=n.fallback,o=e.mode,y=t.child,O=y.sibling,n=jn(y,{mode:"hidden",children:n.children}),n.subtreeFlags=y.subtreeFlags&65011712,O!==null?a=jn(O,a):(a=ya(a,o,l,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o===null?o=Oc(l):(y=o.cachePool,y!==null?(O=rl._currentValue,y=y.parent!==O?{parent:O,pool:O}:y):y=Mo(),o={baseLanes:o.baseLanes|l,cachePool:y}),a.memoizedState=o,a.childLanes=zc(t,s,l),e.memoizedState=_c,n):($n(e),l=t.child,t=l.sibling,l=jn(l,{mode:"visible",children:n.children}),l.return=e,l.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=l,e.memoizedState=null,l)}function Lc(t,e){return e=Iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Iu(t,e){return t=Kl(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kc(t,e,l){return $a(e,t.child,null,l),t=Lc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vf(t,e,l){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ps(t.return,e,l)}function Dc(t,e,l,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:l,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=l,i.tailMode=a)}function Yf(t,e,l){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Cl(t,e,n.children,l),n=ol.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vf(t,l,e);else if(t.tag===19)Vf(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(ut(ol,n),a){case"forwards":for(l=e.child,a=null;l!==null;)t=l.alternate,t!==null&&Xu(t)===null&&(a=l),l=l.sibling;l=a,l===null?(a=e.child,e.child=null):(a=l.sibling,l.sibling=null),Dc(e,!1,a,l,i);break;case"backwards":for(l=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Xu(t)===null){e.child=a;break}t=a.sibling,a.sibling=l,l=a,a=t}Dc(e,!0,l,null,i);break;case"together":Dc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ln(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(ji(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(f(153));if(e.child!==null){for(t=e.child,l=jn(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=jn(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Hc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function Xh(t,e,l){switch(e.tag){case 3:P(e,e.stateNode.containerInfo),Xn(e,rl,t.memoizedState.cache),Ti();break;case 27:case 5:$t(e);break;case 4:P(e,e.stateNode.containerInfo);break;case 10:Xn(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?($n(e),e.flags|=128,null):(l&e.child.childLanes)!==0?Bf(t,e,l):($n(e),t=Ln(t,e,l),t!==null?t.sibling:null);$n(e);break;case 19:var a=(t.flags&128)!==0;if(n=(l&e.childLanes)!==0,n||(ji(t,e,l,!1),n=(l&e.childLanes)!==0),a){if(n)return Yf(t,e,l);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ut(ol,ol.current),n)break;return null;case 22:case 23:return e.lanes=0,Lf(t,e,l);case 24:Xn(e,rl,t.memoizedState.cache)}return Ln(t,e,l)}function Gf(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)hl=!0;else{if(!Hc(t,l)&&(e.flags&128)===0)return hl=!1,Xh(t,e,l);hl=(t.flags&131072)!==0}else hl=!1,pe&&(e.flags&1048576)!==0&&bo(e,ju,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var n=e.elementType,a=n._init;if(n=a(n._payload),e.type=n,typeof n=="function")Zs(n)?(t=Ma(n,t),e.tag=1,e=Hf(null,e,n,t,l)):(e.tag=0,e=Rc(null,e,n,t,l));else{if(n!=null){if(a=n.$$typeof,a===lt){e.tag=11,e=_f(null,e,n,t,l);break t}else if(a===ot){e.tag=14,e=Of(null,e,n,t,l);break t}}throw e=Zt(n)||n,Error(f(306,e,""))}}return e;case 0:return Rc(t,e,e.type,e.pendingProps,l);case 1:return n=e.type,a=Ma(n,e.pendingProps),Hf(t,e,n,a,l);case 3:t:{if(P(e,e.stateNode.containerInfo),t===null)throw Error(f(387));n=e.pendingProps;var i=e.memoizedState;a=i.element,uc(t,e),Li(e,n,null,l);var s=e.memoizedState;if(n=s.cache,Xn(e,rl,n),n!==i.cache&&tc(e,[rl],l,!0),zi(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Uf(t,e,n,l);break t}else if(n!==a){a=tn(Error(f(424)),e),Ei(a),e=Uf(t,e,n,l);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=hn(t.firstChild),zl=e,pe=!0,xa=null,yn=!0,l=pf(e,null,n,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ti(),n===a){e=Ln(t,e,l);break t}Cl(t,e,n,l)}e=e.child}return e;case 26:return Qu(t,e),t===null?(l=Zd(e.type,null,e.pendingProps,null))?e.memoizedState=l:pe||(l=e.type,t=e.pendingProps,n=cs(Ct.current).createElement(l),n[fe]=e,n[ye]=t,Ml(n,l,t),Bt(n),e.stateNode=n):e.memoizedState=Zd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $t(e),t===null&&pe&&(n=e.stateNode=qd(e.type,e.pendingProps,Ct.current),zl=e,yn=!0,a=Fe,ia(e.type)?(br=a,Fe=hn(n.firstChild)):Fe=a),Cl(t,e,e.pendingProps.children,l),Qu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pe&&((a=n=Fe)&&(n=xm(n,e.type,e.pendingProps,yn),n!==null?(e.stateNode=n,zl=e,Fe=hn(n.firstChild),yn=!1,a=!0):a=!1),a||va(e)),$t(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,n=i.children,hr(a,i)?n=null:s!==null&&hr(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=dc(t,e,Dh,null,null,l),lu._currentValue=a),Qu(t,e),Cl(t,e,n,l),e.child;case 6:return t===null&&pe&&((t=l=Fe)&&(l=vm(l,e.pendingProps,yn),l!==null?(e.stateNode=l,zl=e,Fe=null,t=!0):t=!1),t||va(e)),null;case 13:return Bf(t,e,l);case 4:return P(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$a(e,null,n,l):Cl(t,e,n,l),e.child;case 11:return _f(t,e,e.type,e.pendingProps,l);case 7:return Cl(t,e,e.pendingProps,l),e.child;case 8:return Cl(t,e,e.pendingProps.children,l),e.child;case 12:return Cl(t,e,e.pendingProps.children,l),e.child;case 10:return n=e.pendingProps,Xn(e,e.type,n.value),Cl(t,e,n.children,l),e.child;case 9:return a=e.type._context,n=e.pendingProps.children,Sa(e),a=El(a),n=n(a),e.flags|=1,Cl(t,e,n,l),e.child;case 14:return Of(t,e,e.type,e.pendingProps,l);case 15:return zf(t,e,e.type,e.pendingProps,l);case 19:return Yf(t,e,l);case 31:return n=e.pendingProps,l=e.mode,n={mode:n.mode,children:n.children},t===null?(l=Iu(n,l),l.ref=e.ref,e.child=l,l.return=e,e=l):(l=jn(t.child,n),l.ref=e.ref,e.child=l,l.return=e,e=l),e;case 22:return Lf(t,e,l);case 24:return Sa(e),n=El(rl),t===null?(a=nc(),a===null&&(a=Ue,i=ec(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=l),a=i),e.memoizedState={parent:n,cache:a},ic(e),Xn(e,rl,a)):((t.lanes&l)!==0&&(uc(t,e),Li(e,null,null,l),zi()),a=t.memoizedState,i=e.memoizedState,a.parent!==n?(a={parent:n,cache:n},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),Xn(e,rl,n)):(n=i.cache,Xn(e,rl,n),n!==a.cache&&tc(e,[rl],l,!0))),Cl(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(f(156,e.tag))}function kn(t){t.flags|=4}function qf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wd(e)){if(e=an.current,e!==null&&((he&4194048)===he?gn!==null:(he&62914560)!==he&&(he&536870912)===0||e!==gn))throw _i=ac,To;t.flags|=8192}}function $u(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?we():536870912,t.lanes|=e,Pa|=e)}function Yi(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var n=null;l!==null;)l.alternate!==null&&(n=l),l=l.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,n=0;if(e)for(var a=t.child;a!==null;)l|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)l|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=l,e}function Kh(t,e,l){var n=e.pendingProps;switch(Js(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return Ke(e),null;case 3:return l=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),_n(rl),re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Mi(e)?kn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,po())),Ke(e),null;case 26:return l=e.memoizedState,t===null?(kn(e),l!==null?(Ke(e),qf(e,l)):(Ke(e),e.flags&=-16777217)):l?l!==t.memoizedState?(kn(e),Ke(e),qf(e,l)):(Ke(e),e.flags&=-16777217):(t.memoizedProps!==n&&kn(e),Ke(e),e.flags&=-16777217),null;case 27:kt(e),l=Ct.current;var a=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Ke(e),null}t=ht.current,Mi(e)?xo(e):(t=qd(a,n,l),e.stateNode=t,kn(e))}return Ke(e),null;case 5:if(kt(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(!n){if(e.stateNode===null)throw Error(f(166));return Ke(e),null}if(t=ht.current,Mi(e))xo(e);else{switch(a=cs(Ct.current),t){case 1:t=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?a.createElement(l,{is:n.is}):a.createElement(l)}}t[fe]=e,t[ye]=n;t:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=t;t:switch(Ml(t,l,n),l){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&kn(e)}}return Ke(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&kn(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(f(166));if(t=Ct.current,Mi(e)){if(t=e.stateNode,l=e.memoizedProps,n=null,a=zl,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}t[fe]=e,t=!!(t.nodeValue===l||n!==null&&n.suppressHydrationWarning===!0||Dd(t.nodeValue,l)),t||va(e)}else t=cs(t).createTextNode(n),t[fe]=e,e.stateNode=t}return Ke(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Mi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(f(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(f(317));a[fe]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ke(e),a=!1}else a=po(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(zn(e),e):(zn(e),null)}if(zn(e),(e.flags&128)!==0)return e.lanes=l,e;if(l=n!==null,t=t!==null&&t.memoizedState!==null,l){n=e.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool);var i=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)}return l!==t&&l&&(e.child.flags|=8192),$u(e,e.updateQueue),Ke(e),null;case 4:return re(),t===null&&cr(e.stateNode.containerInfo),Ke(e),null;case 10:return _n(e.type),Ke(e),null;case 19:if(st(ol),a=e.memoizedState,a===null)return Ke(e),null;if(n=(e.flags&128)!==0,i=a.rendering,i===null)if(n)Yi(a,!1);else{if(Pe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=Xu(t),i!==null){for(e.flags|=128,Yi(a,!1),t=i.updateQueue,e.updateQueue=t,$u(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)go(l,t),l=l.sibling;return ut(ol,ol.current&1|2),e.child}t=t.sibling}a.tail!==null&&ze()>Fu&&(e.flags|=128,n=!0,Yi(a,!1),e.lanes=4194304)}else{if(!n)if(t=Xu(i),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,$u(e,t),Yi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!pe)return Ke(e),null}else 2*ze()-a.renderingStartTime>Fu&&l!==536870912&&(e.flags|=128,n=!0,Yi(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ze(),e.sibling=null,t=ol.current,ut(ol,n?t&1|2:t&1),e):(Ke(e),null);case 22:case 23:return zn(e),oc(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(l&536870912)!==0&&(e.flags&128)===0&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),l=e.updateQueue,l!==null&&$u(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==l&&(e.flags|=2048),t!==null&&st(Ca),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),_n(rl),Ke(e),null;case 25:return null;case 30:return null}throw Error(f(156,e.tag))}function Zh(t,e){switch(Js(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _n(rl),re(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return kt(e),null;case 13:if(zn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(f(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ol),null;case 4:return re(),null;case 10:return _n(e.type),null;case 22:case 23:return zn(e),oc(),t!==null&&st(Ca),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return _n(rl),null;case 25:return null;default:return null}}function Xf(t,e){switch(Js(e),e.tag){case 3:_n(rl),re();break;case 26:case 27:case 5:kt(e);break;case 4:re();break;case 13:zn(e);break;case 19:st(ol);break;case 10:_n(e.type);break;case 22:case 23:zn(e),oc(),t!==null&&st(Ca);break;case 24:_n(rl)}}function Gi(t,e){try{var l=e.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var a=n.next;l=a;do{if((l.tag&t)===t){n=void 0;var i=l.create,s=l.inst;n=i(),s.destroy=n}l=l.next}while(l!==a)}}catch(o){De(e,e.return,o)}}function Wn(t,e,l){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var y=l,O=o;try{O()}catch(I){De(a,y,I)}}}n=n.next}while(n!==i)}}catch(I){De(e,e.return,I)}}function Kf(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{_o(e,l)}catch(n){De(t,t.return,n)}}}function Zf(t,e,l){l.props=Ma(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(n){De(t,e,n)}}function qi(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof l=="function"?t.refCleanup=l(n):l.current=n}}catch(a){De(t,e,a)}}function bn(t,e){var l=t.ref,n=t.refCleanup;if(l!==null)if(typeof n=="function")try{n()}catch(a){De(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(a){De(t,e,a)}else l.current=null}function Qf(t){var e=t.type,l=t.memoizedProps,n=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break t;case"img":l.src?n.src=l.src:l.srcSet&&(n.srcset=l.srcSet)}}catch(a){De(t,t.return,a)}}function Uc(t,e,l){try{var n=t.stateNode;hm(n,t.type,l,e),n[ye]=e}catch(a){De(t,t.return,a)}}function If(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function Bc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||If(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vc(t,e,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=ss));else if(n!==4&&(n===27&&ia(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(Vc(t,e,l),t=t.sibling;t!==null;)Vc(t,e,l),t=t.sibling}function Ju(t,e,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(n!==4&&(n===27&&ia(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ju(t,e,l),t=t.sibling;t!==null;)Ju(t,e,l),t=t.sibling}function $f(t){var e=t.stateNode,l=t.memoizedProps;try{for(var n=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ml(e,n,l),e[fe]=t,e[ye]=l}catch(i){De(t,t.return,i)}}var Dn=!1,al=!1,Yc=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,ml=null;function Qh(t,e){if(t=t.containerInfo,fr=ms,t=io(t),Bs(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var n=l.getSelection&&l.getSelection();if(n&&n.rangeCount!==0){l=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break t}var s=0,o=-1,y=-1,O=0,I=0,F=t,D=null;e:for(;;){for(var V;F!==l||a!==0&&F.nodeType!==3||(o=s+a),F!==i||n!==0&&F.nodeType!==3||(y=s+n),F.nodeType===3&&(s+=F.nodeValue.length),(V=F.firstChild)!==null;)D=F,F=V;for(;;){if(F===t)break e;if(D===l&&++O===a&&(o=s),D===i&&++I===n&&(y=s),(V=F.nextSibling)!==null)break;F=D,D=F.parentNode}F=V}l=o===-1||y===-1?null:{start:o,end:y}}else l=null}l=l||{start:0,end:0}}else l=null;for(dr={focusedElem:t,selectionRange:l},ms=!1,ml=e;ml!==null;)if(e=ml,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ml=t;else for(;ml!==null;){switch(e=ml,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,l=e,a=i.memoizedProps,i=i.memoizedState,n=l.stateNode;try{var Ut=Ma(l.type,a,l.elementType===l.type);t=n.getSnapshotBeforeUpdate(Ut,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(Lt){De(l,l.return,Lt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)yr(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(f(163))}if(t=e.sibling,t!==null){t.return=e.return,ml=t;break}ml=e.return}}function Wf(t,e,l){var n=l.flags;switch(l.tag){case 0:case 11:case 15:Fn(t,l),n&4&&Gi(5,l);break;case 1:if(Fn(t,l),n&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(s){De(l,l.return,s)}else{var a=Ma(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){De(l,l.return,s)}}n&64&&Kf(l),n&512&&qi(l,l.return);break;case 3:if(Fn(t,l),n&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{_o(t,e)}catch(s){De(l,l.return,s)}}break;case 27:e===null&&n&4&&$f(l);case 26:case 5:Fn(t,l),e===null&&n&4&&Qf(l),n&512&&qi(l,l.return);break;case 12:Fn(t,l);break;case 13:Fn(t,l),n&4&&td(t,l),n&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=lm.bind(null,l),pm(t,l))));break;case 22:if(n=l.memoizedState!==null||Dn,!n){e=e!==null&&e.memoizedState!==null||al,a=Dn;var i=al;Dn=n,(al=e)&&!i?Pn(t,l,(l.subtreeFlags&8772)!==0):Fn(t,l),Dn=a,al=i}break;case 30:break;default:Fn(t,l)}}function Ff(t){var e=t.alternate;e!==null&&(t.alternate=null,Ff(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Tt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,Ul=!1;function Hn(t,e,l){for(l=l.child;l!==null;)Pf(t,e,l),l=l.sibling}function Pf(t,e,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,l)}catch{}switch(l.tag){case 26:al||bn(l,e),Hn(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:al||bn(l,e);var n=Ge,a=Ul;ia(l.type)&&(Ge=l.stateNode,Ul=!1),Hn(t,e,l),Fi(l.stateNode),Ge=n,Ul=a;break;case 5:al||bn(l,e);case 6:if(n=Ge,a=Ul,Ge=null,Hn(t,e,l),Ge=n,Ul=a,Ge!==null)if(Ul)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(l.stateNode)}catch(i){De(l,e,i)}else try{Ge.removeChild(l.stateNode)}catch(i){De(l,e,i)}break;case 18:Ge!==null&&(Ul?(t=Ge,Yd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),uu(t)):Yd(Ge,l.stateNode));break;case 4:n=Ge,a=Ul,Ge=l.stateNode.containerInfo,Ul=!0,Hn(t,e,l),Ge=n,Ul=a;break;case 0:case 11:case 14:case 15:al||Wn(2,l,e),al||Wn(4,l,e),Hn(t,e,l);break;case 1:al||(bn(l,e),n=l.stateNode,typeof n.componentWillUnmount=="function"&&Zf(l,e,n)),Hn(t,e,l);break;case 21:Hn(t,e,l);break;case 22:al=(n=al)||l.memoizedState!==null,Hn(t,e,l),al=n;break;default:Hn(t,e,l)}}function td(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uu(t)}catch(l){De(e,e.return,l)}}function Ih(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Jf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Jf),e;default:throw Error(f(435,t.tag))}}function Gc(t,e){var l=Ih(t);e.forEach(function(n){var a=nm.bind(null,t,n);l.has(n)||(l.add(n),n.then(a,a))})}function Zl(t,e){var l=e.deletions;if(l!==null)for(var n=0;n<l.length;n++){var a=l[n],i=t,s=e,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(ia(o.type)){Ge=o.stateNode,Ul=!1;break t}break;case 5:Ge=o.stateNode,Ul=!1;break t;case 3:case 4:Ge=o.stateNode.containerInfo,Ul=!0;break t}o=o.return}if(Ge===null)throw Error(f(160));Pf(i,s,a),Ge=null,Ul=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)ed(e,t),e=e.sibling}var dn=null;function ed(t,e){var l=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zl(e,t),Ql(t),n&4&&(Wn(3,t,t.return),Gi(3,t),Wn(5,t,t.return));break;case 1:Zl(e,t),Ql(t),n&512&&(al||l===null||bn(l,l.return)),n&64&&Dn&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?n:l.concat(n))));break;case 26:var a=dn;if(Zl(e,t),Ql(t),n&512&&(al||l===null||bn(l,l.return)),n&4){var i=l!==null?l.memoizedState:null;if(n=t.memoizedState,l===null)if(n===null)if(t.stateNode===null){t:{n=t.type,l=t.memoizedProps,a=a.ownerDocument||a;e:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[_t]||i[fe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ml(i,n,l),i[fe]=t,Bt(i),n=i;break t;case"link":var s=$d("link","href",a).get(n+(l.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){s.splice(o,1);break e}}i=a.createElement(n),Ml(i,n,l),a.head.appendChild(i);break;case"meta":if(s=$d("meta","content",a).get(n+(l.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){s.splice(o,1);break e}}i=a.createElement(n),Ml(i,n,l),a.head.appendChild(i);break;default:throw Error(f(468,n))}i[fe]=t,Bt(i),n=i}t.stateNode=n}else Jd(a,t.type,t.stateNode);else t.stateNode=Id(a,n,t.memoizedProps);else i!==n?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,n===null?Jd(a,t.type,t.stateNode):Id(a,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Uc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Zl(e,t),Ql(t),n&512&&(al||l===null||bn(l,l.return)),l!==null&&n&4&&Uc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Zl(e,t),Ql(t),n&512&&(al||l===null||bn(l,l.return)),t.flags&32){a=t.stateNode;try{Gn(a,"")}catch(V){De(t,t.return,V)}}n&4&&t.stateNode!=null&&(a=t.memoizedProps,Uc(t,a,l!==null?l.memoizedProps:a)),n&1024&&(Yc=!0);break;case 6:if(Zl(e,t),Ql(t),n&4){if(t.stateNode===null)throw Error(f(162));n=t.memoizedProps,l=t.stateNode;try{l.nodeValue=n}catch(V){De(t,t.return,V)}}break;case 3:if(fs=null,a=dn,dn=rs(e.containerInfo),Zl(e,t),dn=a,Ql(t),n&4&&l!==null&&l.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(V){De(t,t.return,V)}Yc&&(Yc=!1,ld(t));break;case 4:n=dn,dn=rs(t.stateNode.containerInfo),Zl(e,t),Ql(t),dn=n;break;case 12:Zl(e,t),Ql(t);break;case 13:Zl(e,t),Ql(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ic=ze()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Gc(t,n)));break;case 22:a=t.memoizedState!==null;var y=l!==null&&l.memoizedState!==null,O=Dn,I=al;if(Dn=O||a,al=I||y,Zl(e,t),al=I,Dn=O,Ql(t),n&8192)t:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(l===null||y||Dn||al||Ta(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){y=l=e;try{if(i=y.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=y.stateNode;var F=y.memoizedProps.style,D=F!=null&&F.hasOwnProperty("display")?F.display:null;o.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(V){De(y,y.return,V)}}}else if(e.tag===6){if(l===null){y=e;try{y.stateNode.nodeValue=a?"":y.memoizedProps}catch(V){De(y,y.return,V)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(l=n.retryQueue,l!==null&&(n.retryQueue=null,Gc(t,l))));break;case 19:Zl(e,t),Ql(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Gc(t,n)));break;case 30:break;case 21:break;default:Zl(e,t),Ql(t)}}function Ql(t){var e=t.flags;if(e&2){try{for(var l,n=t.return;n!==null;){if(If(n)){l=n;break}n=n.return}if(l==null)throw Error(f(160));switch(l.tag){case 27:var a=l.stateNode,i=Bc(t);Ju(t,i,a);break;case 5:var s=l.stateNode;l.flags&32&&(Gn(s,""),l.flags&=-33);var o=Bc(t);Ju(t,o,s);break;case 3:case 4:var y=l.stateNode.containerInfo,O=Bc(t);Vc(t,O,y);break;default:throw Error(f(161))}}catch(I){De(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ld(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ld(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Fn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Wf(t,e.alternate,e),e=e.sibling}function Ta(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Wn(4,e,e.return),Ta(e);break;case 1:bn(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&Zf(e,e.return,l),Ta(e);break;case 27:Fi(e.stateNode);case 26:case 5:bn(e,e.return),Ta(e);break;case 22:e.memoizedState===null&&Ta(e);break;case 30:Ta(e);break;default:Ta(e)}t=t.sibling}}function Pn(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Pn(a,i,l),Gi(4,i);break;case 1:if(Pn(a,i,l),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(O){De(n,n.return,O)}if(n=i,a=n.updateQueue,a!==null){var o=n.stateNode;try{var y=a.shared.hiddenCallbacks;if(y!==null)for(a.shared.hiddenCallbacks=null,a=0;a<y.length;a++)Ro(y[a],o)}catch(O){De(n,n.return,O)}}l&&s&64&&Kf(i),qi(i,i.return);break;case 27:$f(i);case 26:case 5:Pn(a,i,l),l&&n===null&&s&4&&Qf(i),qi(i,i.return);break;case 12:Pn(a,i,l);break;case 13:Pn(a,i,l),l&&s&4&&td(a,i);break;case 22:i.memoizedState===null&&Pn(a,i,l),qi(i,i.return);break;case 30:break;default:Pn(a,i,l)}e=e.sibling}}function qc(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Ni(l))}function Xc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ni(t))}function xn(t,e,l,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nd(t,e,l,n),e=e.sibling}function nd(t,e,l,n){var a=e.flags;switch(e.tag){case 0:case 11:case 15:xn(t,e,l,n),a&2048&&Gi(9,e);break;case 1:xn(t,e,l,n);break;case 3:xn(t,e,l,n),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ni(t)));break;case 12:if(a&2048){xn(t,e,l,n),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(y){De(e,e.return,y)}}else xn(t,e,l,n);break;case 13:xn(t,e,l,n);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?xn(t,e,l,n):Xi(t,e):i._visibility&2?xn(t,e,l,n):(i._visibility|=2,Ja(t,e,l,n,(e.subtreeFlags&10256)!==0)),a&2048&&qc(s,e);break;case 24:xn(t,e,l,n),a&2048&&Xc(e.alternate,e);break;default:xn(t,e,l,n)}}function Ja(t,e,l,n,a){for(a=a&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,s=e,o=l,y=n,O=s.flags;switch(s.tag){case 0:case 11:case 15:Ja(i,s,o,y,a),Gi(8,s);break;case 23:break;case 22:var I=s.stateNode;s.memoizedState!==null?I._visibility&2?Ja(i,s,o,y,a):Xi(i,s):(I._visibility|=2,Ja(i,s,o,y,a)),a&&O&2048&&qc(s.alternate,s);break;case 24:Ja(i,s,o,y,a),a&&O&2048&&Xc(s.alternate,s);break;default:Ja(i,s,o,y,a)}e=e.sibling}}function Xi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,n=e,a=n.flags;switch(n.tag){case 22:Xi(l,n),a&2048&&qc(n.alternate,n);break;case 24:Xi(l,n),a&2048&&Xc(n.alternate,n);break;default:Xi(l,n)}e=e.sibling}}var Ki=8192;function Wa(t){if(t.subtreeFlags&Ki)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 26:Wa(t),t.flags&Ki&&t.memoizedState!==null&&zm(dn,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var e=dn;dn=rs(t.stateNode.containerInfo),Wa(t),dn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ki,Ki=16777216,Wa(t),Ki=e):Wa(t));break;default:Wa(t)}}function id(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Zi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var n=e[l];ml=n,sd(n,t)}id(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ud(t),t=t.sibling}function ud(t){switch(t.tag){case 0:case 11:case 15:Zi(t),t.flags&2048&&Wn(9,t,t.return);break;case 3:Zi(t);break;case 12:Zi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wu(t)):Zi(t);break;default:Zi(t)}}function Wu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var n=e[l];ml=n,sd(n,t)}id(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Wn(8,e,e.return),Wu(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,Wu(e));break;default:Wu(e)}t=t.sibling}}function sd(t,e){for(;ml!==null;){var l=ml;switch(l.tag){case 0:case 11:case 15:Wn(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var n=l.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ni(l.memoizedState.cache)}if(n=l.child,n!==null)n.return=l,ml=n;else t:for(l=t;ml!==null;){n=ml;var a=n.sibling,i=n.return;if(Ff(n),n===l){ml=null;break t}if(a!==null){a.return=i,ml=a;break t}ml=i}}}var $h={getCacheForType:function(t){var e=El(rl),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l}},Jh=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,se=null,he=0,je=0,Il=null,ta=!1,Fa=!1,Kc=!1,Un=0,Pe=0,ea=0,Ea=0,Zc=0,un=0,Pa=0,Qi=null,Bl=null,Qc=!1,Ic=0,Fu=1/0,Pu=null,la=null,wl=0,na=null,ti=null,ei=0,$c=0,Jc=null,cd=null,Ii=0,Wc=null;function $l(){if((Ee&2)!==0&&he!==0)return he&-he;if(k.T!==null){var t=Ga;return t!==0?t:ar()}return dl()}function rd(){un===0&&(un=(he&536870912)===0||pe?Qt():536870912);var t=an.current;return t!==null&&(t.flags|=32),un}function Jl(t,e,l){(t===Ue&&(je===2||je===9)||t.cancelPendingCommit!==null)&&(li(t,0),aa(t,he,un,!1)),me(t,l),((Ee&2)===0||t!==Ue)&&(t===Ue&&((Ee&2)===0&&(Ea|=l),Pe===4&&aa(t,he,un,!1)),vn(t))}function od(t,e,l){if((Ee&6)!==0)throw Error(f(327));var n=!l&&(e&124)===0&&(e&t.expiredLanes)===0||vt(t,e),a=n?Ph(t,e):tr(t,e,!0),i=n;do{if(a===0){Fa&&!n&&aa(t,e,0,!1);break}else{if(l=t.current.alternate,i&&!Wh(l)){a=tr(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;t:{var o=t;a=Qi;var y=o.current.memoizedState.isDehydrated;if(y&&(li(o,s).flags|=256),s=tr(o,s,!1),s!==2){if(Kc&&!y){o.errorRecoveryDisabledLanes|=i,Ea|=i,a=4;break t}i=Bl,Bl=a,i!==null&&(Bl===null?Bl=i:Bl.push.apply(Bl,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){li(t,0),aa(t,e,0,!0);break}t:{switch(n=t,i=a,i){case 0:case 1:throw Error(f(345));case 4:if((e&4194048)!==e)break;case 6:aa(n,e,un,!ta);break t;case 2:Bl=null;break;case 3:case 5:break;default:throw Error(f(329))}if((e&62914560)===e&&(a=Ic+300-ze(),10<a)){if(aa(n,e,un,!ta),nt(n,0,!0)!==0)break t;n.timeoutHandle=Bd(fd.bind(null,n,l,Bl,Pu,Qc,e,un,Ea,Pa,ta,i,2,-0,0),a);break t}fd(n,l,Bl,Pu,Qc,e,un,Ea,Pa,ta,i,0,-0,0)}}break}while(!0);vn(t)}function fd(t,e,l,n,a,i,s,o,y,O,I,F,D,V){if(t.timeoutHandle=-1,F=e.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:Om},ad(e),F=Lm(),F!==null)){t.cancelPendingCommit=F(xd.bind(null,t,e,i,l,n,a,s,o,y,I,1,D,V)),aa(t,i,s,!O);return}xd(t,e,i,l,n,a,s,o,y)}function Wh(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var n=0;n<l.length;n++){var a=l[n],i=a.getSnapshot;a=a.value;try{if(!Xl(i(),a))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function aa(t,e,l,n){e&=~Zc,e&=~Ea,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var a=e;0<a;){var i=31-Y(a),s=1<<i;n[i]=-1,a&=~s}l!==0&&ue(t,l,e)}function ts(){return(Ee&6)===0?($i(0),!1):!0}function Fc(){if(se!==null){if(je===0)var t=se.return;else t=se,Rn=pa=null,yc(t),Ia=null,Bi=0,t=se;for(;t!==null;)Xf(t.alternate,t),t=t.return;se=null}}function li(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,ym(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Fc(),Ue=t,se=l=jn(t.current,null),he=e,je=0,Il=null,ta=!1,Fa=vt(t,e),Kc=!1,Pa=un=Zc=Ea=ea=Pe=0,Bl=Qi=null,Qc=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var a=31-Y(n),i=1<<a;e|=t[a],n&=~i}return Un=e,Cu(),l}function dd(t,e){ae=null,k.H=Yu,e===Ri||e===_u?(e=No(),je=3):e===To?(e=No(),je=4):je=e===Rf?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Il=e,se===null&&(Pe=1,Zu(t,tn(e,t.current)))}function hd(){var t=k.H;return k.H=Yu,t===null?Yu:t}function md(){var t=k.A;return k.A=$h,t}function Pc(){Pe=4,ta||(he&4194048)!==he&&an.current!==null||(Fa=!0),(ea&134217727)===0&&(Ea&134217727)===0||Ue===null||aa(Ue,he,un,!1)}function tr(t,e,l){var n=Ee;Ee|=2;var a=hd(),i=md();(Ue!==t||he!==e)&&(Pu=null,li(t,e)),e=!1;var s=Pe;t:do try{if(je!==0&&se!==null){var o=se,y=Il;switch(je){case 8:Fc(),s=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(e=!0);var O=je;if(je=0,Il=null,ni(t,o,y,O),l&&Fa){s=0;break t}break;default:O=je,je=0,Il=null,ni(t,o,y,O)}}Fh(),s=Pe;break}catch(I){dd(t,I)}while(!0);return e&&t.shellSuspendCounter++,Rn=pa=null,Ee=n,k.H=a,k.A=i,se===null&&(Ue=null,he=0,Cu()),s}function Fh(){for(;se!==null;)yd(se)}function Ph(t,e){var l=Ee;Ee|=2;var n=hd(),a=md();Ue!==t||he!==e?(Pu=null,Fu=ze()+500,li(t,e)):Fa=vt(t,e);t:do try{if(je!==0&&se!==null){e=se;var i=Il;e:switch(je){case 1:je=0,Il=null,ni(t,e,i,1);break;case 2:case 9:if(Eo(i)){je=0,Il=null,gd(e);break}e=function(){je!==2&&je!==9||Ue!==t||(je=7),vn(t)},i.then(e,e);break t;case 3:je=7;break t;case 4:je=5;break t;case 7:Eo(i)?(je=0,Il=null,gd(e)):(je=0,Il=null,ni(t,e,i,7));break;case 5:var s=null;switch(se.tag){case 26:s=se.memoizedState;case 5:case 27:var o=se;if(!s||Wd(s)){je=0,Il=null;var y=o.sibling;if(y!==null)se=y;else{var O=o.return;O!==null?(se=O,es(O)):se=null}break e}}je=0,Il=null,ni(t,e,i,5);break;case 6:je=0,Il=null,ni(t,e,i,6);break;case 8:Fc(),Pe=6;break t;default:throw Error(f(462))}}tm();break}catch(I){dd(t,I)}while(!0);return Rn=pa=null,k.H=n,k.A=a,Ee=l,se!==null?0:(Ue=null,he=0,Cu(),Pe)}function tm(){for(;se!==null&&!Ft();)yd(se)}function yd(t){var e=Gf(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?es(t):se=e}function gd(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Df(l,e,e.pendingProps,e.type,void 0,he);break;case 11:e=Df(l,e,e.pendingProps,e.type.render,e.ref,he);break;case 5:yc(e);default:Xf(l,e),e=se=go(e,Un),e=Gf(l,e,Un)}t.memoizedProps=t.pendingProps,e===null?es(t):se=e}function ni(t,e,l,n){Rn=pa=null,yc(e),Ia=null,Bi=0;var a=e.return;try{if(qh(t,a,e,l,he)){Pe=1,Zu(t,tn(l,t.current)),se=null;return}}catch(i){if(a!==null)throw se=a,i;Pe=1,Zu(t,tn(l,t.current)),se=null;return}e.flags&32768?(pe||n===1?t=!0:Fa||(he&536870912)!==0?t=!1:(ta=t=!0,(n===2||n===9||n===3||n===6)&&(n=an.current,n!==null&&n.tag===13&&(n.flags|=16384))),bd(e,t)):es(e)}function es(t){var e=t;do{if((e.flags&32768)!==0){bd(e,ta);return}t=e.return;var l=Kh(e.alternate,e,Un);if(l!==null){se=l;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);Pe===0&&(Pe=5)}function bd(t,e){do{var l=Zh(t.alternate,t);if(l!==null){l.flags&=32767,se=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){se=t;return}se=t=l}while(t!==null);Pe=6,se=null}function xd(t,e,l,n,a,i,s,o,y){t.cancelPendingCommit=null;do ls();while(wl!==0);if((Ee&6)!==0)throw Error(f(327));if(e!==null){if(e===t.current)throw Error(f(177));if(i=e.lanes|e.childLanes,i|=Xs,Tl(t,l,i,s,o,y),t===Ue&&(se=Ue=null,he=0),ti=e,na=t,ei=l,$c=i,Jc=a,cd=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,am(Be,function(){return wd(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=k.T,k.T=null,a=W.p,W.p=2,s=Ee,Ee|=4;try{Qh(t,e,l)}finally{Ee=s,W.p=a,k.T=n}}wl=1,vd(),pd(),Sd()}}function vd(){if(wl===1){wl=0;var t=na,e=ti,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var n=W.p;W.p=2;var a=Ee;Ee|=4;try{ed(e,t);var i=dr,s=io(t.containerInfo),o=i.focusedElem,y=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&ao(o.ownerDocument.documentElement,o)){if(y!==null&&Bs(o)){var O=y.start,I=y.end;if(I===void 0&&(I=O),"selectionStart"in o)o.selectionStart=O,o.selectionEnd=Math.min(I,o.value.length);else{var F=o.ownerDocument||document,D=F&&F.defaultView||window;if(D.getSelection){var V=D.getSelection(),Ut=o.textContent.length,Lt=Math.min(y.start,Ut),Oe=y.end===void 0?Lt:Math.min(y.end,Ut);!V.extend&&Lt>Oe&&(s=Oe,Oe=Lt,Lt=s);var E=no(o,Lt),C=no(o,Oe);if(E&&C&&(V.rangeCount!==1||V.anchorNode!==E.node||V.anchorOffset!==E.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var R=F.createRange();R.setStart(E.node,E.offset),V.removeAllRanges(),Lt>Oe?(V.addRange(R),V.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),V.addRange(R))}}}}for(F=[],V=o;V=V.parentNode;)V.nodeType===1&&F.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<F.length;o++){var J=F[o];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ms=!!fr,dr=fr=null}finally{Ee=a,W.p=n,k.T=l}}t.current=e,wl=2}}function pd(){if(wl===2){wl=0;var t=na,e=ti,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var n=W.p;W.p=2;var a=Ee;Ee|=4;try{Wf(t,e.alternate,e)}finally{Ee=a,W.p=n,k.T=l}}wl=3}}function Sd(){if(wl===4||wl===3){wl=0,Ce();var t=na,e=ti,l=ei,n=cd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?wl=5:(wl=0,ti=na=null,Cd(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(la=null),Ye(l),e=e.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=k.T,a=W.p,W.p=2,k.T=null;try{for(var i=t.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{k.T=e,W.p=a}}(ei&3)!==0&&ls(),vn(t),a=t.pendingLanes,(l&4194090)!==0&&(a&42)!==0?t===Wc?Ii++:(Ii=0,Wc=t):Ii=0,$i(0)}}function Cd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ni(e)))}function ls(t){return vd(),pd(),Sd(),wd()}function wd(){if(wl!==5)return!1;var t=na,e=$c;$c=0;var l=Ye(ei),n=k.T,a=W.p;try{W.p=32>l?32:l,k.T=null,l=Jc,Jc=null;var i=na,s=ei;if(wl=0,ti=na=null,ei=0,(Ee&6)!==0)throw Error(f(331));var o=Ee;if(Ee|=4,ud(i.current),nd(i,i.current,s,l),Ee=o,$i(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,i)}catch{}return!0}finally{W.p=a,k.T=n,Cd(t,e)}}function Md(t,e,l){e=tn(l,e),e=Ac(t.stateNode,e,2),t=Qn(t,e,2),t!==null&&(me(t,2),vn(t))}function De(t,e,l){if(t.tag===3)Md(t,t,l);else for(;e!==null;){if(e.tag===3){Md(e,t,l);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(la===null||!la.has(n))){t=tn(l,t),l=Nf(2),n=Qn(e,l,2),n!==null&&(Af(l,n,e,t),me(n,2),vn(n));break}}e=e.return}}function er(t,e,l){var n=t.pingCache;if(n===null){n=t.pingCache=new Jh;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(l)||(Kc=!0,a.add(l),t=em.bind(null,t,e,l),e.then(t,t))}function em(t,e,l){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ue===t&&(he&l)===l&&(Pe===4||Pe===3&&(he&62914560)===he&&300>ze()-Ic?(Ee&2)===0&&li(t,0):Zc|=l,Pa===he&&(Pa=0)),vn(t)}function Td(t,e){e===0&&(e=we()),t=Ua(t,e),t!==null&&(me(t,e),vn(t))}function lm(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Td(t,l)}function nm(t,e){var l=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(l=a.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(f(314))}n!==null&&n.delete(e),Td(t,l)}function am(t,e){return ve(t,e)}var ns=null,ai=null,lr=!1,as=!1,nr=!1,ja=0;function vn(t){t!==ai&&t.next===null&&(ai===null?ns=ai=t:ai=ai.next=t),as=!0,lr||(lr=!0,um())}function $i(t,e){if(!nr&&as){nr=!0;do for(var l=!1,n=ns;n!==null;){if(t!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-Y(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Ad(n,i))}else i=he,i=nt(n,n===Ue?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||vt(n,i)||(l=!0,Ad(n,i));n=n.next}while(l);nr=!1}}function im(){Ed()}function Ed(){as=lr=!1;var t=0;ja!==0&&(mm()&&(t=ja),ja=0);for(var e=ze(),l=null,n=ns;n!==null;){var a=n.next,i=jd(n,e);i===0?(n.next=null,l===null?ns=a:l.next=a,a===null&&(ai=l)):(l=n,(t!==0||(i&3)!==0)&&(as=!0)),n=a}$i(t)}function jd(t,e){for(var l=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-Y(i),o=1<<s,y=a[s];y===-1?((o&l)===0||(o&n)!==0)&&(a[s]=At(o,e)):y<=e&&(t.expiredLanes|=o),i&=~o}if(e=Ue,l=he,l=nt(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,l===0||t===e&&(je===2||je===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&el(n),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||vt(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(n!==null&&el(n),Ye(l)){case 2:case 8:l=Qe;break;case 32:l=Be;break;case 268435456:l=vl;break;default:l=Be}return n=Nd.bind(null,t),l=ve(l,n),t.callbackPriority=e,t.callbackNode=l,e}return n!==null&&n!==null&&el(n),t.callbackPriority=2,t.callbackNode=null,2}function Nd(t,e){if(wl!==0&&wl!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(ls()&&t.callbackNode!==l)return null;var n=he;return n=nt(t,t===Ue?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(od(t,n,e),jd(t,ze()),t.callbackNode!=null&&t.callbackNode===l?Nd.bind(null,t):null)}function Ad(t,e){if(ls())return null;od(t,e,!0)}function um(){gm(function(){(Ee&6)!==0?ve(qe,im):Ed()})}function ar(){return ja===0&&(ja=Qt()),ja}function Rd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:it(""+t)}function _d(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function sm(t,e,l,n,a){if(e==="submit"&&l&&l.stateNode===a){var i=Rd((a[ye]||null).action),s=n.submitter;s&&(e=(e=s[ye]||null)?Rd(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new vu("action","action",null,n,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ja!==0){var y=s?_d(a,s):new FormData(a);Mc(l,{pending:!0,data:y,method:a.method,action:i},null,y)}}else typeof i=="function"&&(o.preventDefault(),y=s?_d(a,s):new FormData(a),Mc(l,{pending:!0,data:y,method:a.method,action:i},i,y))},currentTarget:a}]})}}for(var ir=0;ir<qs.length;ir++){var ur=qs[ir],cm=ur.toLowerCase(),rm=ur[0].toUpperCase()+ur.slice(1);fn(cm,"on"+rm)}fn(co,"onAnimationEnd"),fn(ro,"onAnimationIteration"),fn(oo,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Eh,"onTransitionRun"),fn(jh,"onTransitionStart"),fn(Nh,"onTransitionCancel"),fn(fo,"onTransitionEnd"),de("onMouseEnter",["mouseout","mouseover"]),de("onMouseLeave",["mouseout","mouseover"]),de("onPointerEnter",["pointerout","pointerover"]),de("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),om=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ji));function Od(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var n=t[l],a=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],y=o.instance,O=o.currentTarget;if(o=o.listener,y!==i&&a.isPropagationStopped())break t;i=o,a.currentTarget=O;try{i(a)}catch(I){Ku(I)}a.currentTarget=null,i=y}else for(s=0;s<n.length;s++){if(o=n[s],y=o.instance,O=o.currentTarget,o=o.listener,y!==i&&a.isPropagationStopped())break t;i=o,a.currentTarget=O;try{i(a)}catch(I){Ku(I)}a.currentTarget=null,i=y}}}}function ce(t,e){var l=e[cl];l===void 0&&(l=e[cl]=new Set);var n=t+"__bubble";l.has(n)||(zd(e,t,2,!1),l.add(n))}function sr(t,e,l){var n=0;e&&(n|=4),zd(l,t,n,e)}var is="_reactListening"+Math.random().toString(36).slice(2);function cr(t){if(!t[is]){t[is]=!0,ll.forEach(function(l){l!=="selectionchange"&&(om.has(l)||sr(l,!1,t),sr(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[is]||(e[is]=!0,sr("selectionchange",!1,e))}}function zd(t,e,l,n){switch(n0(e)){case 2:var a=Hm;break;case 8:a=Um;break;default:a=Cr}l=a.bind(null,e,l,t),a=void 0,!Wt||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,l,{capture:!0,passive:a}):t.addEventListener(e,l,!0):a!==void 0?t.addEventListener(e,l,{passive:a}):t.addEventListener(e,l,!1)}function rr(t,e,l,n,a){var i=n;if((e&1)===0&&(e&2)===0&&n!==null)t:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=n.return;s!==null;){var y=s.tag;if((y===3||y===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Nt(o),s===null)return;if(y=s.tag,y===5||y===6||y===26||y===27){n=i=s;continue t}o=o.parentNode}}n=n.return}Te(function(){var O=i,I=bt(l),F=[];t:{var D=ho.get(t);if(D!==void 0){var V=vu,Ut=t;switch(t){case"keypress":if(En(l)===0)break t;case"keydown":case"keyup":V=ah;break;case"focusin":Ut="focus",V=Ls;break;case"focusout":Ut="blur",V=Ls;break;case"beforeblur":case"afterblur":V=Ls;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=sh;break;case co:case ro:case oo:V=$0;break;case fo:V=rh;break;case"scroll":case"scrollend":V=X0;break;case"wheel":V=fh;break;case"copy":case"cut":case"paste":V=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=qr;break;case"toggle":case"beforetoggle":V=hh}var Lt=(e&4)!==0,Oe=!Lt&&(t==="scroll"||t==="scrollend"),E=Lt?D!==null?D+"Capture":null:D;Lt=[];for(var C=O,R;C!==null;){var J=C;if(R=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||R===null||E===null||(J=We(C,E),J!=null&&Lt.push(Wi(C,J,R))),Oe)break;C=C.return}0<Lt.length&&(D=new V(D,Ut,null,l,I),F.push({event:D,listeners:Lt}))}}if((e&7)===0){t:{if(D=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",D&&l!==$&&(Ut=l.relatedTarget||l.fromElement)&&(Nt(Ut)||Ut[ke]))break t;if((V||D)&&(D=I.window===I?I:(D=I.ownerDocument)?D.defaultView||D.parentWindow:window,V?(Ut=l.relatedTarget||l.toElement,V=O,Ut=Ut?Nt(Ut):null,Ut!==null&&(Oe=_(Ut),Lt=Ut.tag,Ut!==Oe||Lt!==5&&Lt!==27&&Lt!==6)&&(Ut=null)):(V=null,Ut=O),V!==Ut)){if(Lt=Yr,J="onMouseLeave",E="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=qr,J="onPointerLeave",E="onPointerEnter",C="pointer"),Oe=V==null?D:zt(V),R=Ut==null?D:zt(Ut),D=new Lt(J,C+"leave",V,l,I),D.target=Oe,D.relatedTarget=R,J=null,Nt(I)===O&&(Lt=new Lt(E,C+"enter",Ut,l,I),Lt.target=R,Lt.relatedTarget=Oe,J=Lt),Oe=J,V&&Ut)e:{for(Lt=V,E=Ut,C=0,R=Lt;R;R=ii(R))C++;for(R=0,J=E;J;J=ii(J))R++;for(;0<C-R;)Lt=ii(Lt),C--;for(;0<R-C;)E=ii(E),R--;for(;C--;){if(Lt===E||E!==null&&Lt===E.alternate)break e;Lt=ii(Lt),E=ii(E)}Lt=null}else Lt=null;V!==null&&Ld(F,D,V,Lt,!1),Ut!==null&&Oe!==null&&Ld(F,Oe,Ut,Lt,!0)}}t:{if(D=O?zt(O):window,V=D.nodeName&&D.nodeName.toLowerCase(),V==="select"||V==="input"&&D.type==="file")var wt=Wr;else if($r(D))if(Fr)wt=wh;else{wt=Sh;var ie=ph}else V=D.nodeName,!V||V.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?O&&U(O.elementType)&&(wt=Wr):wt=Ch;if(wt&&(wt=wt(t,O))){Jr(F,wt,l,I);break t}ie&&ie(t,D,O),t==="focusout"&&O&&D.type==="number"&&O.memoizedProps.value!=null&&mn(D,"number",D.value)}switch(ie=O?zt(O):window,t){case"focusin":($r(ie)||ie.contentEditable==="true")&&(ka=ie,Vs=O,wi=null);break;case"focusout":wi=Vs=ka=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,uo(F,l,I);break;case"selectionchange":if(Th)break;case"keydown":case"keyup":uo(F,l,I)}var Rt;if(Ds)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else La?Qr(t,l)&&(Dt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Dt="onCompositionStart");Dt&&(Xr&&l.locale!=="ko"&&(La||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&La&&(Rt=gi()):(ee=I,Sl="value"in ee?ee.value:ee.textContent,La=!0)),ie=us(O,Dt),0<ie.length&&(Dt=new Gr(Dt,t,null,l,I),F.push({event:Dt,listeners:ie}),Rt?Dt.data=Rt:(Rt=Ir(l),Rt!==null&&(Dt.data=Rt)))),(Rt=yh?gh(t,l):bh(t,l))&&(Dt=us(O,"onBeforeInput"),0<Dt.length&&(ie=new Gr("onBeforeInput","beforeinput",null,l,I),F.push({event:ie,listeners:Dt}),ie.data=Rt)),sm(F,t,O,l,I)}Od(F,e)})}function Wi(t,e,l){return{instance:t,listener:e,currentTarget:l}}function us(t,e){for(var l=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=We(t,l),a!=null&&n.unshift(Wi(t,a,i)),a=We(t,e),a!=null&&n.push(Wi(t,a,i))),t.tag===3)return n;t=t.return}return[]}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ld(t,e,l,n,a){for(var i=e._reactName,s=[];l!==null&&l!==n;){var o=l,y=o.alternate,O=o.stateNode;if(o=o.tag,y!==null&&y===n)break;o!==5&&o!==26&&o!==27||O===null||(y=O,a?(O=We(l,i),O!=null&&s.unshift(Wi(l,O,y))):a||(O=We(l,i),O!=null&&s.push(Wi(l,O,y)))),l=l.return}s.length!==0&&t.push({event:e,listeners:s})}var fm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function kd(t){return(typeof t=="string"?t:""+t).replace(fm,`
`).replace(dm,"")}function Dd(t,e){return e=kd(e),kd(t)===e}function ss(){}function _e(t,e,l,n,a,i){switch(l){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Gn(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Gn(t,""+n);break;case"className":wn(t,"class",n);break;case"tabIndex":wn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,l,n);break;case"style":g(t,n,i);break;case"data":if(e!=="object"){wn(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=it(""+n),t.setAttribute(l,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(e!=="input"&&_e(t,e,"name",a.name,a,null),_e(t,e,"formEncType",a.formEncType,a,null),_e(t,e,"formMethod",a.formMethod,a,null),_e(t,e,"formTarget",a.formTarget,a,null)):(_e(t,e,"encType",a.encType,a,null),_e(t,e,"method",a.method,a,null),_e(t,e,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=it(""+n),t.setAttribute(l,n);break;case"onClick":n!=null&&(t.onclick=ss);break;case"onScroll":n!=null&&ce("scroll",t);break;case"onScrollEnd":n!=null&&ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(l=n.__html,l!=null){if(a.children!=null)throw Error(f(60));t.innerHTML=l}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}l=it(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""+n):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":n===!0?t.setAttribute(l,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,n):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(l,n):t.removeAttribute(l);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(l):t.setAttribute(l,n);break;case"popover":ce("beforetoggle",t),ce("toggle",t),Gl(t,"popover",n);break;case"xlinkActuate":ql(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ql(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ql(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ql(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ql(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ql(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ql(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ql(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ql(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Gl(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=L.get(l)||l,Gl(t,l,n))}}function or(t,e,l,n,a,i){switch(l){case"style":g(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(l=n.__html,l!=null){if(a.children!=null)throw Error(f(60));t.innerHTML=l}}break;case"children":typeof n=="string"?Gn(t,n):(typeof n=="number"||typeof n=="bigint")&&Gn(t,""+n);break;case"onScroll":n!=null&&ce("scroll",t);break;case"onScrollEnd":n!=null&&ce("scrollend",t);break;case"onClick":n!=null&&(t.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qt.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(a=l.endsWith("Capture"),e=l.slice(2,a?l.length-7:void 0),i=t[ye]||null,i=i!=null?i[l]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,n,a);break t}l in t?t[l]=n:n===!0?t.setAttribute(l,""):Gl(t,l,n)}}}function Ml(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",t),ce("load",t);var n=!1,a=!1,i;for(i in l)if(l.hasOwnProperty(i)){var s=l[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:_e(t,e,i,s,l,null)}}a&&_e(t,e,"srcSet",l.srcSet,l,null),n&&_e(t,e,"src",l.src,l,null);return;case"input":ce("invalid",t);var o=i=s=a=null,y=null,O=null;for(n in l)if(l.hasOwnProperty(n)){var I=l[n];if(I!=null)switch(n){case"name":a=I;break;case"type":s=I;break;case"checked":y=I;break;case"defaultChecked":O=I;break;case"value":i=I;break;case"defaultValue":o=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(f(137,e));break;default:_e(t,e,n,I,l,null)}}za(t,i,o,y,O,s,a,!1),Ra(t);return;case"select":ce("invalid",t),n=s=i=null;for(a in l)if(l.hasOwnProperty(a)&&(o=l[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:_e(t,e,a,o,l,null)}e=i,l=s,t.multiple=!!n,e!=null?Tn(t,!!n,e,!1):l!=null&&Tn(t,!!n,l,!0);return;case"textarea":ce("invalid",t),i=a=n=null;for(s in l)if(l.hasOwnProperty(s)&&(o=l[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(f(91));break;default:_e(t,e,s,o,l,null)}gu(t,n,a,i),Ra(t);return;case"option":for(y in l)if(l.hasOwnProperty(y)&&(n=l[y],n!=null))switch(y){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:_e(t,e,y,n,l,null)}return;case"dialog":ce("beforetoggle",t),ce("toggle",t),ce("cancel",t),ce("close",t);break;case"iframe":case"object":ce("load",t);break;case"video":case"audio":for(n=0;n<Ji.length;n++)ce(Ji[n],t);break;case"image":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"embed":case"source":case"link":ce("error",t),ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in l)if(l.hasOwnProperty(O)&&(n=l[O],n!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:_e(t,e,O,n,l,null)}return;default:if(U(e)){for(I in l)l.hasOwnProperty(I)&&(n=l[I],n!==void 0&&or(t,e,I,n,l,void 0));return}}for(o in l)l.hasOwnProperty(o)&&(n=l[o],n!=null&&_e(t,e,o,n,l,null))}function hm(t,e,l,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,y=null,O=null,I=null;for(V in l){var F=l[V];if(l.hasOwnProperty(V)&&F!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":y=F;default:n.hasOwnProperty(V)||_e(t,e,V,null,n,F)}}for(var D in n){var V=n[D];if(F=l[D],n.hasOwnProperty(D)&&(V!=null||F!=null))switch(D){case"type":i=V;break;case"name":a=V;break;case"checked":O=V;break;case"defaultChecked":I=V;break;case"value":s=V;break;case"defaultValue":o=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(f(137,e));break;default:V!==F&&_e(t,e,D,V,n,F)}}Oa(t,s,o,y,O,I,i,a);return;case"select":V=s=o=D=null;for(i in l)if(y=l[i],l.hasOwnProperty(i)&&y!=null)switch(i){case"value":break;case"multiple":V=y;default:n.hasOwnProperty(i)||_e(t,e,i,null,n,y)}for(a in n)if(i=n[a],y=l[a],n.hasOwnProperty(a)&&(i!=null||y!=null))switch(a){case"value":D=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==y&&_e(t,e,a,i,n,y)}e=o,l=s,n=V,D!=null?Tn(t,!!l,D,!1):!!n!=!!l&&(e!=null?Tn(t,!!l,e,!0):Tn(t,!!l,l?[]:"",!1));return;case"textarea":V=D=null;for(o in l)if(a=l[o],l.hasOwnProperty(o)&&a!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:_e(t,e,o,null,n,a)}for(s in n)if(a=n[s],i=l[s],n.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":D=a;break;case"defaultValue":V=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(f(91));break;default:a!==i&&_e(t,e,s,a,n,i)}yu(t,D,V);return;case"option":for(var Ut in l)if(D=l[Ut],l.hasOwnProperty(Ut)&&D!=null&&!n.hasOwnProperty(Ut))switch(Ut){case"selected":t.selected=!1;break;default:_e(t,e,Ut,null,n,D)}for(y in n)if(D=n[y],V=l[y],n.hasOwnProperty(y)&&D!==V&&(D!=null||V!=null))switch(y){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:_e(t,e,y,D,n,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in l)D=l[Lt],l.hasOwnProperty(Lt)&&D!=null&&!n.hasOwnProperty(Lt)&&_e(t,e,Lt,null,n,D);for(O in n)if(D=n[O],V=l[O],n.hasOwnProperty(O)&&D!==V&&(D!=null||V!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(f(137,e));break;default:_e(t,e,O,D,n,V)}return;default:if(U(e)){for(var Oe in l)D=l[Oe],l.hasOwnProperty(Oe)&&D!==void 0&&!n.hasOwnProperty(Oe)&&or(t,e,Oe,void 0,n,D);for(I in n)D=n[I],V=l[I],!n.hasOwnProperty(I)||D===V||D===void 0&&V===void 0||or(t,e,I,D,n,V);return}}for(var E in l)D=l[E],l.hasOwnProperty(E)&&D!=null&&!n.hasOwnProperty(E)&&_e(t,e,E,null,n,D);for(F in n)D=n[F],V=l[F],!n.hasOwnProperty(F)||D===V||D==null&&V==null||_e(t,e,F,D,n,V)}var fr=null,dr=null;function cs(t){return t.nodeType===9?t:t.ownerDocument}function Hd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ud(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function hr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mr=null;function mm(){var t=window.event;return t&&t.type==="popstate"?t===mr?!1:(mr=t,!0):(mr=null,!1)}var Bd=typeof setTimeout=="function"?setTimeout:void 0,ym=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(t){return Vd.resolve(null).then(t).catch(bm)}:Bd;function bm(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function Yd(t,e){var l=e,n=0,a=0;do{var i=l.nextSibling;if(t.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<n&&8>n){l=n;var s=t.ownerDocument;if(l&1&&Fi(s.documentElement),l&2&&Fi(s.body),l&4)for(l=s.head,Fi(l),s=l.firstChild;s;){var o=s.nextSibling,y=s.nodeName;s[_t]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&s.rel.toLowerCase()==="stylesheet"||l.removeChild(s),s=o}}if(a===0){t.removeChild(i),uu(e);return}a--}else l==="$"||l==="$?"||l==="$!"?a++:n=l.charCodeAt(0)-48;else n=0;l=i}while(l);uu(e)}function yr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yr(l),Tt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function xm(t,e,l,n){for(;t.nodeType===1;){var a=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[_t])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function vm(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=hn(t.nextSibling),t===null))return null;return t}function gr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pm(t,e){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")e();else{var n=function(){e(),l.removeEventListener("DOMContentLoaded",n)};l.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var br=null;function Gd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(e===0)return t;e--}else l==="/$"&&e++}t=t.previousSibling}return null}function qd(t,e,l){switch(e=cs(l),t){case"html":if(t=e.documentElement,!t)throw Error(f(452));return t;case"head":if(t=e.head,!t)throw Error(f(453));return t;case"body":if(t=e.body,!t)throw Error(f(454));return t;default:throw Error(f(451))}}function Fi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Tt(t)}var sn=new Map,Xd=new Set;function rs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bn=W.d;W.d={f:Sm,r:Cm,D:wm,C:Mm,L:Tm,m:Em,X:Nm,S:jm,M:Am};function Sm(){var t=Bn.f(),e=ts();return t||e}function Cm(t){var e=mt(t);e!==null&&e.tag===5&&e.type==="form"?of(e):Bn.r(t)}var ui=typeof document>"u"?null:document;function Kd(t,e,l){var n=ui;if(n&&typeof e=="string"&&e){var a=Ol(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof l=="string"&&(a+='[crossorigin="'+l+'"]'),Xd.has(a)||(Xd.add(a),t={rel:t,crossOrigin:l,href:e},n.querySelector(a)===null&&(e=n.createElement("link"),Ml(e,"link",t),Bt(e),n.head.appendChild(e)))}}function wm(t){Bn.D(t),Kd("dns-prefetch",t,null)}function Mm(t,e){Bn.C(t,e),Kd("preconnect",t,e)}function Tm(t,e,l){Bn.L(t,e,l);var n=ui;if(n&&t&&e){var a='link[rel="preload"][as="'+Ol(e)+'"]';e==="image"&&l&&l.imageSrcSet?(a+='[imagesrcset="'+Ol(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(a+='[imagesizes="'+Ol(l.imageSizes)+'"]')):a+='[href="'+Ol(t)+'"]';var i=a;switch(e){case"style":i=si(t);break;case"script":i=ci(t)}sn.has(i)||(t=d({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),sn.set(i,t),n.querySelector(a)!==null||e==="style"&&n.querySelector(Pi(i))||e==="script"&&n.querySelector(tu(i))||(e=n.createElement("link"),Ml(e,"link",t),Bt(e),n.head.appendChild(e)))}}function Em(t,e){Bn.m(t,e);var l=ui;if(l&&t){var n=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Ol(n)+'"][href="'+Ol(t)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ci(t)}if(!sn.has(i)&&(t=d({rel:"modulepreload",href:t},e),sn.set(i,t),l.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tu(i)))return}n=l.createElement("link"),Ml(n,"link",t),Bt(n),l.head.appendChild(n)}}}function jm(t,e,l){Bn.S(t,e,l);var n=ui;if(n&&t){var a=ne(n).hoistableStyles,i=si(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Pi(i)))o.loading=5;else{t=d({rel:"stylesheet",href:t,"data-precedence":e},l),(l=sn.get(i))&&xr(t,l);var y=s=n.createElement("link");Bt(y),Ml(y,"link",t),y._p=new Promise(function(O,I){y.onload=O,y.onerror=I}),y.addEventListener("load",function(){o.loading|=1}),y.addEventListener("error",function(){o.loading|=2}),o.loading|=4,os(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Nm(t,e){Bn.X(t,e);var l=ui;if(l&&t){var n=ne(l).hoistableScripts,a=ci(t),i=n.get(a);i||(i=l.querySelector(tu(a)),i||(t=d({src:t,async:!0},e),(e=sn.get(a))&&vr(t,e),i=l.createElement("script"),Bt(i),Ml(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Am(t,e){Bn.M(t,e);var l=ui;if(l&&t){var n=ne(l).hoistableScripts,a=ci(t),i=n.get(a);i||(i=l.querySelector(tu(a)),i||(t=d({src:t,async:!0,type:"module"},e),(e=sn.get(a))&&vr(t,e),i=l.createElement("script"),Bt(i),Ml(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Zd(t,e,l,n){var a=(a=Ct.current)?rs(a):null;if(!a)throw Error(f(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=si(l.href),l=ne(a).hoistableStyles,n=l.get(e),n||(n={type:"style",instance:null,count:0,state:null},l.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=si(l.href);var i=ne(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(Pi(t)))&&!i._p&&(s.instance=i,s.state.loading=5),sn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(t,l),i||Rm(a,t,l,s.state))),e&&n===null)throw Error(f(528,""));return s}if(e&&n!==null)throw Error(f(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ci(l),l=ne(a).hoistableScripts,n=l.get(e),n||(n={type:"script",instance:null,count:0,state:null},l.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,t))}}function si(t){return'href="'+Ol(t)+'"'}function Pi(t){return'link[rel="stylesheet"]['+t+"]"}function Qd(t){return d({},t,{"data-precedence":t.precedence,precedence:null})}function Rm(t,e,l,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Ml(e,"link",l),Bt(e),t.head.appendChild(e))}function ci(t){return'[src="'+Ol(t)+'"]'}function tu(t){return"script[async]"+t}function Id(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+Ol(l.href)+'"]');if(n)return e.instance=n,Bt(n),n;var a=d({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Bt(n),Ml(n,"style",a),os(n,l.precedence,t),e.instance=n;case"stylesheet":a=si(l.href);var i=t.querySelector(Pi(a));if(i)return e.state.loading|=4,e.instance=i,Bt(i),i;n=Qd(l),(a=sn.get(a))&&xr(n,a),i=(t.ownerDocument||t).createElement("link"),Bt(i);var s=i;return s._p=new Promise(function(o,y){s.onload=o,s.onerror=y}),Ml(i,"link",n),e.state.loading|=4,os(i,l.precedence,t),e.instance=i;case"script":return i=ci(l.src),(a=t.querySelector(tu(i)))?(e.instance=a,Bt(a),a):(n=l,(a=sn.get(i))&&(n=d({},l),vr(n,a)),t=t.ownerDocument||t,a=t.createElement("script"),Bt(a),Ml(a,"link",n),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(f(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,os(n,l.precedence,t));return e.instance}function os(t,e,l){for(var n=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function xr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fs=null;function $d(t,e,l){if(fs===null){var n=new Map,a=fs=new Map;a.set(l,n)}else a=fs,n=a.get(l),n||(n=new Map,a.set(l,n));if(n.has(t))return n;for(n.set(t,null),l=l.getElementsByTagName(t),a=0;a<l.length;a++){var i=l[a];if(!(i[_t]||i[fe]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function Jd(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function _m(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Wd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var eu=null;function Om(){}function zm(t,e,l){if(eu===null)throw Error(f(475));var n=eu;if(e.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var a=si(l.href),i=t.querySelector(Pi(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=ds.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=i,Bt(i);return}i=t.ownerDocument||t,l=Qd(l),(a=sn.get(a))&&xr(l,a),i=i.createElement("link"),Bt(i);var s=i;s._p=new Promise(function(o,y){s.onload=o,s.onerror=y}),Ml(i,"link",l),e.instance=i}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(n.count++,e=ds.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function Lm(){if(eu===null)throw Error(f(475));var t=eu;return t.stylesheets&&t.count===0&&pr(t,t.stylesheets),0<t.count?function(e){var l=setTimeout(function(){if(t.stylesheets&&pr(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(l)}}:null}function ds(){if(this.count--,this.count===0){if(this.stylesheets)pr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hs=null;function pr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hs=new Map,e.forEach(km,t),hs=null,ds.call(t))}function km(t,e){if(!(e.state.loading&4)){var l=hs.get(t);if(l)var n=l.get(null);else{l=new Map,hs.set(t,l);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(l.set(s.dataset.precedence,s),n=s)}n&&l.set(null,n)}a=e.instance,s=a.getAttribute("data-precedence"),i=l.get(s)||n,i===n&&l.set(null,a),l.set(s,a),this.count++,n=ds.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var lu={$$typeof:K,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function Dm(t,e,l,n,a,i,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fd(t,e,l,n,a,i,s,o,y,O,I,F){return t=new Dm(t,e,l,s,o,y,O,F),e=1,i===!0&&(e|=24),i=Kl(3,null,null,e),t.current=i,i.stateNode=t,e=ec(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:l,cache:e},ic(i),t}function Pd(t){return t?(t=Ba,t):Ba}function t0(t,e,l,n,a,i){a=Pd(a),n.context===null?n.context=a:n.pendingContext=a,n=Zn(e),n.payload={element:l},i=i===void 0?null:i,i!==null&&(n.callback=i),l=Qn(t,n,e),l!==null&&(Jl(l,t,e),Oi(l,t,e))}function e0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function Sr(t,e){e0(t,e),(t=t.alternate)&&e0(t,e)}function l0(t){if(t.tag===13){var e=Ua(t,67108864);e!==null&&Jl(e,t,67108864),Sr(t,67108864)}}var ms=!0;function Hm(t,e,l,n){var a=k.T;k.T=null;var i=W.p;try{W.p=2,Cr(t,e,l,n)}finally{W.p=i,k.T=a}}function Um(t,e,l,n){var a=k.T;k.T=null;var i=W.p;try{W.p=8,Cr(t,e,l,n)}finally{W.p=i,k.T=a}}function Cr(t,e,l,n){if(ms){var a=wr(n);if(a===null)rr(t,e,n,ys,l),a0(t,n);else if(Vm(a,t,e,l,n))n.stopPropagation();else if(a0(t,n),e&4&&-1<Bm.indexOf(t)){for(;a!==null;){var i=mt(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=B(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var y=1<<31-Y(s);o.entanglements[1]|=y,s&=~y}vn(i),(Ee&6)===0&&(Fu=ze()+500,$i(0))}}break;case 13:o=Ua(i,2),o!==null&&Jl(o,i,2),ts(),Sr(i,2)}if(i=wr(n),i===null&&rr(t,e,n,ys,l),i===a)break;a=i}a!==null&&n.stopPropagation()}else rr(t,e,n,null,l)}}function wr(t){return t=bt(t),Mr(t)}var ys=null;function Mr(t){if(ys=null,t=Nt(t),t!==null){var e=_(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=M(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ys=t,null}function n0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bl()){case qe:return 2;case Qe:return 8;case Be:case xl:return 32;case vl:return 268435456;default:return 32}default:return 32}}var Tr=!1,ua=null,sa=null,ca=null,nu=new Map,au=new Map,ra=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function iu(t,e,l,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:l,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=mt(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Vm(t,e,l,n,a){switch(e){case"focusin":return ua=iu(ua,t,e,l,n,a),!0;case"dragenter":return sa=iu(sa,t,e,l,n,a),!0;case"mouseover":return ca=iu(ca,t,e,l,n,a),!0;case"pointerover":var i=a.pointerId;return nu.set(i,iu(nu.get(i)||null,t,e,l,n,a)),!0;case"gotpointercapture":return i=a.pointerId,au.set(i,iu(au.get(i)||null,t,e,l,n,a)),!0}return!1}function i0(t){var e=Nt(t.target);if(e!==null){var l=_(e);if(l!==null){if(e=l.tag,e===13){if(e=M(l),e!==null){t.blockedOn=e,Ll(t.priority,function(){if(l.tag===13){var n=$l();n=Ve(n);var a=Ua(l,n);a!==null&&Jl(a,l,n),Sr(l,n)}});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=wr(t.nativeEvent);if(l===null){l=t.nativeEvent;var n=new l.constructor(l.type,l);$=n,l.target.dispatchEvent(n),$=null}else return e=mt(l),e!==null&&l0(e),t.blockedOn=l,!1;e.shift()}return!0}function u0(t,e,l){gs(t)&&l.delete(e)}function Ym(){Tr=!1,ua!==null&&gs(ua)&&(ua=null),sa!==null&&gs(sa)&&(sa=null),ca!==null&&gs(ca)&&(ca=null),nu.forEach(u0),au.forEach(u0)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Tr||(Tr=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Ym)))}var xs=null;function s0(t){xs!==t&&(xs=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){xs===t&&(xs=null);for(var e=0;e<t.length;e+=3){var l=t[e],n=t[e+1],a=t[e+2];if(typeof n!="function"){if(Mr(n||l)===null)continue;break}var i=mt(l);i!==null&&(t.splice(e,3),e-=3,Mc(i,{pending:!0,data:a,method:l.method,action:n},n,a))}}))}function uu(t){function e(y){return bs(y,t)}ua!==null&&bs(ua,t),sa!==null&&bs(sa,t),ca!==null&&bs(ca,t),nu.forEach(e),au.forEach(e);for(var l=0;l<ra.length;l++){var n=ra[l];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ra.length&&(l=ra[0],l.blockedOn===null);)i0(l),l.blockedOn===null&&ra.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(n=0;n<l.length;n+=3){var a=l[n],i=l[n+1],s=a[ye]||null;if(typeof i=="function")s||s0(l);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[ye]||null)o=s.formAction;else if(Mr(a)!==null)continue}else o=s.action;typeof o=="function"?l[n+1]=o:(l.splice(n,3),n-=3),s0(l)}}}function Er(t){this._internalRoot=t}vs.prototype.render=Er.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(f(409));var l=e.current,n=$l();t0(l,n,t,e,null,null)},vs.prototype.unmount=Er.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t0(t.current,2,null,t,null,null),ts(),e[ke]=null}};function vs(t){this._internalRoot=t}vs.prototype.unstable_scheduleHydration=function(t){if(t){var e=dl();t={blockedOn:null,target:t,priority:e};for(var l=0;l<ra.length&&e!==0&&e<ra[l].priority;l++);ra.splice(l,0,t),l===0&&i0(t)}};var c0=x.version;if(c0!=="19.1.0")throw Error(f(527,c0,"19.1.0"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=b(e),t=t!==null?r(t):null,t=t===null?null:t.stateNode,t};var Gm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{le=ps.inject(Gm),Gt=ps}catch{}}return cu.createRoot=function(t,e){if(!m(t))throw Error(f(299));var l=!1,n="",a=Mf,i=Tf,s=Ef,o=null;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=Fd(t,1,!1,null,null,l,n,a,i,s,o,null),t[ke]=e.current,cr(t),new Er(e)},cu.hydrateRoot=function(t,e,l){if(!m(t))throw Error(f(299));var n=!1,a="",i=Mf,s=Tf,o=Ef,y=null,O=null;return l!=null&&(l.unstable_strictMode===!0&&(n=!0),l.identifierPrefix!==void 0&&(a=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(s=l.onCaughtError),l.onRecoverableError!==void 0&&(o=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(y=l.unstable_transitionCallbacks),l.formState!==void 0&&(O=l.formState)),e=Fd(t,1,!0,e,l??null,n,a,i,s,o,y,O),e.context=Pd(null),l=e.current,n=$l(),n=Ve(n),a=Zn(n),a.callback=null,Qn(l,a,n),l=n,e.current.lanes=l,me(e,l),vn(e),t[ke]=e.current,cr(t),new vs(e)},cu.version="19.1.0",cu}var x0;function Fm(){if(x0)return Ar.exports;x0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(x){console.error(x)}}return c(),Ar.exports=Wm(),Ar.exports}var Pm=Fm();const ty=z0(Pm),Xt=Na.forwardRef(({children:c,variant:x="primary",size:T="md",leftIcon:f,rightIcon:m,className:_="",isLoading:M,disabled:A,...b},r)=>{const d="font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-800 inline-flex items-center justify-center transition-colors duration-150";let j="";switch(x){case"primary":j="bg-primary hover:bg-primary-dark text-white focus:ring-primary-dark";break;case"secondary":j="bg-secondary hover:bg-secondary-dark text-neutral-800 focus:ring-secondary-dark";break;case"danger":j="bg-red-600 hover:bg-red-700 text-white focus:ring-red-700";break;case"ghost":j="bg-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-700 dark:text-neutral-300 focus:ring-primary";break;case"outline":j="border border-primary text-primary hover:bg-primary/10 focus:ring-primary";break}let v="";switch(T){case"sm":v="px-3 py-1.5 text-sm";break;case"md":v="px-4 py-2 text-base";break;case"lg":v="px-6 py-3 text-lg";break}const X=M?"opacity-75 cursor-not-allowed":"",S=A?"opacity-50 cursor-not-allowed":"";return u.jsxs("button",{ref:r,className:`${d} ${j} ${v} ${X} ${S} ${_}`,disabled:A||M,...b,children:[M&&u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f&&!M&&u.jsx("span",{className:"mr-2",children:f}),c,m&&!M&&u.jsx("span",{className:"ml-2",children:m})]})});Xt.displayName="Button";const Se=({path:c,className:x="w-5 h-5",viewBox:T="0 0 24 24",size:f,strokeWidth:m=2,fill:_="none",transform:M,fillRule:A})=>{const b={};return f&&(b.width=f,b.height=f),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:x,fill:_,viewBox:T,stroke:"currentColor",strokeWidth:m,style:b,transform:M,fillRule:A,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:c})})},ey=c=>u.jsx(Se,{path:"M16 3l5 5L8 21H3v-5L16 3z",...c}),ly=c=>u.jsx(Se,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z",...c}),ny=c=>u.jsx(Se,{path:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",...c}),ay=c=>u.jsx(Se,{path:"M2.5 2v6h6M2.66 15.57a10 10 0 10 .57-8.38",...c}),iy=c=>u.jsx(Se,{path:"M21.5 2v6h-6M21.34 15.57a10 10 0 11-.57-8.38",...c}),uy=c=>u.jsx(Se,{path:"M12 9a3 3 0 100 6 3 3 0 000-6zM19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z",...c}),sy=c=>u.jsx(Se,{path:"M11 3a8 8 0 100 16 8 8 0 000-16zM21 21l-4.35-4.35M11 8v6M8 11h6",...c}),cy=c=>u.jsx(Se,{path:"M11 3a8 8 0 100 16 8 8 0 000-16zM21 21l-4.35-4.35M8 11h6",...c}),ry=c=>u.jsx(Se,{path:"M12 7a5 5 0 100 10 5 5 0 000-10zM12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4",...c}),oy=c=>u.jsx(Se,{path:"M21 12.79A9 9 0 11 11.21 3 7 7 0 00 21 12.79z",...c}),fy=c=>u.jsx(Se,{path:"M3 16.5v-2.25A2.25 2.25 0 015.25 12h13.5A2.25 2.25 0 0121 14.25V16.5m-16.5-4.5L12 7.5m0 0l4.5 4.5M12 7.5v9",...c}),dy=c=>u.jsx(Se,{path:"M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z M14 3v5h5M16 13H8M16 17H8M10 9H8",...c}),hy=c=>u.jsx(Se,{path:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8",...c}),my=c=>u.jsx(Se,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zM8.5 7a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM20.4 14.5L16 10 4 20",...c}),yy=c=>u.jsx(Se,{path:"M9 4v16M15 4v16",...c}),L0=c=>u.jsx(Se,{path:"M3 6h2m16 0H5M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6",...c}),Ns=c=>u.jsx(Se,{path:"M12 4v16m8-8H4",...c}),gy=c=>u.jsx(Se,{path:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8zM12 15a3 3 0 100-6 3 3 0 000 6z",...c}),by=c=>u.jsx(Se,{path:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24M1 1l22 22",...c}),xy=c=>u.jsx(Se,{path:"M5.2 9l-3 3 3 3M9 5.2l3-3 3 3M15 18.9l-3 3-3-3M18.9 9l3 3-3 3M3.3 12h17.4M12 3.2v17.6",...c}),v0=c=>u.jsx(Se,{path:"M21 3H3v18h18V3zM5 5h14v14H5V5z M7 7h4v4H7V7zm6 0h4v4h-4V7zm-6 6h4v4H7v-4zm6 0h4v4h-4v-4z",fillRule:"evenodd",fill:"currentColor",...c}),vy=c=>u.jsx(Se,{path:"M9 11l3 3 10-10M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",...c}),k0=c=>u.jsx(Se,{path:"M6 18L18 6M6 6l12 12",...c}),py=c=>u.jsx(Se,{path:"M20 14.66V20a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2h5.34M18 2l4 4L12 16H8v-4L18 2z",...c}),Sy=c=>u.jsx(ny,{...c}),p0=c=>u.jsx(Se,{path:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",...c}),Cy=c=>u.jsx(Se,{path:"M4 6h16M4 10h16M4 14h16M4 18h16",...c}),wy=c=>u.jsx(Se,{path:"M14 2l4 4L7 17H3v-4L14 2zM3 22h18",...c}),My=c=>u.jsx(Se,{path:"M9 7h10a2 2 0 012 2v10a2 2 0 01-2 2H9a2 2 0 01-2-2V9a2 2 0 012-2zM5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1",...c}),Ty=c=>u.jsx(Se,{path:"M6 3a3 3 0 100 6 3 3 0 000-6zM6 15a3 3 0 100 6 3 3 0 000-6zM20 4L8.12 15.88M14.47 14.48L20 20M8.12 8.12L12 12",...c}),Ey=c=>u.jsx(Se,{path:"M16 4h2a2 2 0 011 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2M9 2h6a1 1 0 011 1v2a1 1 0 01-1 1H9a1 1 0 01-1-1V3a1 1 0 011-1z",...c}),jy=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor",children:u.jsx("path",{d:"M80 0v-160h800V0H80Zm140-280 210-560h100l210 560h-96l-50-144H368l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z"})}),Ny=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"currentColor",children:u.jsx("path",{d:"m247-904 57-56 343 343q23 23 23 57t-23 57L457-313q-23 23-57 23t-57-23L153-503q-23-23-23-57t23-57l190-191-96-96Zm153 153L209-560h382L400-751Zm360 471q-33 0-56.5-23.5T680-360q0-21 12.5-45t27.5-45q9-12 19-25t21-25q11 12 21 25t19 25q15 21 27.5 45t12.5 45q0 33-23.5 56.5T760-280ZM80 0v-160h800V0H80Z"})}),Ay=c=>u.jsx(Se,{path:"M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z",fill:"none",...c}),Ry=c=>u.jsx(vy,{...c}),_y=c=>u.jsx(Ay,{strokeWidth:2,...c}),gl="#FAF9F6",Nl="#374151",tl="#1F2937",fl="#E5E7EB",Al="transparent_grid_bg",Pl="theme_default_background",Cn="theme_default_symbol_color",fu=[{id:"empty",name:"Empty",abbreviation:"",svgContent:'<rect width="100%" height="100%" fill="transparent"/>',description:"Empty stitch, no action."},{id:"knit",name:"Knit Stitch",abbreviation:"K",svgContent:'<line x1="12" y1="4" x2="12" y2="20" stroke="currentColor" stroke-width="2.5"/>',description:"Face knit stitch (vertical line)."},{id:"purl",name:"Purl Stitch",abbreviation:"P",svgContent:'<line x1="4" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="2.5"/>',description:"Face purl stitch (horizontal line)."},{id:"tuck",name:"Tuck Stitch",abbreviation:"N",svgContent:'<path d="M7 18 V9 C7 6 9 6 12 6 S17 6 17 9 V18" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Tuck stitch (n shape)."},{id:"miss",name:"Miss/Skip Stitch",abbreviation:"O",svgContent:'<circle cx="12" cy="12" r="6" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Miss/skip stitch (o shape)."},{id:"full_needle",name:"Full Needle Rib",abbreviation:"+",svgContent:'<path d="M12 4 V20 M4 12 H20" stroke="currentColor" stroke-width="2.5"/>',description:"Full needle rib (+ shape)."},{id:"filling_in",name:"Filling In Stitch",abbreviation:"V",svgContent:'<path d="M8 15 L12 19 L16 15" stroke="currentColor" stroke-width="2.5" fill="none"/> <circle cx="10" cy="12" r="1.5" fill="currentColor"/> <circle cx="14" cy="12" r="1.5" fill="currentColor"/>',description:"Filling in stitch (V with 2 dots on top)."},{id:"tubular_vertical",name:"Tubular Vertical",abbreviation:"TuV",svgContent:'<circle cx="12" cy="12" r="7" stroke="currentColor" stroke-width="2.5" fill="none"/> <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2.5"/>',description:"Tubular stitch (O with vertical line)."},{id:"tubular_horizontal",name:"Tubular Horizontal",abbreviation:"TuH",svgContent:'<circle cx="12" cy="12" r="7" stroke="currentColor" stroke-width="2.5" fill="none"/> <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2.5"/>',description:"Tubular stitch (O with horizontal line)."},{id:"slip",name:"Slip Stitch",abbreviation:"V",svgContent:'<path d="M8 10 L12 14 L16 10" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Slip stitch (V shape)."},{id:"float",name:"Float Stitch",abbreviation:"V-",svgContent:'<path d="M8 10 L12 14 L16 10 M7 12 H17" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Float stitch (V with horizontal line)."},{id:"rack_left",name:"Face Left Racking",abbreviation:"RL\\",svgContent:'<line x1="17" y1="5" x2="7" y2="19" stroke="currentColor" stroke-width="2.5"/>',description:"Face left racking (\\ shape)."},{id:"rack_right",name:"Face Right Racking",abbreviation:"RR/",svgContent:'<line x1="7" y1="5" x2="17" y2="19" stroke="currentColor" stroke-width="2.5"/>',description:"Face right racking (/ shape)."},{id:"cross_right_over",name:"Right Over Cross",abbreviation:"XRO",svgContent:'<path d="M7 19 L17 5 M7 5 L10 8 M14 16 L17 19" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Right over cross (\\ with broken / over it)."},{id:"cross_left_over",name:"Left Over Cross",abbreviation:"XLO",svgContent:'<path d="M7 5 L17 19 M7 16 L10 19 M14 8 L17 5" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Left over cross (/ with broken \\ over it)."},{id:"widen_face_right",name:"Face Right Widening",abbreviation:"WFR",svgContent:'<path d="M12 4 V20 M12 10 L18 10" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Face right widening (vertical line with branch right)."},{id:"widen_face_left",name:"Face Left Widening",abbreviation:"WFL",svgContent:'<path d="M12 4 V20 M12 10 L6 10" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Face left widening (vertical line with branch left)."},{id:"narrow_face_right",name:"Face Right Narrowing",abbreviation:"NFR",svgContent:'<path d="M12 4 L12 14 L18 20" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Face right narrowing (vertical line with branch downwards right)."},{id:"narrow_face_left",name:"Face Left Narrowing",abbreviation:"NFL",svgContent:'<path d="M12 4 L12 14 L6 20" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Face left narrowing (vertical line with branch downwards left)."},{id:"narrow_back_right",name:"Back Right Narrowing",abbreviation:"NBR",svgContent:'<path d="M17 5 L7 19 M7 12 H13" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Back right narrowing (\\ with horizontal branch left)."},{id:"narrow_back_left",name:"Back Left Narrowing",abbreviation:"NBL",svgContent:'<path d="M7 5 L17 19 M11 12 H17" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Back left narrowing (/ with horizontal branch right)."},{id:"face_3_in_1",name:"Face Three Stitches in One",abbreviation:"F3in1",svgContent:'<path d="M12 5 V13 M7 19 L12 13 L17 19" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Face three stitches in one (3 lines converging up from bottom, central line continues up)."},{id:"back_3_in_1",name:"Back Three Stitches in One",abbreviation:"B3in1",svgContent:'<path d="M6 7 L12 13 M12 7 L12 13 M18 7 L12 13" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Back three stitches in one (3 lines converging down from top)."},{id:"transfer_to_right",name:"Transfer Stitch to Right",abbreviation:"TR->",svgContent:'<path d="M8 18 L16 6 M10 12 H18" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Transfer stitch to right needle (/ with perpendicular line right)."},{id:"transfer_to_left",name:"Transfer Stitch to Left",abbreviation:"TR<-",svgContent:'<path d="M16 18 L8 6 M6 12 H14" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Transfer stitch to left needle (\\ with perpendicular line left)."},{id:"widen_back_right",name:"Back Right Widening",abbreviation:"WBR",svgContent:'<path d="M6 12 H18 M12 12 L18 6" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Back right widening (horizontal with / branch up-right)."},{id:"widen_back_left",name:"Back Left Widening",abbreviation:"WBL",svgContent:'<path d="M6 12 H18 M12 12 L6 6" stroke="currentColor" stroke-width="2.5" fill="none"/>',description:"Back left widening (horizontal with \\ branch up-left)."}],Oy=[{value:"",name:"Bullet"},{value:"",name:"Square"},{value:"",name:"Circle"},{value:"K",name:"Knit (Text)"},{value:"P",name:"Purl (Text)"},{value:"A",name:"Letter A"},{value:"B",name:"Letter B"},{value:"C",name:"Letter C"},{value:"X",name:"Letter X"},{value:"O",name:"Letter O"},{value:"/",name:"Forward Slash"},{value:"\\",name:"Backslash"},{value:"+",name:"Plus Sign"},{value:"-",name:"Minus Sign"},{value:"",name:"Star"},{value:"",name:"Heart"},{value:"",name:"Diamond"},{value:"",name:"Smiling Face Emoji"},{value:"",name:"Thumbs Up Emoji"},{value:"",name:"Sparkles Emoji"}],zr=["","","","","","","","","","","","","","","","","","","","",""],Ts=20,Es=20,ru=200,ou=200,Sn=28,Wl="#D1D5DB",Fl="#4B5563",rn=30,Ne="key_empty_no_stitch",Vn="key_knit_default",zy="key_purl_default",S0=8,C0=8,Vl="__ABBR_SKIP__",Ms=()=>`key_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,js=()=>`sheet_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,D0=[{id:Vn,name:"Knit",abbreviation:"K",width:1,height:1,backgroundColor:gl,symbolColor:tl,cells:[[null]]},{id:zy,name:"Purl",abbreviation:"P",width:1,height:1,backgroundColor:gl,symbolColor:tl,cells:[[{type:"text",value:""}]]},{id:Ne,name:"No Stitch",abbreviation:Vl,width:1,height:1,backgroundColor:Al,symbolColor:tl,cells:[[null]]}],H0=(c,x)=>{const T={};for(let f=0;f<c;f++){T[f]={};for(let m=0;m<x;m++)T[f][m]={keyId:Vn,isAnchorCellForMxN:!1,keyPartRowOffset:0,keyPartColOffset:0}}return T},cn=(c,x,T,f)=>{const m=H0(x,T),_=[...c].sort((M,A)=>{const b=f.find(S=>S.id===M.keyId),r=f.find(S=>S.id===A.keyId);if(!b||!r)return 0;const d=b.cells&&b.cells.flat().some(S=>S!==null)||b.lines&&b.lines.length>0,j=r.cells&&r.cells.flat().some(S=>S!==null)||r.lines&&r.lines.length>0;if(d&&!j)return-1;if(!d&&j)return 1;const v=b.width*b.height,X=r.width*r.height;return d===j&&X!==v?X-v:M.anchor.y!==A.anchor.y?M.anchor.y-A.anchor.y:M.anchor.x-A.anchor.x});for(const M of _){const A=f.find(b=>b.id===M.keyId);if(A)for(let b=0;b<A.height;b++)for(let r=0;r<A.width;r++){const d=M.anchor.y+b,j=M.anchor.x+r;d>=0&&d<x&&j>=0&&j<T&&(m[d][j]={keyId:M.keyId,isAnchorCellForMxN:b===0&&r===0&&(A.width>1||A.height>1),keyPartRowOffset:b,keyPartColOffset:r})}}return m},Ly=(c,x,T,f)=>c.filter(m=>!(!x.find(M=>M.id===m.keyId)||m.anchor.y>=T||m.anchor.x>=f)),U0=[],ky=cn(U0,Ts,Es,D0),w0={id:"base",name:"Base Layer",isVisible:!0,grid:ky,keyPlacements:U0},B0={rowCountVisibility:"right",colCountVisibility:"bottom"},hi={id:js(),name:"Sheet 1",rows:Ts,cols:Es,orientation:"bottom-up",displaySettings:B0,layers:[w0],activeLayerId:w0.id},M0=50,di=[.5,.75,1,1.25,1.5,2],Dy=2,Dr=(c,x)=>({minR:c.y,maxR:c.y+x.height-1,minC:c.x,maxC:c.x+x.width-1}),V0=(c,x)=>c.minC<=x.maxC&&c.maxC>=x.minC&&c.minR<=x.maxR&&c.maxR>=x.minR,Hy=(c,x,T,f,m)=>{var b;const _=c.map(r=>r.anchor.y>=x?{...r,anchor:{...r.anchor,y:r.anchor.y+1}}:r),M=[],A=x===0?T[0]?0:-1:x-1;if(A>=0&&T[A])for(let r=0;r<m;r++){const d=(b=T[A])==null?void 0:b[r],j=(d==null?void 0:d.keyId)||Vn;M.push({anchor:{y:x,x:r},keyId:j})}else for(let r=0;r<m;r++)M.push({anchor:{y:x,x:r},keyId:Vn});return[..._,...M]},Uy=(c,x,T,f)=>c.filter(m=>!(!T.find(M=>M.id===m.keyId)||m.anchor.y===x)).map(m=>m.anchor.y>x?{...m,anchor:{...m.anchor,y:m.anchor.y-1}}:m),By=(c,x,T,f,m)=>{var b,r;const _=c.map(d=>d.anchor.x>=x?{...d,anchor:{...d.anchor,x:d.anchor.x+1}}:d),M=[],A=x===0?(b=T[0])!=null&&b[0]?0:-1:x-1;for(let d=0;d<m;d++){let j=Vn;if(A>=0&&((r=T[d])!=null&&r[A])){const v=T[d][A];v!=null&&v.keyId&&(j=v.keyId)}M.push({anchor:{y:d,x},keyId:j})}return[..._,...M]},Vy=(c,x,T,f)=>c.filter(m=>!(!T.find(M=>M.id===m.keyId)||m.anchor.x===x)).map(m=>m.anchor.x>x?{...m,anchor:{...m.anchor,x:m.anchor.x-1}}:m),Yy={sheets:[hi],activeSheetId:hi.id,keyPalette:D0},Gy=(c,x)=>{let T="Sheet 1",f=1;for(;c.includes(T);)f++,T=`Sheet ${f}`;const m=[],M={id:"base",name:"Base Layer",isVisible:!0,grid:cn(m,Ts,Es,x),keyPlacements:m};return{id:js(),name:T,rows:Ts,cols:Es,orientation:"bottom-up",displaySettings:{...B0},layers:[M],activeLayerId:M.id}},qy=({onUndo:c,canUndo:x,onRedo:T,canRedo:f,isDarkMode:m,toggleDarkMode:_,onOpenSettings:M,onOpenExportModal:A,onImport:b,onGenerateInstructions:r,currentZoom:d,onZoomChange:j,chartRows:v,chartCols:X})=>{const S=p.useMemo(()=>v>=100||X>=100?[.25,...di]:di,[v,X]),z=()=>{const q=S.indexOf(d);q<S.length-1&&j(S[q+1])},G=()=>{const q=S.indexOf(d);q>0&&j(S[q-1])};return u.jsxs("header",{className:"bg-neutral-50 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 shadow-md p-2 md:p-3 flex items-center justify-between print:hidden flex-shrink-0",children:[u.jsx("div",{className:"flex items-center sm:space-x-1 md:space-x-2",children:u.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-neutral-700 dark:text-neutral-200 whitespace-nowrap",style:{fontFamily:"'Cormorant Garamond', serif"},children:"Areum Knitlab"})}),u.jsxs("div",{className:"flex items-center sm:space-x-1 md:space-x-1.5",children:[u.jsx(Xt,{variant:"ghost",size:"sm",onClick:c,disabled:!x,title:"Undo (Ctrl+Z)",children:u.jsx(ay,{})}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:T,disabled:!f,title:"Redo (Ctrl+Y)",children:u.jsx(iy,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-0.5 sm:mx-1"}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:r,title:"Generate Written Instructions",children:u.jsx(dy,{})}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:A,title:"Export to JPG",children:u.jsx(hy,{})})]}),u.jsxs("div",{className:"flex items-center sm:space-x-0.5 md:space-x-1",children:[u.jsx(Xt,{variant:"ghost",size:"sm",onClick:G,title:"Zoom Out",disabled:S.indexOf(d)===0,children:u.jsx(cy,{})}),u.jsxs("span",{className:"text-sm w-10 text-center tabular-nums",children:[Math.round(d*100),"%"]}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:z,title:"Zoom In",disabled:S.indexOf(d)===S.length-1,children:u.jsx(sy,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-0.5 sm:mx-1"}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:_,title:m?"Switch to Light Mode":"Switch to Dark Mode",children:m?u.jsx(ry,{}):u.jsx(oy,{})}),u.jsx(Xt,{variant:"ghost",size:"sm",onClick:M,title:"Sheet Settings",children:u.jsx(uy,{})})]})]})},Xy=c=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...c,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.045 3.045C5.308 2.462 4.27 2.636 3.688 3.373A5.932 5.932 0 002.438 6c0 .46.06.91.179 1.349A5.97 5.97 0 005.35 10.5h.159a.6.6 0 01.537.36L7.5 15l1.455-4.14a.6.6 0 01.537-.36h.158c1.463 0 2.807-.537 3.748-1.479A5.932 5.932 0 0015.562 6c0-.46-.06-.91-.179-1.349A5.97 5.97 0 0012.65 2.5h-.159a.6.6 0 01-.537-.36L10.5 0 9.045 1.14a.6.6 0 01-.537.36H8.35C6.887 1.5 5.543 2.037 4.602 2.979L6.045 3.045zm11.91 0C18.692 2.462 19.73 2.636 20.312 3.373A5.932 5.932 0 0121.562 6c0 .46-.06.91-.179 1.349A5.97 5.97 0 0118.65 10.5h.159a.6.6 0 00.537-.36L21 6l-1.455 4.14a.6.6 0 00-.537.36h-.158c-1.463 0-2.807.537-3.748 1.479A5.932 5.932 0 0012.438 6c0-.46.06-.91.179-1.349A5.97 5.97 0 0115.35 2.5h.159a.6.6 0 00.537-.36L17.5 0l1.455 1.14a.6.6 0 00.537.36h.158c1.463 0 2.807.537 3.748 1.479L17.955 3.045zM6.045 20.955C5.308 21.538 4.27 21.364 3.688 20.627A5.932 5.932 0 012.438 18c0-.46.06-.91.179-1.349A5.97 5.97 0 015.35 13.5h.159a.6.6 0 00.537.36L7.5 9l1.455 4.14a.6.6 0 00.537.36h.158c1.463 0 2.807.537 3.748 1.479A5.932 5.932 0 0115.562 18c0 .46-.06.91-.179 1.349A5.97 5.97 0 0112.65 21.5h-.159a.6.6 0 00-.537.36L10.5 24l-1.455-1.14a.6.6 0 00-.537-.36H8.35c-1.463 0-2.807-.537-3.748-1.479L6.045 20.955zm11.91 0c.737.583 1.775.409 2.357-.328A5.932 5.932 0 0021.562 18c0-.46-.06-.91-.179-1.349A5.97 5.97 0 0018.65 13.5h.159a.6.6 0 01.537.36L21 18l-1.455-4.14a.6.6 0 01-.537-.36h-.158c-1.463 0-2.807-.537-3.748-1.479A5.932 5.932 0 0012.438 18c0 .46.06.91.179 1.349A5.97 5.97 0 0015.35 21.5h.159a.6.6 0 01.537.36L17.5 24l1.455-1.14a.6.6 0 01.537-.36h.158c1.463 0 2.807-.537 3.748-1.479L17.955 20.955z"})}),Ky=({layers:c,activeLayerId:x,onLayerSelect:T,onAddLayer:f,onRemoveLayer:m,onToggleLayerVisibility:_,onSelectAllActiveLayer:M})=>u.jsxs("div",{className:"p-2 space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-neutral-600 dark:text-neutral-400 uppercase tracking-wider",children:"Layers"}),u.jsx(Xt,{size:"sm",variant:"ghost",onClick:f,title:"Add new layer",children:u.jsx(Ns,{})})]}),c.length===0&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No layers yet. Add one!"}),u.jsx("ul",{className:"space-y-1 max-h-48 overflow-y-auto",children:c.map((A,b)=>u.jsxs("li",{className:`group flex items-center justify-between p-2 rounded cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors
                        ${x===A.id?"bg-primary/20 dark:bg-primary-dark/30":""}`,onClick:()=>T(A.id),children:[u.jsx("span",{className:"text-sm truncate flex-grow",title:A.name,children:A.name||`Layer ${b+1}`}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[x===A.id&&u.jsx(Xt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),M()},title:"Select all in this layer (Ctrl+A behavior for layer)",className:"opacity-0 group-hover:opacity-100 focus:opacity-100",children:v0?u.jsx(v0,{}):u.jsx(Xy,{})}),u.jsx(Xt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),_(A.id)},title:A.isVisible?"Hide layer":"Show layer",children:A.isVisible?u.jsx(gy,{}):u.jsx(by,{})}),u.jsx(Xt,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),m(A.id)},title:"Delete layer",className:"text-red-500 hover:text-red-700 disabled:opacity-50",disabled:c.length<=1,children:u.jsx(L0,{})})]})]},A.id))})]}),Zy=({sheets:c,activeSheetId:x,onSheetSelect:T,onAddSheet:f,onRemoveSheet:m,onRenameSheet:_})=>{const[M,A]=p.useState(null),[b,r]=p.useState(""),d=S=>{A(S.id),r(S.name)},j=()=>{M&&b.trim()&&_(M,b.trim()),A(null),r("")},v=()=>{A(null),r("")},X=S=>{if(c.length<=1){alert("Cannot delete the last sheet.");return}window.confirm("Are you sure you want to delete this sheet? This action cannot be undone.")&&m(S)};return u.jsxs("div",{className:"p-2 space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-neutral-600 dark:text-neutral-400 uppercase tracking-wider",children:"Sheets"}),u.jsx(Xt,{size:"sm",variant:"ghost",onClick:f,title:"Add new sheet",children:u.jsx(Ns,{})})]}),c.length===0&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"No sheets. Add one!"}),u.jsx("ul",{className:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar",children:c.map(S=>u.jsxs("li",{className:`group flex items-center justify-between p-2 rounded cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors
                        ${x===S.id?"bg-primary/20 dark:bg-primary-dark/30":""}`,onClick:()=>M!==S.id&&T(S.id),children:[M===S.id?u.jsx("input",{type:"text",value:b,onChange:z=>r(z.target.value),onBlur:j,onKeyDown:z=>{z.key==="Enter"&&j(),z.key==="Escape"&&v()},className:"text-sm flex-grow bg-neutral-50 dark:bg-neutral-700 border border-primary px-1 py-0.5 rounded outline-none",autoFocus:!0}):u.jsx("span",{className:"text-sm truncate flex-grow",title:S.name,children:S.name}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2 opacity-0 group-hover:opacity-100 focus-within:opacity-100",children:[M!==S.id&&u.jsx(Xt,{size:"sm",variant:"ghost",onClick:z=>{z.stopPropagation(),d(S)},title:"Rename sheet",children:u.jsx(wy,{})}),u.jsx(Xt,{size:"sm",variant:"ghost",onClick:z=>{z.stopPropagation(),X(S.id)},title:"Delete sheet",className:"text-red-500 hover:text-red-700 disabled:opacity-50",disabled:c.length<=1,children:u.jsx(L0,{})})]})]},S.id))})]})},Qy=[{id:"sheets",label:"Sheets",icon:u.jsx(Cy,{})},{id:"layers",label:"Layers",icon:u.jsx(Sy,{})},{id:"image-import",label:"Image Import",icon:u.jsx(my,{})}],ri=56,Iy=224,$y=200,Jy=450,Ss=c=>c!=="image-import",Wy=c=>{const[x,T]=p.useState(Iy),[f,m]=p.useState(!1),_=p.useRef(null),M=Math.max(0,$y-ri),A=Math.max(0,Jy-ri),b=S=>{S.preventDefault(),m(!0)},r=p.useCallback(()=>m(!1),[]),d=p.useCallback(S=>{if(!f||!_.current)return;const z=_.current.getBoundingClientRect();let q=S.clientX-z.left+(_.current.offsetLeft||0)-ri;q=Math.max(M,Math.min(A,q)),T(q)},[f,M,A]);p.useEffect(()=>(f?(document.addEventListener("mousemove",d),document.addEventListener("mouseup",r)):(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r)),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r)}),[f,d,r]);const j=S=>{if(S==="image-import"){c.onOpenImageProcessor();return}c.activeTab===S&&c.isSidebarContentVisible?c.onToggleSidebarContentVisibility():(c.onTabSelect(S),c.isSidebarContentVisible||c.onToggleSidebarContentVisibility())},v=()=>{switch(c.activeTab){case"sheets":return u.jsx(Zy,{sheets:c.allSheets,activeSheetId:c.activeSheetId,onSheetSelect:c.onSheetSelect,onAddSheet:c.onAddSheet,onRemoveSheet:c.onRemoveSheet,onRenameSheet:c.onRenameSheet});case"layers":return u.jsx(Ky,{layers:c.layers,activeLayerId:c.activeLayerId,onLayerSelect:c.onLayerSelect,onAddLayer:c.onAddLayer,onRemoveLayer:c.onRemoveLayer,onToggleLayerVisibility:c.onToggleLayerVisibility,onSelectAllActiveLayer:c.onSelectAllActiveLayer});default:return null}},X=c.isSidebarContentVisible&&Ss(c.activeTab)?ri+x:ri;return p.useEffect(()=>{c.onActualWidthChange&&c.onActualWidthChange(X)},[X,c.onActualWidthChange]),u.jsxs("div",{ref:_,className:"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 flex print:hidden relative transition-all duration-150 ease-in-out",style:{width:`${X}px`},children:[u.jsx("div",{className:"flex flex-col items-center bg-neutral-200 dark:bg-neutral-900 border-r border-neutral-300 dark:border-neutral-700 py-2 space-y-1 flex-shrink-0",style:{width:`${ri}px`},children:Qy.map(S=>{const G=Ss(S.id)&&c.activeTab===S.id&&c.isSidebarContentVisible;return u.jsx("button",{onClick:()=>j(S.id),title:S.label,className:`p-2.5 rounded-md w-10 h-10 flex items-center justify-center transition-colors
                          ${G?"bg-primary text-white":"hover:bg-neutral-300 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,"aria-label":S.label,"aria-selected":G,children:Na.cloneElement(S.icon,{className:"w-5 h-5"})},S.id)})}),c.isSidebarContentVisible&&Ss(c.activeTab)&&u.jsx("div",{className:"flex flex-col flex-grow overflow-hidden",style:{width:`${x}px`},children:u.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar",children:v()})}),c.isSidebarContentVisible&&Ss(c.activeTab)&&u.jsx("div",{className:"absolute top-0 h-full w-2 cursor-col-resize flex items-center justify-center group",style:{right:"0px"},onMouseDown:b,children:u.jsx(yy,{className:"text-neutral-400 dark:text-neutral-500 group-hover:text-primary w-2.5 h-8 opacity-30 group-hover:opacity-100 transition-opacity"})})]})};var Ze=(c=>(c.Pen="pen",c.Select="select",c.Move="move",c))(Ze||{});const Br=({x:c,y:x,items:T,onClose:f})=>{const m=p.useRef(null);p.useEffect(()=>{const b=d=>{m.current&&!m.current.contains(d.target)&&f()},r=d=>{d.key==="Escape"&&f()};return document.addEventListener("mousedown",b),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",r)}},[f]);const _={position:"fixed",top:x,left:c,zIndex:1e3},[M,A]=Na.useState({top:x,left:c});return p.useEffect(()=>{if(m.current){const b=m.current.offsetWidth,r=m.current.offsetHeight;let d=x,j=c;c+b>window.innerWidth&&(j=window.innerWidth-b-5),x+r>window.innerHeight&&(d=window.innerHeight-r-5),j<0&&(j=0),d<0&&(d=0),A({top:d,left:j})}},[c,x,T]),u.jsx("div",{ref:m,className:"bg-neutral-50 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-lg py-1 min-w-max animate-fadeIn",style:{..._,top:M.top,left:M.left},children:T.map((b,r)=>b.isSeparator===!0?u.jsx("div",{className:"h-px bg-neutral-200 dark:bg-neutral-700 my-1 mx-1"},`sep-${r}`):u.jsxs("button",{onClick:()=>{b.action(),f()},disabled:b.disabled,className:"w-full text-left px-2.5 py-1.5 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-primary/20 dark:hover:bg-primary-dark/30 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:bg-primary/20 dark:focus:bg-primary-dark/30 transition-colors",children:[b.label," "]},`${b.label}-${r}`))})},Fy=250,Py=200,fa=new Map;function T0(c,x,T,f,m,_,M){const A=_??0,b=M??0;return`${c}_${x}_${T.toFixed(2)}_${f}_${m}_${A}_${b}`}function t1(){if(fa.size>Fy){const c=Array.from(fa.entries()).sort((x,T)=>x[1].lastUsed-T[1].lastUsed);for(let x=0;x<fa.size-Py;x++)fa.delete(c[x][0])}}async function e1(c,x,T,f){const m=document.createElement("canvas");m.width=Math.max(1,Math.ceil(T)),m.height=Math.max(1,Math.ceil(f));const _=m.getContext("2d");if(!_)return null;const M=`<svg xmlns="http://www.w3.org/2000/svg" width="${T}" height="${f}" viewBox="0 0 24 24" style="color: ${x};">${c}</svg>`;return new Promise(A=>{const b=new Image;b.onload=()=>{_.clearRect(0,0,T,f),_.drawImage(b,0,0,T,f),A(m)},b.onerror=()=>{console.warn("Failed to load SVG for caching. SVG:",c.substring(0,100)),_.fillStyle=x,_.font=`${Math.max(8,f*.6)}px sans-serif`,_.textAlign="center",_.textBaseline="middle",_.fillText("?",T/2,f/2),A(m)},b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(M)}`})}async function Cs(c,x,T=fu,f,m,_,M,A,b){if(!x||_<=0)return;const r=A??0,d=b??0;let j=x.symbolColor;x.symbolColor===Cn&&(j=M?fl:tl);const v=_*.85,X=f+(_-v)/2,S=m+(_-v)/2;let z,G;if(x.lines&&x.lines.length>0)G="lines_content",z=T0(x.id,G,_,j,M,r,d);else if(x.cells&&x.cells[r]&&x.cells[r][d]){const K=x.cells[r][d];if(!K)return;G=K.type==="svg"?K.value:`text_${K.value.charAt(0)}`,z=T0(x.id,G,v,j,M,r,d)}else return;const q=fa.get(z);if(q){q.lastUsed=Date.now();const K=x.lines&&x.lines.length>0?f:X,lt=x.lines&&x.lines.length>0?m:S;c.drawImage(q.canvas,K,lt);return}let rt=null;if(x.lines&&x.lines.length>0){const K=document.createElement("canvas");K.width=Math.max(1,Math.ceil(_)),K.height=Math.max(1,Math.ceil(_));const lt=K.getContext("2d");if(lt){lt.strokeStyle=j,lt.lineWidth=Math.max(1,_*.08),lt.lineCap="round";for(const ct of x.lines){const Ht=(ct.start.x-d)*_,ot=(ct.start.y-r)*_,pt=(ct.end.x-d)*_,It=(ct.end.y-r)*_;lt.beginPath(),lt.moveTo(Ht,ot),lt.lineTo(pt,It),lt.stroke()}rt=K}}else if(x.cells&&x.cells[r]&&x.cells[r][d]){const K=x.cells[r][d];if(K.type==="svg"){const lt=T.find(ct=>ct.id===K.value);lt!=null&&lt.svgContent&&(rt=await e1(lt.svgContent,j,v,v))}else if(K.type==="text"){const lt=document.createElement("canvas");lt.width=Math.max(1,Math.ceil(v)),lt.height=Math.max(1,Math.ceil(v));const ct=lt.getContext("2d");if(ct){ct.fillStyle=j;const Ht=Math.max(8,v*.7);ct.font=`${Ht}px 'Roboto Mono', monospace`,ct.textAlign="center",ct.textBaseline="middle",ct.fillText(K.value.charAt(0),v/2,v/2),rt=lt}}}if(rt){fa.set(z,{canvas:rt,lastUsed:Date.now()}),t1();const K=x.lines&&x.lines.length>0?f:X,lt=x.lines&&x.lines.length>0?m:S;c.drawImage(rt,K,lt)}}function l1(){const c=[];fa.forEach((x,T)=>{(T.includes(Cn)||T.includes(fl)||T.includes(tl)||T.includes("_true_")||T.includes("_false_"))&&c.push(T)}),c.forEach(x=>fa.delete(x))}const n1=({chartState:c,keyPalette:x,activeTool:T,allSymbols:f,isDarkMode:m,zoomLevel:_,setZoomLevel:M,effectiveZoomLevels:A,viewOffset:b,onViewOffsetChange:r,canvasSize:d,selection:j,isActuallyDrawingSel:v,selectionDragAnchorForCanvas:X,isActuallyDraggingSel:S,draggedCellsPreviewInfo:z,dragPreviewSnappedGridPosition:G,onSelectionChange:q,onCellAction:rt,onSelectionDragStart:K,onSelectionDragMove:lt,onSelectionDragEnd:ct,onRequestApplyActiveKeyToSelection:Ht,onRequestClearAllInSelection:ot,onInsertRow:pt,onDeleteRow:It,onInsertColumn:jt,onDeleteColumn:xt,selectAllActiveLayerFlag:Mt,onSelectAllProcessed:Kt,onCopySelection:Zt,onCutSelection:Yt,onPasteFromClipboard:k,canPaste:W,isPreviewingPaste:yt,pastePreviewInfo:Ot,pastePreviewAnchor:h,hoveredCanvasCell:Z,onHoveredCellChange:st,onPastePreviewMove:ut,onPastePreviewFinalize:ht,onPastePreviewCancel:St,activeKeyId:Ct,onPenDragSessionStart:xe,onPenDragSessionContinue:P,onPenDragSessionEnd:re})=>{const{rows:$t,cols:kt,layers:il,activeLayerId:ve,orientation:el,displaySettings:Ft}=c,Ce=il.find(et=>et.id===ve),ze=p.useRef(null),bl=p.useRef(null),qe=p.useRef(null),Qe=p.useRef(null),[Be,xl]=p.useState(!1),[vl,Ie]=p.useState(!1),[pl,le]=p.useState(null),[Gt,$e]=p.useState(null),[Y,ft]=p.useState(null),Q=Sn*_,Et=x.find(et=>et.id===Ne)||{id:Ne,name:"No Stitch",width:1,height:1,backgroundColor:Al,symbolColor:m?fl:tl},gt=Ft.rowCountVisibility==="left"||Ft.rowCountVisibility==="both"||Ft.rowCountVisibility==="alternating-left"||Ft.rowCountVisibility==="alternating-right"?rn:0,N=Ft.rowCountVisibility==="right"||Ft.rowCountVisibility==="both"||Ft.rowCountVisibility==="alternating-left"||Ft.rowCountVisibility==="alternating-right"?rn:0,B=Ft.colCountVisibility==="top"||Ft.colCountVisibility==="both"?rn:0,nt=Ft.colCountVisibility==="bottom"||Ft.colCountVisibility==="both"?rn:0,vt=kt*Q,At=$t*Q,Qt=gt+vt+N,we=B+At+nt,Le=p.useCallback(et=>{let H=et.x,_t=et.y;Qt<=d.width?H=Math.max(0,Math.min(et.x,d.width-Qt)):H=Math.max(d.width-Qt,Math.min(0,et.x)),we<=d.height?_t=Math.max(0,Math.min(et.y,d.height-we)):_t=Math.max(d.height-we,Math.min(0,et.y)),r({x:H,y:_t})},[Qt,we,d.width,d.height,r]),me=m?Fl:Wl,Tl=p.useCallback(async(et,H,_t)=>{if(!ze.current||!Ce)return;const Tt=ze.current.getContext("2d");if(!Tt)return;const Nt=gt+H*Q,mt=B+et*Q;Tt.save(),Tt.translate(b.x,b.y),Tt.clearRect(Nt,mt,Q,Q);let zt=_t.backgroundColor;zt===Al?zt=m?Fl:Wl:zt===Pl&&(zt=m?Nl:gl),Tt.fillStyle=zt,Tt.fillRect(Nt,mt,Q,Q),_t&&_t.id!==Ne&&await Cs(Tt,_t,f,Nt,mt,Q,m,0,0),Tt.strokeStyle=me,Tt.lineWidth=1,Tt.beginPath();const ne=Math.round(Nt+Q)+.5,Bt=Math.round(mt+Q)+.5,ll=Math.round(Nt)+.5,qt=Math.round(mt)+.5;Tt.moveTo(ne,qt-.5),Tt.lineTo(ne,Bt),Tt.lineTo(ll-.5,Bt),Tt.stroke(),Tt.restore()},[Ce,x,Q,m,f,gt,B,me,b,Et]),ue=p.useCallback(async()=>{var ll;if(!ze.current||!Ce||d.width===0||d.height===0)return;const et=ze.current,H=et.getContext("2d");if(!H)return;et.width=d.width,et.height=d.height,H.fillStyle=m?"#1F2937":"#FCFCFC",H.fillRect(0,0,et.width,et.height),H.save(),H.translate(b.x,b.y),gt>0&&H.fillRect(0,B,gt,At),B>0&&H.fillRect(gt,0,vt,B),N>0&&H.fillRect(gt+vt,B,N,At),nt>0&&H.fillRect(gt,B+At,vt,nt);const _t=Math.max(0,Math.floor((-b.x-gt)/Q)),Tt=Math.min(kt,Math.ceil((-b.x-gt+d.width)/Q)),Nt=Math.max(0,Math.floor((-b.y-B)/Q)),mt=Math.min($t,Math.ceil((-b.y-B+d.height)/Q)),zt=[];for(let qt=Nt;qt<mt;qt++)for(let Vt=_t;Vt<Tt;Vt++){const de=gt+Vt*Q,Je=B+qt*Q,oe=(ll=Ce.grid[qt])==null?void 0:ll[Vt],Yl=oe!=null&&oe.keyId&&x.find(Gl=>Gl.id===oe.keyId)||Et;let _l=Yl.backgroundColor;_l===Al?_l=m?Fl:Wl:_l===Pl&&(_l=m?Nl:gl),H.fillStyle=_l,H.fillRect(de,Je,Q,Q),Yl&&Yl.id!==Ne&&zt.push(Cs(H,Yl,f,de,Je,Q,m,oe==null?void 0:oe.keyPartRowOffset,oe==null?void 0:oe.keyPartColOffset))}await Promise.all(zt),H.strokeStyle=me,H.lineWidth=1;for(let qt=Nt;qt<=mt;qt++){H.beginPath();const Vt=Math.round(B+qt*Q)+.5,de=Math.round(gt+_t*Q)+.5,Je=Math.round(gt+Tt*Q)+.5;H.moveTo(de-.5,Vt),H.lineTo(Je-.5,Vt),H.stroke()}for(let qt=_t;qt<=Tt;qt++){H.beginPath();const Vt=Math.round(gt+qt*Q)+.5,de=Math.round(B+Nt*Q)+.5,Je=Math.round(B+mt*Q)+.5;H.moveTo(Vt,de-.5),H.lineTo(Vt,Je-.5),H.stroke()}H.fillStyle=m?fl:tl;const ne=Math.max(8,Math.min(14,Q*.4*Math.max(.5,1/_)));H.font=`${ne}px sans-serif`,H.textAlign="center",H.textBaseline="middle";const Bt=qt=>el==="bottom-up"?$t-qt:qt+1;for(let qt=Nt;qt<mt;qt++){const Vt=Bt(qt),de=B+qt*Q+Q/2;-b.y<=de&&de<=-b.y+d.height&&((Ft.rowCountVisibility==="left"||Ft.rowCountVisibility==="both"||Ft.rowCountVisibility==="alternating-left"&&Vt%2!==0||Ft.rowCountVisibility==="alternating-right"&&Vt%2===0)&&gt>0&&H.fillText(String(Vt),gt/2,de),(Ft.rowCountVisibility==="right"||Ft.rowCountVisibility==="both"||Ft.rowCountVisibility==="alternating-right"&&Vt%2!==0||Ft.rowCountVisibility==="alternating-left"&&Vt%2===0)&&N>0&&H.fillText(String(Vt),gt+vt+N/2,de))}for(let qt=_t;qt<Tt;qt++){const Vt=qt+1,de=gt+qt*Q+Q/2;-b.x<=de&&de<=-b.x+d.width&&((Ft.colCountVisibility==="top"||Ft.colCountVisibility==="both")&&B>0&&H.fillText(String(Vt),de,B/2),(Ft.colCountVisibility==="bottom"||Ft.colCountVisibility==="both")&&nt>0&&H.fillText(String(Vt),de,B+At+nt/2))}H.restore()},[Ce,x,f,m,_,b,d,$t,kt,Ft,el,Et,Q,vt,At,gt,B,N,nt,me]),Ae=p.useCallback(async()=>{if(!bl.current||!Ce||d.width===0||d.height===0)return;const et=bl.current,H=et.getContext("2d");if(!H)return;if(et.width=d.width,et.height=d.height,H.save(),H.translate(b.x,b.y),j){const Nt={start:{x:Math.min(j.start.x,j.end.x),y:Math.min(j.start.y,j.end.y)},end:{x:Math.max(j.start.x,j.end.x),y:Math.max(j.start.y,j.end.y)}};H.strokeStyle=m?"#F7A17F":"#E3815D",H.lineWidth=2/_,H.strokeRect(gt+Nt.start.x*Q,B+Nt.start.y*Q,(Nt.end.x-Nt.start.x+1)*Q,(Nt.end.y-Nt.start.y+1)*Q)}Z&&!yt&&!Be&&!vl&&!j&&!S&&!v&&T!==Ze.Move&&(H.fillStyle=m?"rgba(42, 157, 177, 0.3)":"rgba(118, 196, 213, 0.2)",H.fillRect(gt+Z.x*Q,B+Z.y*Q,Q,Q));const _t=[];if(S&&z&&G){H.globalAlpha=.6;for(const Nt of z.relativeKeyInstances){const mt=x.find(Bt=>Bt.id===Nt.keyId);if(!mt)continue;const zt=G.x+Nt.anchor.x,ne=G.y+Nt.anchor.y;for(let Bt=0;Bt<mt.height;Bt++)for(let ll=0;ll<mt.width;ll++){const qt=ne+Bt,Vt=zt+ll;if(qt>=0&&qt<$t&&Vt>=0&&Vt<kt){const de=gt+Vt*Q,Je=B+qt*Q;let oe=mt.backgroundColor;oe===Al?oe=m?Fl:Wl:oe===Pl&&(oe=m?Nl:gl),H.fillStyle=oe,H.fillRect(de,Je,Q,Q),mt.id!==Ne&&_t.push(Cs(H,mt,f,de,Je,Q,m,Bt,ll))}}}await Promise.all(_t),H.globalAlpha=1}const Tt=[];if(yt&&Ot&&h){H.globalAlpha=.6;for(const Nt of Ot.relativeKeyInstances){const mt=x.find(Bt=>Bt.id===Nt.keyId);if(!mt)continue;const zt=h.x+Nt.anchor.x,ne=h.y+Nt.anchor.y;for(let Bt=0;Bt<mt.height;Bt++)for(let ll=0;ll<mt.width;ll++){const qt=ne+Bt,Vt=zt+ll;if(qt>=0&&qt<$t&&Vt>=0&&Vt<kt){const de=gt+Vt*Q,Je=B+qt*Q;let oe=mt.backgroundColor;oe===Al?oe=m?Fl:Wl:oe===Pl&&(oe=m?Nl:gl),H.fillStyle=oe,H.fillRect(de,Je,Q,Q),mt.id!==Ne&&Tt.push(Cs(H,mt,f,de,Je,Q,m,Bt,ll))}}}await Promise.all(Tt),H.globalAlpha=1}H.restore()},[Ce,j,m,b,Q,d,$t,kt,_,S,z,G,x,f,yt,Ot,h,Z,Be,vl,T,gt,B]);p.useEffect(()=>{ue().then(()=>Ae())},[ue]),p.useEffect(()=>{Ae()},[Ae]),p.useEffect(()=>{if(Mt&&Ce&&Ce.id===ve){const et={start:{x:0,y:0},end:{x:kt-1,y:$t-1}};q(et,!1,{x:kt-1,y:$t-1}),Kt()}},[Mt,ve,$t,kt,Kt,q,Ce]);const Ve=p.useCallback(et=>{if(!qe.current)return null;const H=qe.current.getBoundingClientRect(),_t=et.clientX-H.left,Tt=et.clientY-H.top,Nt=Math.floor((_t-b.x-gt)/Q),mt=Math.floor((Tt-b.y-B)/Q);return{x:Nt,y:mt}},[b.x,b.y,gt,B,Q]),Ye=p.useCallback(async et=>{if(Ct){const H=x.find(_t=>_t.id===Ct);H&&(await Tl(et.y,et.x,H),rt(et,H))}},[Ct,x,rt,Tl]),dl=async et=>{var Tt;ft(null);const H=Ve(et);if(!H)return;const _t=H.x>=0&&H.x<kt&&H.y>=0&&H.y<$t;if(yt){et.button===0?ht():et.button===2&&St();return}if(Gt&&et.target.closest("button[data-gutter-control]")){et.stopPropagation();return}if(_t)if(et.button===0)if(T===Ze.Pen)xl(!0),xe(),await Ye(H),P();else if(T===Ze.Select){let Nt=!1;const mt=j?{start:{x:Math.min(j.start.x,j.end.x),y:Math.min(j.start.y,j.end.y)},end:{x:Math.max(j.start.x,j.end.x),y:Math.max(j.start.y,j.end.y)}}:null;if(mt&&H.x>=mt.start.x&&H.x<=mt.end.x&&H.y>=mt.start.y&&H.y<=mt.end.y&&(Nt=!0),Nt&&j&&Ce&&mt){const zt=mt.end.x-mt.start.x+1,ne=mt.end.y-mt.start.y+1,Bt=[];for(let qt=0;qt<ne;qt++)for(let Vt=0;Vt<zt;Vt++){const de=mt.start.y+qt,Je=mt.start.x+Vt,oe=(Tt=Ce.grid[de])==null?void 0:Tt[Je];if(oe!=null&&oe.keyId){const Yl=x.find(_l=>_l.id===oe.keyId);Yl&&(oe.isAnchorCellForMxN||Yl.width===1&&Yl.height===1)&&(Bt.some(_l=>_l.keyId===oe.keyId&&_l.anchor.x===Vt&&_l.anchor.y===qt)||Bt.push({anchor:{y:qt,x:Vt},keyId:oe.keyId}))}}const ll={relativeKeyInstances:Bt,width:zt,height:ne,originalStartCoords:mt.start};K(ll,H,et)}else q({start:H,end:H},!0,H);xl(!1)}else T===Ze.Move&&(xl(!1),le({x:et.clientX,y:et.clientY}));else et.button===1&&(et.preventDefault(),Ie(!0),le({x:et.clientX,y:et.clientY}));else et.button===0?T===Ze.Select&&j?q(null,!1,void 0):T===Ze.Move&&(xl(!1),le({x:et.clientX,y:et.clientY})):et.button===1&&(et.preventDefault(),Ie(!0),le({x:et.clientX,y:et.clientY}))},Ll=et=>{if(qe.current){const mt=qe.current.getBoundingClientRect(),zt=et.clientX-mt.left,ne=et.clientY-mt.top;Qe.current={xInCanvas:zt,yInCanvas:ne,xInPannable:zt-b.x,yInPannable:ne-b.y}}const H=Ve(et);if(!H){st(null);return}const _t=H.x>=0&&H.x<kt&&H.y>=0&&H.y<$t,Tt=8/_;let Nt=null;if(qe.current&&Qe.current){const{xInPannable:mt,yInPannable:zt}=Qe.current;for(let ne=0;ne<=$t;ne++){const Bt=B+ne*Q;if(Math.abs(zt-Bt)<Tt&&(gt>0&&mt>=0&&mt<gt||N>0&&mt>=gt+vt&&mt<Qt)){Nt={type:"row",index:ne,displayNumber:cl(ne<$t?ne:ne-1,"row").displayNumber};break}}if(!Nt)for(let ne=0;ne<=kt;ne++){const Bt=gt+ne*Q;if(Math.abs(mt-Bt)<Tt&&(B>0&&zt>=0&&zt<B||nt>0&&zt>=B+At&&zt<we)){Nt={type:"col",index:ne,displayNumber:cl(ne<kt?ne:ne-1,"col").displayNumber};break}}}if($e(Nt),_t&&!Nt?(!S&&!Be&&!v&&T!==Ze.Move?st(H):st(null),yt&&ut(H)):Nt||(st(null),yt&&ut(H)),S)lt(H,et);else if(v&&T===Ze.Select&&X){const mt=Math.max(0,Math.min(kt-1,H.x)),zt=Math.max(0,Math.min($t-1,H.y));q({start:X,end:{x:mt,y:zt}},!0,{x:mt,y:zt})}else if(vl&&pl){const mt=et.clientX-pl.x,zt=et.clientY-pl.y;Le({x:b.x+mt,y:b.y+zt}),le({x:et.clientX,y:et.clientY})}else if(T===Ze.Move&&pl&&et.buttons===1){const mt=et.clientX-pl.x,zt=et.clientY-pl.y;Le({x:b.x+mt,y:b.y+zt}),le({x:et.clientX,y:et.clientY})}else Be&&_t&&T===Ze.Pen&&Ye(H)},Pt=p.useCallback(et=>{Be&&(xl(!1),re()),vl&&Ie(!1),pl&&le(null);const H=Ve(et);if(S&&G)ct(G,et);else if(v&&X){const _t=H?{x:Math.max(0,Math.min(kt-1,H.x)),y:Math.max(0,Math.min($t-1,H.y))}:X;q({start:X,end:_t},!1,_t)}},[Be,vl,pl,S,ct,G,v,X,q,kt,$t,Ve,re]);p.useEffect(()=>(document.addEventListener("mouseup",Pt),()=>document.removeEventListener("mouseup",Pt)),[Pt]);const fe=et=>{et.preventDefault();const H=et.deltaY<0?1:-1;let Tt=A.indexOf(_)+H;Tt=Math.max(0,Math.min(A.length-1,Tt)),A[Tt]!==_?M(A[Tt]):Le({x:b.x-et.deltaX,y:b.y-et.deltaY})};p.useEffect(()=>{Le(b)},[_,d,kt,$t,c.displaySettings,Le]);const ye=et=>{var Tt;if(et.preventDefault(),yt){St();return}if(S||v){ft(null);return}ft(null);let H=[];if(Gt&&(Gt.type==="row"||Gt.type==="col")&&Gt){const{type:Nt,index:mt,displayNumber:zt}=Gt;Nt==="row"?(H.push({label:`Insert Row Before ${zt}`,action:()=>pt(mt)}),H.push({label:`Insert Row After ${zt}`,action:()=>pt(mt+1)}),$t>1&&H.push({label:`Delete Row ${zt}`,action:()=>It(mt),disabled:$t<=1})):(H.push({label:`Insert Column Before ${zt}`,action:()=>jt(mt)}),H.push({label:`Insert Column After ${zt}`,action:()=>jt(mt+1)}),kt>1&&H.push({label:`Delete Column ${zt}`,action:()=>xt(mt),disabled:kt<=1}))}else j?(H.push({label:"Copy (Ctrl+C)",action:Zt,disabled:!j},{label:"Cut (Ctrl+X)",action:Yt,disabled:!j},{label:"Paste (Ctrl+V)",action:k,disabled:!W}),H.push({isSeparator:!0}),H.push({label:"Apply Active Key to Selection",action:Ht,disabled:!Ct}),H.push({label:'Apply "No Stitch" to Selection',action:ot}),H.push({isSeparator:!0}),H.push({label:"Deselect Area",action:()=>q(null,!1,void 0)})):H.push({label:"Paste (Ctrl+V)",action:k,disabled:!W});H.length>0&&((Tt=H[H.length-1])!=null&&Tt.isSeparator)&&H.pop(),H.length>0&&ft({visible:!0,x:et.clientX,y:et.clientY,items:H})};let ke="crosshair";T===Ze.Select&&!v?ke=S?"grabbing":"cell":(T===Ze.Move||vl)&&(ke=vl||T===Ze.Move&&pl?"grabbing":"grab"),yt&&(ke="copy");const cl=(et,H)=>{const _t=H==="row"&&el==="bottom-up"?$t-et:et+1;let Tt=!0;return H==="row"&&(Ft.rowCountVisibility==="alternating-left"&&(Tt=_t%2!==0),Ft.rowCountVisibility==="alternating-right"&&(Tt=_t%2===0)),{displayNumber:_t,isPrimaryDirection:Tt}},Rl=(et,H,_t)=>{const{displayNumber:Tt}=cl(H<(et==="row"?$t:kt)?H:H-1,et),Nt=et==="row"?H===$t:H===kt;return u.jsxs("div",{style:{..._t,display:"flex",flexDirection:et==="row"?"row":"column",gap:"2px",zIndex:15,pointerEvents:"auto"},children:[u.jsx("button",{"data-gutter-control":!0,onClick:()=>et==="row"?pt(H):jt(H),className:"p-0.5 rounded bg-neutral-200/80 dark:bg-neutral-700/80 hover:bg-primary/40 dark:hover:bg-primary-dark/50 text-neutral-700 dark:text-neutral-200 hover:text-primary-dark dark:hover:text-primary-light transition-colors shadow-md",title:`Insert ${et} here`,"aria-label":`Insert ${et}`,children:u.jsx(Ns,{size:14})}),!Nt&&(et==="row"?$t>1:kt>1)&&u.jsx("button",{"data-gutter-control":!0,onClick:()=>et==="row"?It(H):xt(H),className:"p-0.5 rounded bg-neutral-200/80 dark:bg-neutral-700/80 hover:bg-red-500/40 dark:hover:bg-red-400/50 text-neutral-700 dark:text-neutral-200 hover:text-red-700 dark:hover:text-red-500 transition-colors shadow-md",title:`Delete ${et} ${Tt}`,"aria-label":`Delete ${et}`,children:u.jsx(k0,{size:14})})]})};return u.jsxs("div",{ref:qe,className:"w-full h-full bg-neutral-200 dark:bg-neutral-800 overflow-hidden relative select-none touch-none",style:{cursor:ke},onWheel:fe,onContextMenu:ye,onMouseMove:Ll,onMouseDown:dl,onMouseLeave:()=>{st(null),$e(null),Be&&(xl(!1),re())},"aria-label":"Knitting Chart Canvas",role:"application",children:[u.jsx("canvas",{ref:ze,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},"aria-hidden":"true"}),u.jsx("canvas",{ref:bl,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},"aria-hidden":"true"}),u.jsxs("div",{style:{position:"absolute",left:b.x,top:b.y,width:Qt,height:we,pointerEvents:"none",zIndex:5},children:[Array.from({length:$t+1}).map((et,H)=>{if(!((Gt==null?void 0:Gt.type)==="row"&&Gt.index===H))return null;let _t=!1,Tt=!1;const Nt=Ft.rowCountVisibility;return Nt==="left"?_t=!0:Nt==="right"?Tt=!0:(Nt==="both"||Nt==="alternating-left"||Nt==="alternating-right")&&(_t=!0,Tt=!0),gt===0&&(_t=!1),N===0&&(Tt=!1),u.jsxs(Na.Fragment,{children:[_t&&Rl("row",H,{position:"absolute",top:`${B+H*Q-10}px`,left:`${gt/2-20}px`}),Tt&&Rl("row",H,{position:"absolute",top:`${B+H*Q-10}px`,left:`${gt+vt+N/2-20}px`})]},`row-gutter-controls-${H}`)}),Array.from({length:kt+1}).map((et,H)=>{var zt;if(!((Gt==null?void 0:Gt.type)==="col"&&Gt.index===H))return null;let _t=!1,Tt=!1;const Nt=Ft.colCountVisibility,mt=(zt=Qe.current)==null?void 0:zt.yInPannable;return Nt==="top"?_t=!0:Nt==="bottom"?Tt=!0:Nt==="both"&&(mt!==void 0?mt>=0&&mt<B?_t=!0:mt>=B+At&&mt<we?Tt=!0:mt<B+At/2?_t=!0:Tt=!0:(_t=!0,Tt=!0)),B===0&&(_t=!1),nt===0&&(Tt=!1),u.jsxs(Na.Fragment,{children:[_t&&Rl("col",H,{position:"absolute",left:`${gt+H*Q-10}px`,top:`${B/2-20}px`}),Tt&&Rl("col",H,{position:"absolute",left:`${gt+H*Q-10}px`,top:`${B+At+nt/2-20}px`})]},`col-gutter-controls-${H}`)})]}),(Y==null?void 0:Y.visible)&&u.jsx(Br,{x:Y.x,y:Y.y,items:Y.items,onClose:()=>ft(null)})]})},Aa=({isOpen:c,onClose:x,title:T,children:f,size:m="md",footer:_})=>{if(!c)return null;let M="";switch(m){case"sm":M="max-w-sm";break;case"md":M="max-w-md";break;case"lg":M="max-w-lg";break;case"xl":M="max-w-xl";break;case"full":M="max-w-full w-11/12";break;default:M="max-w-md"}return u.jsx("div",{className:"fixed inset-0 bg-neutral-800 bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,children:u.jsxs("div",{className:`bg-neutral-50 dark:bg-neutral-800 rounded-lg shadow-xl p-6 ${M} w-full animate-slideUp flex flex-col max-h-[90vh]`,onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[typeof T=="string"?u.jsx("h2",{className:"text-xl font-semibold text-neutral-800 dark:text-neutral-100 flex-grow",children:T}):u.jsx("div",{className:"flex-grow",children:T}),u.jsx("button",{onClick:x,className:"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 transition-colors ml-2 flex-shrink-0","aria-label":"Close modal",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-grow overflow-y-auto mb-4",children:f}),_&&u.jsx("div",{className:"mt-auto pt-4 border-t border-neutral-200 dark:border-neutral-700",children:_})]})})},a1=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#000000","#FFFFFF","#808080","#C0C0C0","#A52A2A","#FFC0CB","#ADD8E6","#90EE90"],E0=({initialColor:c="#000000",onChange:x})=>{const[T,f]=p.useState(c);p.useEffect(()=>{f(c)},[c]);const m=M=>{const A=M.target.value.toUpperCase();f(A),x(A)},_=M=>{const A=M.toUpperCase();f(A),x(A)};return u.jsxs("div",{className:"flex items-center space-x-2",children:[" ",u.jsx("input",{type:"color",value:T,onChange:m,className:"w-8 h-8 p-0 border border-neutral-300 dark:border-neutral-600 rounded-md cursor-pointer flex-shrink-0","aria-label":"Select active color"}),u.jsx("div",{className:"grid grid-cols-8 gap-1",children:a1.map(M=>u.jsx("button",{type:"button",title:M,onClick:()=>_(M),className:`w-5 h-5 rounded border border-neutral-300 dark:border-neutral-600 ${T.toUpperCase()===M?"ring-2 ring-primary ring-offset-1 dark:ring-offset-neutral-800":""}`,style:{backgroundColor:M},"aria-label":`Select color ${M}`},M))})]})},Hr=({keyDef:c,allStitchSymbols:x=fu,className:T="",cellSize:f=24,keyPartRowOffset:m,keyPartColOffset:_,isDarkMode:M=!1})=>{if(!c)return u.jsx("div",{className:`w-full h-full ${T}`,style:{backgroundColor:"transparent"}});const{width:A,height:b,symbolColor:r,lines:d,cells:j}=c;let v=r;r===Cn&&(v=M?fl:tl);const X={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",userSelect:"none",position:"relative",color:v};if(m!==void 0&&_!==void 0&&(A>1||b>1)){const S=m,z=_;if(d&&d.length>0)return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`${z*f} ${S*f} ${f} ${f}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},preserveAspectRatio:"xMidYMid meet",children:d.map((G,q)=>u.jsx("line",{x1:G.start.x*f,y1:G.start.y*f,x2:G.end.x*f,y2:G.end.y*f,stroke:v,strokeWidth:Math.max(1,f*.08),strokeLinecap:"round"},`key-line-part-${q}`))})});if(j&&j[S]&&j[S][z]){const G=j[S][z];if(G){if(G.type==="svg"){const q=x.find(rt=>rt.id===G.value);if(q!=null&&q.svgContent)return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("svg",{width:`${f*.85}px`,height:`${f*.85}px`,viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:q.svgContent},style:{color:v}})})}else if(G.type==="text"){const q=Math.max(8,f*.6);return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsxs("span",{style:{fontSize:`${q}px`,lineHeight:"1",fontFamily:"monospace",color:v},children:[" ",G.value.charAt(0)]})})}}}return u.jsx("div",{className:`w-full h-full ${T}`,title:c.name,style:{backgroundColor:"transparent"}})}else if(A===1&&b===1){if(d&&d.length>0)return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${f} ${f}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:d.map((S,z)=>u.jsx("line",{x1:S.start.x*f,y1:S.start.y*f,x2:S.end.x*f,y2:S.end.y*f,stroke:v,strokeWidth:Math.max(1,f*.08),strokeLinecap:"round"},`key-line-1x1-${z}`))})});if(j&&j[0]&&j[0][0]){const S=j[0][0];if(S.type==="svg"){const z=x.find(G=>G.id===S.value);if(z!=null&&z.svgContent)return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("svg",{width:`${f*.85}px`,height:`${f*.85}px`,viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:z.svgContent},style:{color:v}})})}else if(S.type==="text"){const z=Math.max(8,f*.6);return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsxs("span",{style:{fontSize:`${z}px`,lineHeight:"1",fontFamily:"monospace",color:v},children:[" ",S.value.charAt(0)]})})}}}else if(A>1||b>1){const S=f/Math.max(A,b);if(d&&d.length>0)return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${A*S} ${b*S}`,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:d.map((z,G)=>u.jsx("line",{x1:z.start.x*S,y1:z.start.y*S,x2:z.end.x*S,y2:z.end.y*S,stroke:v,strokeWidth:Math.max(1,S*.08),strokeLinecap:"round"},`key-line-mxn-preview-${G}`))})});if(j){const z=Math.min(S*.7,14),G=Math.max(6,z);return u.jsx("div",{style:X,className:T,title:c.name,children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${A}, 1fr)`,gridTemplateRows:`repeat(${b}, 1fr)`,width:"100%",height:"100%",color:v},children:j.map((q,rt)=>q.map((K,lt)=>{var ct;return u.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:`${G}px`,lineHeight:"1",fontFamily:"monospace",overflow:"hidden"},children:K?K.type==="text"?K.value.charAt(0):K.type==="svg"?((ct=x.find(Ht=>Ht.id===K.value))==null?void 0:ct.abbreviation)||"?":"":""},`preview-mxn-cell-${rt}-${lt}`)}))})})}}return u.jsx("div",{className:`w-full h-full ${T}`,title:c.name,style:{backgroundColor:"transparent"}})},oi=(c,x)=>Array(c).fill(null).map(()=>Array(x).fill(null)),j0=.3,He=32,pn=20,fi=16,i1=4,u1=.8,s1=.4,Lr=({anchorEl:c,isOpen:x,onClose:T,children:f,className:m,position:_="bottom-start"})=>{const M=p.useRef(null);if(p.useEffect(()=>{const r=d=>{M.current&&!M.current.contains(d.target)&&c&&!c.contains(d.target)&&T()};return x&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[x,T,c]),!x||!c)return null;const A=c.getBoundingClientRect(),b={position:"fixed",zIndex:1100};switch(_){case"bottom-start":b.top=A.bottom+4,b.left=A.left;break;case"bottom-end":b.top=A.bottom+4,b.right=window.innerWidth-A.right;break;case"top-start":b.bottom=window.innerHeight-A.top+4,b.left=A.left;break;case"top-end":b.bottom=window.innerHeight-A.top+4,b.right=window.innerWidth-A.right;break}return u.jsx("div",{ref:M,style:b,className:`bg-neutral-50 dark:bg-neutral-800 shadow-xl rounded-md border border-neutral-300 dark:border-neutral-600 p-3 animate-fadeIn ${m}`,children:f})},c1=({isOpen:c,onClose:x,onSave:T,existingKey:f,isDarkMode:m,keyPalette:_})=>{const[M,A]=p.useState(""),[b,r]=p.useState(""),[d,j]=p.useState(""),[v,X]=p.useState(!0),[S,z]=p.useState(1),[G,q]=p.useState(1),[rt,K]=p.useState(m?Nl:gl),[lt,ct]=p.useState(m?fl:tl),[Ht,ot]=p.useState(oi(1,1)),[pt,It]=p.useState([]),[jt,xt]=p.useState(null),[Mt,Kt]=p.useState(null),[Zt,Yt]=p.useState(null),[k,W]=p.useState(null),[yt,Ot]=p.useState(null),h=p.useRef(null),[Z,st]=p.useState(!1),ut=p.useRef(null),[ht,St]=p.useState(!1),Ct=p.useRef(null),[xe,P]=p.useState(!1),re=p.useRef(null),[$t,kt]=p.useState(""),il=p.useCallback(N=>{const B=N.match(/^Custom Key (\d+)$/i);if(B){const nt=parseInt(B[1],10);if(nt>=0&&nt<zr.length)return zr[nt]}return""},[]),ve=p.useCallback(()=>{var N;if(st(!1),St(!1),P(!1),kt(""),W(null),Yt(null),Kt(null),Ot(null),f){A(f.id),r(f.name),z(f.width),q(f.height),K(f.backgroundColor),ct(f.symbolColor),It(f.lines||[]);const B=f.id===Ne?!1:f.abbreviation!==Vl;X(B),j(B?f.abbreviation||"":Vl);const nt=oi(f.height,f.width);if(f.cells&&(!f.lines||f.lines.length===0)){for(let vt=0;vt<f.height;vt++)for(let At=0;At<f.width;At++)nt[vt][At]=((N=f.cells[vt])==null?void 0:N[At])||null;xt("cell")}else xt(f.lines&&f.lines.length>0?"line":"cell");ot(nt)}else{const B=Ms();A(B);let nt="Custom Key",vt=1,At=`${nt} ${vt}`;for(;_.some(Le=>Le.name===At&&Le.id!==B);)vt++,At=`${nt} ${vt}`;r(At),X(!0),j(il(At));const Qt=1,we=1;z(Qt),q(we),K(m?Nl:gl),ct(m?fl:tl),xt("line"),ot(oi(Qt,we)),It([])}},[f,m,_,c,il]);p.useEffect(()=>{c&&ve()},[c,ve]),p.useEffect(()=>{var B;if(!c)return;const N=oi(G,S);if(jt==="cell"){const nt=Ht;for(let vt=0;vt<Math.min(G,nt.length);vt++)for(let At=0;At<Math.min(S,((B=nt[vt])==null?void 0:B.length)||0);At++)N[vt][At]=nt[vt][At]}ot(N),jt!=="line"&&pt.length>0&&It([])},[S,G,c,jt]);const el=N=>{const B=N.target.value;r(B),B.trim()&&_.some(nt=>nt.name.toLowerCase()===B.trim().toLowerCase()&&nt.id!==M)?Ot("A key with this name already exists."):Ot(null),!f&&d&&zr.includes(d)&&j(il(B))},Ft=()=>{const N=!v;X(N),N?d===Vl&&j(f?"":il(b)):j(Vl)},Ce=(N,B)=>{if(jt==="line")return;pt.length>0&&It([]);const nt=Ht.map(vt=>[...vt]);nt[N][B]=Mt?{...Mt}:null,ot(nt)},ze=N=>{xt(N),N==="line"?(ot(oi(G,S)),Kt(null),P(!1)):(It([]),Yt(null))},bl=p.useCallback(()=>{const N=[];for(let B=0;B<=G;B++)for(let nt=0;nt<=S;nt++)N.push({x:nt,y:B}),nt<S&&N.push({x:nt+.5,y:B}),B<G&&N.push({x:nt,y:B+.5}),nt<S&&B<G&&N.push({x:nt+.5,y:B+.5});return N},[S,G]),qe=N=>{if(!h.current)return null;const B=h.current.getBoundingClientRect();return{x:(N.clientX-B.left)/He,y:(N.clientY-B.top)/He}},Qe=N=>{const B=bl();let nt=null,vt=j0*j0;for(const At of B){const Qt=(At.x-N.x)**2+(At.y-N.y)**2;Qt<vt&&(vt=Qt,nt=At)}return nt},Be=N=>{if(jt!=="line"||N.button!==0)return;const B=qe(N);if(!B)return;const nt=Qe(B);nt&&(Ht.flat().some(vt=>vt!==null)&&ot(oi(G,S)),Kt(null),P(!1),Yt({start:nt,end:nt}))},xl=N=>{if(jt!=="line"){W(null);return}const B=qe(N);if(!B){W(null);return}if(W(Qe(B)),!Zt)return;const nt=Qe(B)||B;Yt({...Zt,end:nt})},vl=()=>{Zt&&(k&&(Zt.start.x!==k.x||Zt.start.y!==k.y)&&It(N=>[...N,{start:Zt.start,end:k}]),Yt(null)),W(null)},Ie=N=>{if(jt!=="line"||!Zt||N.button!==0)return;const B=qe(N);if(!B){Yt(null);return}const nt=Qe(B);nt&&(Zt.start.x!==nt.x||Zt.start.y!==nt.y)&&It(vt=>[...vt,{start:Zt.start,end:nt}]),Yt(null)},pl=N=>{N.preventDefault();const B=b.trim();if(!B){alert("Key name cannot be empty.");return}if(yt){alert(yt);return}let nt=d;M===Ne?nt=Vl:v?nt=d===null?"":d:nt=Vl;const vt={id:M,name:B,abbreviation:nt,width:S,height:G,backgroundColor:rt,symbolColor:lt,lines:pt.length>0?pt:void 0,cells:pt.length>0?void 0:Ht.map(At=>At.map(Qt=>Qt?{...Qt}:null))};T(vt),x()},le=(N,B,nt)=>{const vt=N==="inc",At=B==="width"?S:G,we=vt?At>=(B==="width"?S0:C0):At<=1;let me={...{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",cursor:we?"not-allowed":"pointer",transition:"background-color 0.15s ease-out, border-color 0.15s ease-out",zIndex:10}},Tl=vt?"+":"-";B==="height"?(me.width=`${S*He}px`,me.height=`${fi}px`,me.left=`${pn}px`,nt==="top"?me.top=`${pn-fi}px`:me.bottom=`${pn-fi}px`):(me.height=`${G*He}px`,me.width=`${fi}px`,me.top=`${pn}px`,nt==="left"?me.left=`${pn-fi}px`:me.right=`${pn-fi}px`);let ue="text-xs font-medium ";return vt?ue+=we?"bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500":"bg-neutral-300 hover:bg-neutral-400 dark:bg-neutral-600 dark:hover:bg-neutral-500 text-neutral-700 dark:text-neutral-200":ue+=we?"border-neutral-300 dark:border-neutral-600 text-neutral-400 dark:text-neutral-500 border-2 border-dotted":"border-neutral-400 hover:border-neutral-500 dark:border-neutral-500 dark:hover:border-neutral-400 text-neutral-600 dark:text-neutral-300 border-2 border-dotted hover:bg-neutral-200/30 dark:hover:bg-neutral-700/30",u.jsx("button",{type:"button",style:me,className:ue,onClick:()=>{B==="width"?z(Ae=>vt?Math.min(S0,Ae+1):Math.max(1,Ae-1)):q(Ae=>vt?Math.min(C0,Ae+1):Math.max(1,Ae-1))},disabled:we,"aria-label":`${vt?"Increase":"Decrease"} ${B}`,children:Tl})};let $e=[...fu.filter(N=>N.id!==Ne).map(N=>({type:"svg",value:N.id,name:N.name,category:"SVG Symbols"})),...Oy.map(N=>({type:"text",value:N.value,name:N.name,category:"Unicode Symbols"}))].filter(N=>{if(!$t)return!0;const B=$t.toLowerCase(),nt=N.name.toLowerCase().includes(B),vt=N.value.toLowerCase().includes(B);return nt||vt}).sort((N,B)=>N.name.localeCompare(B.name));if($t.trim()){const N=$t.trim().charAt(0),B={type:"text",value:N,name:`Use character: "${N}"`,category:"Custom Input"};$e=$e.filter(nt=>!(nt.type==="text"&&nt.value===N)),$e.unshift(B)}let Y;rt===Al?Y=m?Fl:Wl:rt===Pl?Y=m?Nl:gl:Y=rt;const ft=N=>N===Pl?m?Nl:gl:N===Al?m?Fl:Wl:N===Cn?m?fl:tl:N,Q=!v||M===Ne;let Et=b||"Abbr.";M===Ne?Et="N/A":v||(Et="? Abbreviation used in pattern instructions");const gt=({color:N,title:B,onClick:nt})=>u.jsxs("button",{type:"button",onClick:nt,className:"w-full flex items-center justify-start space-x-2 p-1 text-sm hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded transition-colors",title:B,children:[u.jsx("div",{className:"w-5 h-5 rounded border border-neutral-400 dark:border-neutral-500 flex-shrink-0",style:{backgroundColor:N}}),u.jsx("span",{className:"truncate",children:B})]});return u.jsx(Aa,{isOpen:c,onClose:x,title:u.jsx("input",{type:"text",value:b,onChange:el,placeholder:"Key Name",className:"text-xl font-semibold bg-white dark:bg-neutral-700 focus:ring-1 focus:ring-primary rounded px-2 py-1 outline-none w-full text-neutral-800 dark:text-neutral-100 border border-neutral-300 dark:border-neutral-600"}),size:"xl",children:u.jsxs("form",{onSubmit:pl,className:"space-y-3 max-h-[75vh] flex flex-col",children:[yt&&u.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 flex-shrink-0",children:yt}),u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("label",{htmlFor:"keyAbbreviation",className:"block text-xs font-medium text-neutral-600 dark:text-neutral-400 mb-0.5",children:"Abbreviation (for Pattern Instructions)"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",id:"keyAbbreviation",value:d===Vl?"":d||"",onChange:N=>j(N.target.value),placeholder:Et,disabled:Q,maxLength:10,className:"flex-grow px-2 py-1 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700 disabled:bg-neutral-100 dark:disabled:bg-neutral-800 disabled:text-neutral-400 dark:disabled:text-neutral-500"}),M!==Ne&&u.jsxs(Xt,{type:"button",variant:"ghost",size:"sm",onClick:Ft,title:v?"Exclude this key from pattern instructions":"Include this key in pattern instructions",className:"p-1.5",children:[v?u.jsx(Ry,{}):u.jsx(_y,{}),u.jsx("span",{className:"ml-1 text-xs whitespace-nowrap",children:v?"Include: ON":"Include: OFF"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 p-1.5 border rounded-md bg-neutral-100 dark:bg-neutral-800/80 flex-shrink-0 relative",children:[u.jsx(Xt,{type:"button",onClick:()=>ze("line"),variant:jt==="line"?"primary":"ghost",title:"Draw Lines Mode",children:u.jsx(py,{})}),u.jsx(Xt,{type:"button",ref:re,onClick:()=>{ze("cell"),P(N=>!N)},variant:jt==="cell"?"primary":"ghost",title:"Select Symbol/Text Mode",children:u.jsx(p0,{})}),u.jsx("div",{className:"h-6 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),u.jsx(Xt,{type:"button",ref:ut,onClick:()=>st(N=>!N),variant:"ghost",title:"Symbol/Line Color",children:u.jsx(jy,{})}),u.jsx(Xt,{type:"button",ref:Ct,onClick:()=>St(N=>!N),variant:"ghost",title:"Background Color",children:u.jsx(Ny,{})}),u.jsx(Lr,{anchorEl:ut.current,isOpen:Z,onClose:()=>st(!1),children:u.jsxs("div",{className:"space-y-2 w-56",children:[u.jsx("p",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 px-1",children:"Symbol Color"}),u.jsx(E0,{initialColor:ft(lt),onChange:N=>{ct(N)}}),u.jsx(gt,{color:m?fl:tl,title:"Theme Default Symbol",onClick:()=>{ct(Cn),st(!1)}})]})}),u.jsx(Lr,{anchorEl:Ct.current,isOpen:ht,onClose:()=>St(!1),children:u.jsxs("div",{className:"space-y-2 w-56",children:[u.jsx("p",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400 px-1",children:"Background Color"}),u.jsx(E0,{initialColor:ft(rt),onChange:N=>{K(N)}}),u.jsx(gt,{color:m?Nl:gl,title:"Theme Default Background",onClick:()=>{K(Pl),St(!1)}}),u.jsx(gt,{color:m?Fl:Wl,title:"Grid Lines Background",onClick:()=>{K(Al),St(!1)}})]})}),u.jsxs(Lr,{anchorEl:re.current,isOpen:xe&&jt==="cell",onClose:()=>P(!1),className:"w-80 min-h-[200px] max-h-[300px] flex flex-col",children:[u.jsxs("div",{className:"p-1 flex items-center border-b border-neutral-300 dark:border-neutral-600 mb-2",children:[u.jsx(p0,{className:"text-neutral-500 mr-2",size:18}),u.jsx("input",{type:"text",placeholder:"Search symbols or type a character...",value:$t,onChange:N=>kt(N.target.value),className:"w-full bg-transparent text-sm outline-none py-1"}),$t&&u.jsx(Xt,{variant:"ghost",size:"sm",onClick:()=>kt(""),className:"p-1",children:u.jsx(k0,{size:16})})]}),u.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-1",children:u.jsxs("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(32px,1fr))] gap-1",children:[$e.map(N=>{const B={id:`picker-${N.type}-${N.value}-${N.name}`,name:N.name,width:1,height:1,backgroundColor:"transparent",symbolColor:lt,cells:[[{type:N.type,value:N.value}]]};return u.jsx("button",{type:"button",title:N.name,onClick:()=>{Kt({type:N.type,value:N.value}),P(!1)},className:`aspect-square flex items-center justify-center rounded border hover:bg-primary/10 dark:hover:bg-primary-dark/20 transition-colors
                                            ${(Mt==null?void 0:Mt.type)===N.type&&(Mt==null?void 0:Mt.value)===N.value?"border-primary ring-1 ring-primary":"border-neutral-300 dark:border-neutral-600"}`,children:u.jsx(Hr,{keyDef:B,cellSize:26,isDarkMode:m})},`symbol-picker-${N.type}-${N.value}-${N.name}`)}),$e.length===0&&u.jsx("p",{className:"col-span-full text-center text-sm text-neutral-500 p-2",children:"No symbols found."})]})})]})]}),u.jsx("div",{className:"flex-grow flex items-center justify-center p-2 overflow-auto custom-scrollbar min-h-[200px]",children:jt===null?u.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 p-8 border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg",children:[u.jsx("p",{className:"text-lg font-medium",children:"Choose an editing mode"}),u.jsx("p",{className:"text-sm",children:"Select Line Mode or Symbol Mode above to begin editing the key."})]}):u.jsxs("div",{className:"relative",style:{paddingTop:pn,paddingBottom:pn,paddingLeft:pn,paddingRight:pn},children:[le("dec","height","top"),le("inc","height","bottom"),le("dec","width","left"),le("inc","width","right"),u.jsxs("div",{className:"grid border border-neutral-400 dark:border-neutral-500 overflow-hidden relative select-none shadow-md",style:{gridTemplateColumns:`repeat(${S}, ${He}px)`,gridTemplateRows:`repeat(${G}, ${He}px)`,width:S*He,height:G*He,minWidth:He,minHeight:He,backgroundColor:Y,boxSizing:"content-box"},children:[jt==="cell"&&Ht.map((N,B)=>N.map((nt,vt)=>{const At=nt?{id:`cell-preview-${B}-${vt}`,name:"",width:1,height:1,backgroundColor:"transparent",symbolColor:lt,cells:[[nt]]}:null;return u.jsx("div",{onClick:()=>Ce(B,vt),className:"w-full h-full flex items-center justify-center border border-neutral-300/20 dark:border-neutral-600/20",style:{cursor:"pointer",pointerEvents:"auto"},role:"button","aria-label":`Cell row ${B+1} column ${vt+1}.`,children:At&&u.jsx(Hr,{keyDef:At,cellSize:He*.85,isDarkMode:m})},`preview-cell-${B}-${vt}`)})),u.jsxs("svg",{ref:h,width:S*He,height:G*He,viewBox:`0 0 ${S*He} ${G*He}`,className:"absolute inset-0",style:{pointerEvents:jt==="line"?"auto":"none",cursor:jt==="line"?"crosshair":"default"},onMouseDown:Be,onMouseMove:xl,onMouseUp:Ie,onMouseLeave:vl,children:[pt.map((N,B)=>u.jsx("line",{x1:N.start.x*He,y1:N.start.y*He,x2:N.end.x*He,y2:N.end.y*He,stroke:lt===Cn?m?fl:tl:lt,strokeWidth:Math.max(1.5,He*.06),strokeLinecap:"round"},`line-${B}`)),Zt&&u.jsx("line",{x1:Zt.start.x*He,y1:Zt.start.y*He,x2:Zt.end.x*He,y2:Zt.end.y*He,stroke:lt===Cn?m?fl:tl:lt,strokeWidth:Math.max(1.5,He*.06),strokeLinecap:"round",strokeDasharray:"3 2"}),jt==="line"&&bl().map((N,B)=>u.jsx("circle",{cx:N.x*He,cy:N.y*He,r:i1,fill:lt===Cn?m?fl:tl:lt,opacity:k&&k.x===N.x&&k.y===N.y?u1:s1,className:"transition-opacity duration-100"},`snap-${B}`))]})]})]})}),u.jsxs("div",{className:"pt-4 flex justify-end space-x-2 flex-shrink-0",children:[u.jsx(Xt,{type:"button",variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Xt,{type:"submit",variant:"primary",children:f?"Save Changes":"Create Key"})]})]})})},r1=({isOpen:c,onClose:x,onChartGenerated:T})=>{const[f,m]=p.useState(null),[_,M]=p.useState(null),[A,b]=p.useState(3),[r,d]=p.useState(!1),[j,v]=p.useState(null),X=G=>{var rt;const q=(rt=G.target.files)==null?void 0:rt[0];if(q){m(q);const K=new FileReader;K.onloadend=()=>{M(K.result)},K.readAsDataURL(q),v(null)}else m(null),M(null)},S=async()=>{if(!f||!_){alert("Please select an image file.");return}if(d(!0),v(null),!_.split(",")[1]){alert("Could not read image data."),d(!1);return}},z=()=>{m(null),M(null),v(null),d(!1),x()};return u.jsxs(Aa,{isOpen:c,onClose:z,title:"Image to Chart Converter",size:"lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"imageFile",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Upload Image"}),u.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-neutral-300 dark:border-neutral-600 border-dashed rounded-md",children:u.jsxs("div",{className:"space-y-1 text-center",children:[u.jsx(fy,{className:"mx-auto h-12 w-12 text-neutral-400 dark:text-neutral-500"}),u.jsxs("div",{className:"flex text-sm text-neutral-600 dark:text-neutral-400",children:[u.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white dark:bg-neutral-700 rounded-md font-medium text-primary hover:text-primary-dark focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 dark:focus-within:ring-offset-neutral-800 focus-within:ring-primary",children:[u.jsx("span",{children:"Upload a file"}),u.jsx("input",{id:"image-upload",name:"image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/gif",onChange:X})]}),u.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"PNG, JPG, GIF up to 10MB"})]})})]}),_&&u.jsx("div",{className:"text-center",children:u.jsx("img",{src:_,alt:"Preview",className:"max-h-60 max-w-full mx-auto border border-neutral-300 dark:border-neutral-600 rounded"})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"numColors",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Number of Colors"}),u.jsx("select",{id:"numColors",value:A,onChange:G=>b(parseInt(G.target.value)),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[2,3,4,5,6,8,10,12,16].map(G=>u.jsxs("option",{value:G,children:[G," Colors"]},G))})]}),j&&u.jsxs("div",{className:"mt-4 p-3 bg-neutral-100 dark:bg-neutral-700 rounded border border-neutral-200 dark:border-neutral-600",children:[u.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Analysis Result:"}),u.jsx("p",{className:"text-xs whitespace-pre-wrap",children:j})]}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 italic",children:"Image analysis uses Gemini AI. Results are conceptual and may require manual chart creation."})]}),u.jsx("div",{className:"pt-5",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Xt,{variant:"ghost",onClick:z,children:"Cancel"}),u.jsx(Xt,{onClick:S,disabled:!f||r,isLoading:r,children:r?"Analyzing...":"Convert to Chart (Analyze)"})]})})]})},ws=500,o1=({isOpen:c,onClose:x,onCreateChart:T,isDarkMode:f})=>{const[m,_]=p.useState(null),M=p.useRef(null),A=p.useRef(null),b=p.useRef(null),r=p.useRef(null),[d,j]=p.useState(1),[v,X]=p.useState({x:50,y:50,width:100,height:100}),[S,z]=p.useState(!1),[G,q]=p.useState(null),rt=p.useRef({x:0,y:0}),K=p.useRef({...v}),[lt,ct]=p.useState({cols:20,rows:20,numColors:6,poolingAlgorithm:"mean"}),[Ht,ot]=p.useState(!1),pt=p.useRef(!1),[It,jt]=p.useState(null),[xt,Mt]=p.useState(null),[Kt,Zt]=p.useState(null),[Yt,k]=p.useState("N/A"),[W,yt]=p.useState(!1),[Ot,h]=p.useState([]),[Z,st]=p.useState(new Set),[ut,ht]=p.useState({}),St=p.useRef(null),Ct=p.useCallback(()=>{if(_(null),M.current){const Y=M.current.getContext("2d");Y==null||Y.clearRect(0,0,M.current.width,M.current.height)}if(A.current){const Y=A.current.getContext("2d");Y==null||Y.clearRect(0,0,A.current.width,A.current.height)}j(1),X({x:50,y:50,width:100,height:100}),z(!1),q(null),ct({cols:20,rows:20,numColors:8,poolingAlgorithm:"mean"}),ot(!1),pt.current=!1,jt(null),Mt(null),Zt(null),h([]),st(new Set),ht({})},[]),xe=p.useCallback(()=>{Ct(),x()},[Ct,x]),P=Y=>{var Q;const ft=(Q=Y.target.files)==null?void 0:Q[0];if(ft){Ct();const Et=new FileReader;Et.onload=gt=>{var B;const N=new Image;N.onload=()=>{var we;_(N);const nt=(we=A.current)==null?void 0:we.getContext("2d");A.current&&nt&&(A.current.width=N.width,A.current.height=N.height,nt.drawImage(N,0,0));const vt=Math.min(1,ws/N.width);j(vt);const At=N.width*vt,Qt=N.height*vt;X({x:Math.max(0,At*.15),y:Math.max(0,Qt*.15),width:Math.max(20,At*.7),height:Math.max(20,Qt*.7)})},N.src=(B=gt.target)==null?void 0:B.result},Et.readAsDataURL(ft)}};p.useEffect(()=>{if(c&&m&&M.current&&b.current){let Y=ws;b.current.parentElement&&(Y=b.current.parentElement.clientWidth);const ft=Math.min(ws,Y>0?Y:ws),Q=Math.min(1,ft/m.width);if(Math.abs(Q-d)>.001){j(Q);return}const Et=m.width*d,gt=m.height*d;M.current.width=Et,M.current.height=gt;const N=M.current.getContext("2d");N&&(N.clearRect(0,0,Et,gt),N.drawImage(m,0,0,Et,gt)),b.current.style.width=`${Et}px`,b.current.style.height=`${gt}px`}},[c,m,d,f]);const re=Y=>{Y.target===r.current&&(z(!0),rt.current={x:Y.clientX-r.current.offsetLeft,y:Y.clientY-r.current.offsetTop},r.current.style.cursor="grabbing")},$t=(Y,ft)=>{Y.stopPropagation(),q(ft),rt.current={x:Y.clientX,y:Y.clientY},K.current={...v}},kt=p.useCallback(Y=>{if(!(!m||pt.current)){if(S&&r.current&&M.current){let ft=Y.clientX-rt.current.x,Q=Y.clientY-rt.current.y;ft=Math.max(0,Math.min(ft,M.current.width-v.width)),Q=Math.max(0,Math.min(Q,M.current.height-v.height)),X(Et=>({...Et,x:ft,y:Q}))}else if(G&&M.current){const ft=Y.clientX-rt.current.x,Q=Y.clientY-rt.current.y;let{x:Et,y:gt,width:N,height:B}=K.current;G.includes("w")&&(Et+=ft,N-=ft),G.includes("e")&&(N+=ft),G.includes("n")&&(gt+=Q,B-=Q),G.includes("s")&&(B+=Q);const nt=10;N<nt&&(G.includes("w")&&(Et=K.current.x+K.current.width-nt),N=nt),B<nt&&(G.includes("n")&&(gt=K.current.y+K.current.height-nt),B=nt),Et=Math.max(0,Et),gt=Math.max(0,gt),N=Math.min(N,M.current.width-Et),B=Math.min(B,M.current.height-gt),N>0&&B>0&&X({x:Et,y:gt,width:N,height:B})}}},[S,G,m,v.width,v.height]),il=p.useCallback(()=>{z(!1),q(null),r.current&&(r.current.style.cursor="move")},[]);p.useEffect(()=>(document.addEventListener("mousemove",kt),document.addEventListener("mouseup",il),()=>{document.removeEventListener("mousemove",kt),document.removeEventListener("mouseup",il)}),[kt,il]);const ve=Y=>{const ft=Y.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return ft?{r:parseInt(ft[1]),g:parseInt(ft[2]),b:parseInt(ft[3])}:null},el=(Y,ft)=>{const Q=ve(Y),Et=ve(ft);return!Q||!Et?1/0:Math.sqrt(Math.pow(Q.r-Et.r,2)+Math.pow(Q.g-Et.g,2)+Math.pow(Q.b-Et.b,2))},Ft=(Y,ft)=>{const Q=ve(Y),Et=ve(ft);if(!Q)return ft;if(!Et)return Y;const gt=Math.round((Q.r+Et.r)/2),N=Math.round((Q.g+Et.g)/2),B=Math.round((Q.b+Et.b)/2);return`rgb(${gt}, ${N}, ${B})`},Ce=Y=>{const ft=ve(Y);return ft?"#"+((1<<24)+(ft.r<<16)+(ft.g<<8)+ft.b).toString(16).slice(1).toUpperCase():"#000000"},ze=Y=>{let ft=0,Q=0,Et=0;return Y.length===4?(ft=parseInt(Y[1]+Y[1],16),Q=parseInt(Y[2]+Y[2],16),Et=parseInt(Y[3]+Y[3],16)):Y.length===7&&(ft=parseInt(Y[1]+Y[2],16),Q=parseInt(Y[3]+Y[4],16),Et=parseInt(Y[5]+Y[6],16)),`rgb(${ft}, ${Q}, ${Et})`},bl=(Y,ft)=>{if(ft<=1)return Math.round(Y);const Q=255/(ft-1);return Math.round(Math.round(Y/Q)*Q)},qe=p.useCallback((Y,ft)=>{const{cols:Q,rows:Et}=lt,gt=v.x/d,N=v.y/d,B=v.width/d,nt=v.height/d;if(B<1||nt<1||Q<1||Et<1||!A.current)return{pixelatedData:[],uniqueColors:new Set};const vt=A.current.getContext("2d");if(!vt)return{pixelatedData:[],uniqueColors:new Set};const At=B/Q,Qt=nt/Et,we=[],Le=new Set;for(let me=0;me<Et;me++)for(let Tl=0;Tl<Q;Tl++){const ue=gt+Tl*At,Ae=N+me*Qt,Ve=Math.max(0,Math.floor(ue)),Ye=Math.max(0,Math.floor(Ae));let dl=Math.floor(At),Ll=Math.floor(Qt);if(dl=Math.max(1,Math.min(dl,A.current.width-Ve)),Ll=Math.max(1,Math.min(Ll,A.current.height-Ye)),dl<=0||Ll<=0){we.push("rgb(128, 128, 128)"),Le.add("rgb(128, 128, 128)");continue}const Pt=vt.getImageData(Ve,Ye,dl,Ll).data;let fe="rgb(128,128,128)";if(Pt.length>0){if(ft==="mean"){let ye=0,ke=0,cl=0;const Rl=Pt.length/4;for(let et=0;et<Pt.length;et+=4)ye+=Pt[et],ke+=Pt[et+1],cl+=Pt[et+2];ye=Math.round(ye/Rl),ke=Math.round(ke/Rl),cl=Math.round(cl/Rl),fe=`rgb(${bl(ye,Y)}, ${bl(ke,Y)}, ${bl(cl,Y)})`}else if(ft==="mode"){const ye=new Map;for(let ke=0;ke<Pt.length;ke+=4){const cl=`rgb(${bl(Pt[ke],Y)}, ${bl(Pt[ke+1],Y)}, ${bl(Pt[ke+2],Y)})`;ye.set(cl,(ye.get(cl)||0)+1)}if(ye.size>0){let ke=0;for(const[cl,Rl]of ye)Rl>ke&&(ke=Rl,fe=cl)}}}we.push(fe),Le.add(fe)}return{pixelatedData:we,uniqueColors:Le}},[lt.cols,lt.rows,v.x,v.y,v.width,v.height,d]),Qe=p.useCallback(()=>{if(!m||v.width<=0||v.height<=0||!A.current){jt(null);return}const Y=A.current.getContext("2d");if(!Y){jt(null);return}const ft=Math.floor(v.x/d),Q=Math.floor(v.y/d),Et=Math.max(1,Math.floor(v.width/d)),gt=Math.max(1,Math.floor(v.height/d));if(ft+Et>A.current.width||Q+gt>A.current.height){jt(null);return}const N=Y.getImageData(ft,Q,Et,gt).data,B=new Set;for(let nt=0;nt<N.length;nt+=4)B.add(`rgb(${N[nt]},${N[nt+1]},${N[nt+2]})`);jt(B.size)},[m,v.x,v.y,v.width,v.height,d]),Be=p.useCallback(async()=>{if(!m||v.width<=0||v.height<=0||pt.current)return;pt.current=!0,ot(!0),Qe(),await new Promise(ue=>setTimeout(ue,10));const{numColors:Y,poolingAlgorithm:ft}=lt;let Q=0,Et=[],gt=new Set,N=0,B=0,nt=1/0;const vt=16;for(let ue=2;ue<=vt;ue++){const{pixelatedData:Ae,uniqueColors:Ve}=qe(ue,ft),Ye=Ve.size;Ye>=Y&&(Q===0||Ye<gt.size)&&(Q=ue,Et=Ae,gt=Ve);const dl=Math.abs(Ye-Y);if((dl<nt||dl===nt&&Ye>B)&&(nt=dl,N=ue,B=Ye,Q===0&&(Et=Ae,gt=Ve)),ft==="mode"&&Ye<=Y&&Ye<5&&ue>5)break}if(Q===0){Q=N||2;const ue=qe(Q,ft);Et=ue.pixelatedData,gt=ue.uniqueColors}k(String(Q));let At=[...Et],Qt=Array.from(gt),we=!1;const Le={};if(Qt.forEach(ue=>Le[ue]=ue),Qt.length>Y&&Y>0)for(we=!0;Qt.length>Y&&!(Qt.length<=1);){let ue=1/0,Ae=-1,Ve=-1;for(let Pt=0;Pt<Qt.length;Pt++)for(let fe=Pt+1;fe<Qt.length;fe++){const ye=el(Qt[Pt],Qt[fe]);ye<ue&&(ue=ye,Ae=Pt,Ve=fe)}if(Ae===-1||Ve===-1)break;const Ye=Qt[Ae],dl=Qt[Ve],Ll=Ft(Ye,dl);Qt.splice(Math.max(Ae,Ve),1),Qt.splice(Math.min(Ae,Ve),1),Qt.includes(Ll)||Qt.push(Ll);for(const Pt in Le)(Le[Pt]===Ye||Le[Pt]===dl)&&(Le[Pt]=Ll)}yt(we);const me=At.map(ue=>Le[ue]||ue);h(me);const Tl=new Set(Qt);if(st(Tl),me.length>0){Mt(me),Zt(Array.from(Tl));const ue={};Tl.forEach(Ae=>ue[Ae]=Ce(Ae)),ht(ue)}else Mt(null),Zt(null);ot(!1),pt.current=!1},[m,v.width,v.height,v.x,v.y,lt.numColors,lt.poolingAlgorithm,lt.cols,lt.rows,qe,Qe]),xl=p.useCallback(()=>{St.current&&clearTimeout(St.current),St.current=window.setTimeout(Be,400)},[Be]);p.useEffect(()=>{m&&r.current?(r.current.style.left=`${v.x}px`,r.current.style.top=`${v.y}px`,r.current.style.width=`${v.width}px`,r.current.style.height=`${v.height}px`,r.current.style.display="block",c&&xl()):r.current&&(r.current.style.display="none")},[v.x,v.y,v.width,v.height,m,c,xl]),p.useEffect(()=>{c&&m&&xl()},[lt.cols,lt.rows,lt.numColors,lt.poolingAlgorithm,c,m,xl]);const vl=(Y,ft)=>{ht(Q=>({...Q,[Y]:ft}))},Ie=()=>{if(Ot.length===0)return;const Y={};let ft=!1;if(Z.forEach(N=>{const B=ut[N],nt=ze(B);N!==nt&&(Y[N]=nt,ft=!0)}),!ft)return;const Q=Ot.map(N=>Y[N]||N);Mt(Q);const Et=new Set;Q.forEach(N=>Et.add(N)),Zt(Array.from(Et)),h(Q),st(Et);const gt={};Et.forEach(N=>gt[N]=Ce(N)),ht(gt),yt(!0),k("N/A (Remapped)")},pl=()=>{pt.current||!m||Be()},le=()=>{if(!xt||!Kt){alert("No processed image data to create chart from.");return}const Y={gridData:{rows:Math.min(lt.rows,ru),cols:Math.min(lt.cols,ou),colors:xt.map(ft=>Ce(ft))},palette:Kt.map(ft=>Ce(ft))};T(Y),xe()},Gt=Math.min(300,typeof window<"u"?window.innerWidth*.4:300),$e=lt.cols/lt.rows||1;return u.jsxs(Aa,{isOpen:c,onClose:xe,title:"Image to Chart Processor",size:"full",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"md:w-1/2 lg:w-1/3 flex flex-col gap-3 pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"image-loader-modal",className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"1. Import Image"}),u.jsx("input",{type:"file",id:"image-loader-modal",accept:"image/*",onChange:P,className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-light file:text-primary-dark hover:file:bg-primary/80"})]}),m&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:b,className:"relative border border-neutral-300 dark:border-neutral-600 max-w-full mx-auto bg-neutral-200 dark:bg-neutral-700 self-start",style:{display:"inline-block"},children:[u.jsx("canvas",{ref:M,className:"block cursor-crosshair max-w-full"}),u.jsx("div",{ref:r,onMouseDown:re,className:"absolute border-2 border-dashed border-red-500 box-border cursor-move",style:{display:"none"},children:["nw","n","ne","w","e","sw","s","se"].map(Y=>u.jsx("div",{onMouseDown:ft=>$t(ft,Y),className:`absolute w-2.5 h-2.5 bg-blue-500 border border-white box-border
                            ${Y.includes("n")?"top-[-5px]":""} ${Y.includes("s")?"bottom-[-5px]":""} ${Y.includes("w")?"left-[-5px]":""} ${Y.includes("e")?"right-[-5px]":""}
                            ${Y==="n"||Y==="s"?"left-1/2 -translate-x-1/2 cursor-ns-resize":""}
                            ${Y==="w"||Y==="e"?"top-1/2 -translate-y-1/2 cursor-ew-resize":""}
                            ${Y==="nw"?"cursor-nwse-resize":""} ${Y==="ne"?"cursor-nesw-resize":""}
                            ${Y==="sw"?"cursor-nesw-resize":""} ${Y==="se"?"cursor-nwse-resize":""}
                        `},Y))})]}),u.jsxs("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-700 rounded text-xs",children:["Max original colors in selection: ",It!==null?It.toLocaleString():"N/A"]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"2. Configure Pixelation:"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"grid-cols-modal",children:"Grid Cols:"}),u.jsx("input",{type:"number",id:"grid-cols-modal",value:lt.cols,onChange:Y=>ct(ft=>({...ft,cols:Math.min(ou,Math.max(1,parseInt(Y.target.value)||1))})),min:"1",max:ou,className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"grid-rows-modal",children:"Grid Rows:"}),u.jsx("input",{type:"number",id:"grid-rows-modal",value:lt.rows,onChange:Y=>ct(ft=>({...ft,rows:Math.min(ru,Math.max(1,parseInt(Y.target.value)||1))})),min:"1",max:ru,className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"num-colors-modal",children:"Target Colors:"}),u.jsx("input",{type:"number",id:"num-colors-modal",value:lt.numColors,onChange:Y=>ct(ft=>({...ft,numColors:parseInt(Y.target.value)||1})),min:"1",max:"256",className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pooling-algo-modal",children:"Color Averaging:"}),u.jsxs("select",{id:"pooling-algo-modal",value:lt.poolingAlgorithm,onChange:Y=>ct(ft=>({...ft,poolingAlgorithm:Y.target.value})),className:"w-full mt-1 p-1 border rounded dark:bg-neutral-700 dark:border-neutral-600",children:[u.jsx("option",{value:"mean",children:"Mean"}),u.jsx("option",{value:"mode",children:"Mode (Dominant)"})]})]})]})]})]})]}),u.jsx("div",{className:"md:w-1/2 lg:w-2/3 flex flex-col gap-3 pr-2",children:xt&&Kt&&u.jsx(u.Fragment,{children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-1",children:"3. Pixelated Output & Palette:"}),u.jsx("div",{className:"border border-neutral-300 dark:border-neutral-600 bg-neutral-200 dark:bg-neutral-700 p-1 mx-auto mb-2",style:{width:"fit-content",maxWidth:"100%"},children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${lt.cols}, 1fr)`,gridTemplateRows:`repeat(${lt.rows}, 1fr)`,width:Gt,height:Math.max(10,Gt/$e),imageRendering:"pixelated",border:"1px solid #333"},children:xt.map((Y,ft)=>u.jsx("div",{className:"w-full h-full",style:{backgroundColor:Y}},`gridcell-${ft}`))})}),u.jsxs("div",{className:"mt-1 p-2 bg-neutral-100 dark:bg-neutral-700 rounded text-xs",children:[u.jsxs("p",{children:["Algorithm: ",lt.poolingAlgorithm,". Target Colors: ",lt.numColors,". Achieved: ",u.jsx("strong",{children:Kt.length})," colors."]}),u.jsxs("p",{children:["(Initial Quantization L-value: ",Yt,") ",W?"(Colors merged / remapped)":"(Original quantization)"]}),u.jsx("div",{className:"mt-1 max-h-32 overflow-y-auto custom-scrollbar border p-1.5 rounded dark:border-neutral-600 space-y-1",children:Kt.sort((Y,ft)=>el("rgb(0,0,0)",Y)-el("rgb(0,0,0)",ft)).map(Y=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("div",{className:"w-5 h-5 border border-black flex-shrink-0",style:{backgroundColor:Y}}),u.jsx("span",{className:"truncate text-neutral-600 dark:text-neutral-400 w-28",title:Y,children:Ce(Y)}),u.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:""}),u.jsx("input",{type:"color",value:ut[Y]||Ce(Y),onChange:ft=>vl(Y,ft.target.value),className:"w-8 h-6 p-0.5 border rounded dark:bg-neutral-700 dark:border-neutral-600 cursor-pointer"})]},`palette-${Y}`))}),u.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[u.jsx(Xt,{onClick:Ie,className:"text-sm",size:"sm",children:"Apply Color Remap"}),u.jsx(Xt,{onClick:pl,variant:"outline",className:"text-sm",size:"sm",disabled:Ht||!m,children:"Reset Color Map"})]})]})]})})})]}),u.jsx("canvas",{ref:A,style:{display:"none"}}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-neutral-200 dark:border-neutral-700 flex justify-end space-x-2",children:[u.jsx(Xt,{variant:"ghost",onClick:xe,children:"Cancel"}),u.jsx(Xt,{onClick:le,disabled:!xt||!Kt||Ht,variant:"primary",children:"Create Chart from Image"})]})]})},kr=(c,x)=>{var T,f;if(!c||c.abbreviation===Vl)return"";if(typeof c.abbreviation=="string"&&c.abbreviation.trim()!=="")return c.abbreviation.trim();if(c.lines&&c.lines.length>0)return"Draw";if(c.cells&&c.cells.length>0&&c.cells[0].length>0){const m=c.cells[0][0];if(m){if(m.type==="svg"){const _=x.find(M=>M.id===m.value);return(_==null?void 0:_.abbreviation)||((f=(T=_==null?void 0:_.name)==null?void 0:T.charAt(0))==null?void 0:f.toUpperCase())||c.name.substring(0,1).toUpperCase()||"?"}else if(m.type==="text")return m.value.charAt(0)||c.name.substring(0,1).toUpperCase()||"?"}}return c.name.substring(0,1).toUpperCase()||"?"},f1=(c,x,T)=>{var M,A,b,r;let f=`Chart: ${c.name}
`;f+=`Size: ${c.rows} rows x ${c.cols} columns
`,f+=`Orientation: ${c.orientation}

`;let m=null;for(let d=0;d<c.rows;d++){const j=c.orientation==="bottom-up"?c.rows-d:d+1;let v=`Row ${j}: `;m=null;let X=0;for(let S=0;S<c.cols;S++){let z=null;for(let G=c.layers.length-1;G>=0;G--){const q=c.layers[G];if(q.isVisible){const rt=(A=(M=q.grid[d])==null?void 0:M[S])==null?void 0:A.keyId;if(rt!==null){z=rt;break}}}if(z===null&&(z=Ne),z===m)X++;else{if(m!==null&&X>0){const q=T.find(rt=>rt.id===m);if(q&&q.abbreviation!==Vl&&q.id!==Ne){const rt=kr(q,x);rt&&(v+=`${X>1?X:""}${rt}, `)}}m=z;const G=T.find(q=>q.id===z);X=G&&(G.abbreviation===Vl||G.id===Ne)?0:1}}if(m!==null&&X>0){const S=T.find(z=>z.id===m);if(S&&S.abbreviation!==Vl&&S.id!==Ne){const z=kr(S,x);z&&(v+=`${X>1?X:""}${z}`)}}v.endsWith(", ")&&(v=v.slice(0,-2)),v.trim()!==`Row ${j}:`&&(v+="."),v+=`
`,f+=v}f+=`
Legend:
`;const _=new Set;for(let d=0;d<c.rows;d++)for(let j=0;j<c.cols;j++){let v=null;for(let X=c.layers.length-1;X>=0;X--){const S=c.layers[X];if(S.isVisible){const z=(r=(b=S.grid[d])==null?void 0:b[j])==null?void 0:r.keyId;if(z!==null){v=z;break}}}if(v){const X=T.find(S=>S.id===v);X&&X.id!==Ne&&X.abbreviation!==Vl&&(X.cells&&X.cells.flat().some(S=>S!==null)||X.lines&&X.lines.length>0)&&_.add(v)}}return T.filter(d=>_.has(d.id)).forEach(d=>{let j=kr(d,x);if(j){f+=`${j} = ${d.name}`;let v="";if(d.cells&&d.cells.length>0&&d.cells[0].length>0){const X=d.cells[0][0];if((X==null?void 0:X.type)==="svg"){const S=fu.find(z=>z.id===X.value);S!=null&&S.description&&(v=S.description)}else(X==null?void 0:X.type)==="text"&&(v=`Displays as '${X.value}'`)}else d.lines&&d.lines.length>0&&(v="Custom drawing");(d.width>1||d.height>1)&&(v+=(v?"; ":"")+`(${d.width}x${d.height})`),v&&(f+=` (${v})`),f+=`
`}}),f},d1=({isOpen:c,onClose:x,chartState:T,stitchSymbols:f,keyPalette:m})=>{const[_,M]=p.useState("");p.useMemo(()=>{c&&T&&m&&M(f1(T,f,m))},[c,T,f,m]);const A=()=>{navigator.clipboard.writeText(_).then(()=>alert("Instructions copied to clipboard!")).catch(b=>console.error("Failed to copy instructions: ",b))};return u.jsxs(Aa,{isOpen:c,onClose:x,title:"Generated Knitting Instructions",size:"xl",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("textarea",{readOnly:!0,value:_,className:"w-full h-96 p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-50 dark:bg-neutral-700 font-mono text-xs whitespace-pre","aria-label":"Generated knitting instructions"}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 italic",children:"This is a basic instruction generator. Complex patterns or colorwork may need manual refinement. Keys set to be excluded from instructions are omitted."})]}),u.jsx("div",{className:"pt-5",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Xt,{variant:"ghost",onClick:x,children:"Close"}),u.jsx(Xt,{onClick:A,variant:"primary",children:"Copy to Clipboard"})]})})]})},h1=({isOpen:c,onClose:x,currentSettings:T,onSave:f})=>{const[m,_]=p.useState(T.rows),[M,A]=p.useState(T.cols),[b,r]=p.useState(T.orientation),[d,j]=p.useState(T.displaySettings?{...T.displaySettings}:{...hi.displaySettings}),v=p.useRef(c);p.useEffect(()=>{if(c&&!v.current){_(T.rows),A(T.cols),r(T.orientation);const z=T.displaySettings?{...T.displaySettings}:{...hi.displaySettings};j(z)}v.current=c},[c,T]);const X=z=>{z.preventDefault(),f({rows:m,cols:M,orientation:b,displaySettings:d}),x()},S=(z,G)=>{j(q=>({...q,[z]:G}))};return u.jsx(Aa,{isOpen:c,onClose:x,title:"Chart Settings",size:"lg",children:u.jsxs("form",{onSubmit:X,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartRows",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Rows"}),u.jsx("input",{type:"number",id:"chartRows",value:m,onChange:z=>_(Math.min(ru,Math.max(1,parseInt(z.target.value)||1))),min:"1",max:ru,className:"mt-1 block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartCols",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Columns"}),u.jsx("input",{type:"number",id:"chartCols",value:M,onChange:z=>A(Math.min(ou,Math.max(1,parseInt(z.target.value)||1))),min:"1",max:ou,className:"mt-1 block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm bg-white dark:bg-neutral-700"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chartOrientation",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Orientation"}),u.jsxs("select",{id:"chartOrientation",value:b,onChange:z=>r(z.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"bottom-up",children:"Bottom-Up"}),u.jsx("option",{value:"top-down",children:"Top-Down"}),u.jsx("option",{value:"left-right",children:"Left-to-Right (Flat)"}),u.jsx("option",{value:"in-the-round",children:"In The Round"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-neutral-300 dark:border-neutral-600",children:[u.jsx("h4",{className:"text-md font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Row/Column Counters"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"rowCountVisibility",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Row Counters"}),u.jsxs("select",{id:"rowCountVisibility",value:d.rowCountVisibility,onChange:z=>S("rowCountVisibility",z.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"none",children:"None"}),u.jsx("option",{value:"left",children:"Left Side"}),u.jsx("option",{value:"right",children:"Right Side"}),u.jsx("option",{value:"both",children:"Both Sides"}),u.jsx("option",{value:"alternating-left",children:"Alternating (Start Left)"}),u.jsx("option",{value:"alternating-right",children:"Alternating (Start Right)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"colCountVisibility",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Column Counters"}),u.jsxs("select",{id:"colCountVisibility",value:d.colCountVisibility,onChange:z=>S("colCountVisibility",z.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md bg-white dark:bg-neutral-700",children:[u.jsx("option",{value:"none",children:"None"}),u.jsx("option",{value:"top",children:"Top Side"}),u.jsx("option",{value:"bottom",children:"Bottom Side"}),u.jsx("option",{value:"both",children:"Both Sides"})]})]})]})]}),u.jsxs("div",{className:"pt-4 flex justify-end space-x-2",children:[u.jsx(Xt,{type:"button",variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Xt,{type:"submit",variant:"primary",children:"Save Settings"})]})]})})},Y0=Na.forwardRef(({activeTool:c,onToolSelect:x,onCopySelection:T,onCutSelection:f,onPasteFromClipboard:m,canCopy:_,canCut:M,canPaste:A},b)=>{const r=[{tool:Ze.Pen,label:"Apply Key / Eraser",icon:u.jsx(ey,{}),hotkeyDescription:"Use with selected key (Empty key for eraser)",hotkeyDisplay:"A"}],d=[{tool:Ze.Select,label:"Select Area",icon:u.jsx(ly,{}),hotkeyDescription:"Drag to select",hotkeyDisplay:"S"},{label:"Copy",icon:u.jsx(My,{}),action:T,disabled:!_,hotkeyDescription:"Ctrl+C"},{label:"Cut",icon:u.jsx(Ty,{}),action:f,disabled:!M,hotkeyDescription:"Ctrl+X"},{label:"Paste",icon:u.jsx(Ey,{}),action:m,disabled:!A,hotkeyDescription:"Ctrl+V"}],j=[{tool:Ze.Move,label:"Pan View",icon:u.jsx(xy,{}),hotkeyDescription:"Click & drag canvas / Middle mouse button",hotkeyDisplay:"ESC"}],v=(X,S)=>u.jsx("div",{className:"flex items-center space-x-0.5",role:"group","aria-label":S,children:X.map(({tool:z,label:G,icon:q,hotkeyDescription:rt,hotkeyDisplay:K,action:lt,disabled:ct})=>u.jsxs(Xt,{variant:z&&c===z?"primary":"ghost",size:"sm",onClick:()=>{z?x(z):lt&&lt()},title:rt?`${G} (${rt})`:G,className:`p-2 relative ${z&&c===z?"ring-2 ring-accent dark:ring-accent":""}`,"aria-label":G,"aria-pressed":z?c===z:void 0,disabled:ct,children:[q,K&&u.jsx("span",{className:"absolute -bottom-1 -right-0.5 text-[9px] bg-neutral-400 dark:bg-neutral-600 text-neutral-50 dark:text-neutral-200 px-1 py-0.5 rounded-sm leading-none shadow","aria-hidden":"true",children:K})]},z||G))});return u.jsx("div",{ref:b,className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-20 print:hidden",children:u.jsx("div",{className:"flex flex-col items-center space-y-1",children:u.jsxs("div",{className:"flex items-center space-x-1 bg-neutral-100 dark:bg-neutral-800 p-1.5 rounded-lg shadow-xl border border-neutral-300 dark:border-neutral-700",children:[v(r,"Main Tools"),u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),v(d,"Select and Clipboard Tools"),u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 mx-1"}),v(j,"Utility Tools")]})})})});Y0.displayName="FloatingToolPalette";const m1=({keyDef:c,isActive:x,onClick:T,onContextMenu:f,allStitchSymbols:m,shortcutNumber:_,isDarkMode:M})=>{const d=()=>{if(c.width===1&&c.height===1)return null;const S=[],z=32/c.width,G=32/c.height;for(let q=0;q<c.height;q++)for(let rt=0;rt<c.width;rt++){let K;c.backgroundColor===Al?K=M?Fl:Wl:c.backgroundColor===Pl?K=M?Nl:gl:K=c.backgroundColor,S.push(u.jsx("div",{style:{position:"absolute",width:`${z-.5}px`,height:`${G-.5}px`,left:`${rt*z}px`,top:`${q*G}px`,backgroundColor:K}},`preview-cell-${q}-${rt}`))}return u.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{padding:"2px"},children:u.jsx("div",{className:"relative w-full h-full",children:S})})};let j="border-2 ";x?j+="border-primary dark:border-primary-light ring-2 ring-primary":j+="border-neutral-300 dark:border-neutral-600 hover:border-primary/70";const v=32/Math.max(c.width,c.height,1);let X;return c.width===1&&c.height===1?c.backgroundColor===Al?X=M?Fl:Wl:c.backgroundColor===Pl?X=M?Nl:gl:X=c.backgroundColor:X="transparent",u.jsx("div",{className:"relative group flex-shrink-0",children:u.jsxs("button",{title:`${c.name} (${c.width}x${c.height})${x?" (Active)":""}${_?` [${_}]`:""}`,onClick:T,onContextMenu:S=>f(S,c),className:`p-0 rounded flex items-center justify-center transition-colors relative overflow-hidden
                    ${j}`,style:{width:"36px",height:"36px",backgroundColor:X},"aria-pressed":x,children:[(c.width>1||c.height>1)&&d(),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{pointerEvents:"none"},children:u.jsx(Hr,{keyDef:c,allStitchSymbols:m,cellSize:v,isDarkMode:M})}),_&&u.jsx("span",{className:"absolute top-0.5 right-0.5 text-[10px] font-bold px-1 bg-neutral-300/80 dark:bg-neutral-600/80 text-neutral-700 dark:text-neutral-200 rounded-sm leading-none z-10",children:_})]})})},y1=({keyPalette:c,activeKeyId:x,onKeySelect:T,onAddKey:f,onEditKey:m,onDeleteKey:_,onDuplicateKey:M,allStitchSymbols:A,isDarkMode:b,showKeyUsageTally:r,keyUsageData:d})=>{const[j,v]=p.useState(null),X=(q,rt)=>{q.preventDefault(),v(null);const K=[{label:"Edit Key",action:()=>m(rt)},{label:"Duplicate Key",action:()=>M(rt.id)}];rt.id!==Ne&&c.length>1&&(K.push({isSeparator:!0}),K.push({label:"Delete Key",action:()=>_(rt.id),disabled:c.length<=1})),K.length>0&&v({visible:!0,x:q.clientX,y:q.clientY,keyDef:rt,items:K})},S=()=>v(null);let z=0;const G=c.map(q=>{let rt;z<5&&(z++,rt=z);const K=d.find(lt=>lt.keyDef.id===q.id);return{...q,shortcutNumber:rt,tallyCount:K==null?void 0:K.count}});return u.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700 p-1.5 flex items-end space-x-1.5 print:hidden overflow-x-auto overflow-y-hidden custom-scrollbar flex-shrink-0",children:[G.map(q=>u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",title:r&&q.tallyCount?`${q.name} - Used: ${q.tallyCount}`:q.name,children:[u.jsx(m1,{keyDef:q,isActive:x===q.id,onClick:()=>T(q.id),onContextMenu:X,allStitchSymbols:A,shortcutNumber:q.shortcutNumber,isDarkMode:b}),r&&q.tallyCount&&q.tallyCount>0?u.jsx("span",{className:"text-[10px] mt-1 font-medium text-neutral-600 dark:text-neutral-400 text-center leading-none","aria-hidden":"true",children:q.tallyCount>999?"999+":q.tallyCount}):u.jsx("span",{className:"text-[10px] mt-1 invisible leading-none","aria-hidden":"true",children:"-"})]},`key-item-${q.id}`)),u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[u.jsx("div",{className:"h-8 border-l border-neutral-300 dark:border-neutral-600 ml-2 mr-1 flex-shrink-0 self-center"}),u.jsx("span",{className:"text-[10px] mt-1 invisible mb-0.5 leading-none","aria-hidden":"true",children:"-"})]}),u.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[u.jsx(Xt,{variant:"ghost",size:"sm",onClick:f,title:"Add New Key",className:"p-2 h-[36px] w-[36px] flex-shrink-0 border border-dashed border-neutral-400 dark:border-neutral-500 hover:border-primary",children:u.jsx(Ns,{})}),u.jsx("span",{className:"text-[10px] invisible mb-1 leading-none","aria-hidden":"true",children:"-"})]}),(j==null?void 0:j.visible)&&u.jsx(Br,{x:j.x,y:j.y,items:j.items,onClose:S})]})},g1=({chartState:c,keyPalette:x,viewport:T,onPan:f,isDarkMode:m,maxContainerSize:_})=>{const{rows:M,cols:A,layers:b}=c,r=p.useRef(null),d=p.useRef(null),j=m?Nl:gl,v=m?Fl:Wl,X=x.find(q=>q.id===Ne)||{id:Ne,name:"No Stitch",width:1,height:1,backgroundColor:Al,symbolColor:m?fl:tl},S=X.backgroundColor===Al?v:X.backgroundColor===Pl?j:X.backgroundColor,z=p.useCallback((q,rt)=>{var ot;let K=null;for(let pt=b.length-1;pt>=0;pt--){const It=b[pt];if(It.isVisible&&((ot=It.grid[q])!=null&&ot[rt])){const jt=It.grid[q][rt],xt=x.find(Mt=>Mt.id===jt.keyId);if(jt.keyId!==null&&xt&&(jt.isAnchorCellForMxN||xt.width===1&&xt.height===1)){K=jt.keyId;break}else if(jt.keyId!==null&&xt&&!jt.isAnchorCellForMxN&&(xt.width>1||xt.height>1)){K=jt.keyId;break}}}const lt=K&&x.find(pt=>pt.id===K)||X;let ct;if(lt.backgroundColor===Al?ct=v:lt.backgroundColor===Pl?ct=j:ct=lt.backgroundColor,(lt.cells&&lt.cells.flat().some(pt=>pt!==null)||lt.lines&&lt.lines.length>0)&&ct===S&&lt.id!==Ne){let pt=lt.symbolColor;if(pt===Cn&&(pt=m?fl:tl),pt.startsWith("#")&&(pt.length===7||pt.length===4)){let It,jt,xt;pt.length===4?(It=pt[1]+pt[1],jt=pt[2]+pt[2],xt=pt[3]+pt[3]):(It=pt.substring(1,3),jt=pt.substring(3,5),xt=pt.substring(5,7));const Mt=parseInt(It,16),Kt=parseInt(jt,16),Zt=parseInt(xt,16);return`rgba(${Mt},${Kt},${Zt},0.5)`}return ct}return ct},[b,x,X,m,v,j,S]);p.useEffect(()=>{const q=r.current,rt=d.current;if(!q||!rt||M===0||A===0)return;const K=q.getContext("2d");if(!K)return;const lt=0,ct=2,Ht=_.height-lt*2-ct,ot=_.width-lt*2-ct;if(ot<=0||Ht<=0)return;const pt=ot/A,It=Ht/M,jt=Math.max(.1,Math.min(pt,It)),xt=A*jt,Mt=M*jt;if(rt.style.width=`${xt}px`,rt.style.height=`${Mt}px`,q.width=xt,q.height=Mt,jt<=0)return;K.clearRect(0,0,q.width,q.height);for(let ut=0;ut<M;ut++)for(let ht=0;ht<A;ht++)K.fillStyle=z(ut,ht),K.fillRect(ht*jt,ut*jt,jt,jt);K.strokeStyle=m?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.9)",K.lineWidth=1;const Kt=T.x*jt,Zt=T.y*jt,Yt=T.width*jt,k=T.height*jt,W=Math.max(0,Kt),yt=Math.max(0,Zt),Ot=Math.min(Kt+Yt,q.width),h=Math.min(Zt+k,q.height),Z=Ot-W,st=h-yt;if(Z>0&&st>0){K.beginPath();const ut=Math.round(W)+.5,ht=Math.round(yt)+.5,St=W+Z,Ct=yt+st,xe=St>=q.width-.5?Math.round(q.width)-.5:Math.round(St)+.5,P=Ct>=q.height-.5?Math.round(q.height)-.5:Math.round(Ct)+.5;xe>ut&&P>ht&&(K.moveTo(ut,ht),K.lineTo(xe,ht),K.lineTo(xe,P),K.lineTo(ut,P),K.lineTo(ut,ht),K.stroke())}},[M,A,z,T,m,_.width,_.height,c]);const G=q=>{const rt=r.current;if(!rt||rt.width===0||rt.height===0)return;const K=rt.getBoundingClientRect(),lt=q.clientX-K.left,ct=q.clientY-K.top,Ht=rt.width/A;if(Ht<=0)return;const ot=Math.floor(lt/Ht),pt=Math.floor(ct/Ht);f({x:ot,y:pt})};return u.jsxs("div",{ref:d,className:"w-full h-full border border-neutral-300 dark:border-neutral-600 bg-neutral-200/80 dark:bg-neutral-700/80 relative overflow-hidden cursor-pointer shadow-lg rounded",onClick:G,style:{backdropFilter:"blur(2px)"},children:[u.jsx("h3",{className:"absolute top-1 left-1 text-xs font-semibold text-neutral-700 dark:text-neutral-200 uppercase tracking-wider select-none pointer-events-none px-1 py-0.5 rounded bg-transparent",children:"Mini Map"}),u.jsx("canvas",{ref:r,className:"block"}),u.jsx("p",{className:"absolute bottom-1 left-1 text-xs text-neutral-600 dark:text-neutral-300 italic select-none pointer-events-none px-1 py-0.5 rounded bg-transparent",children:"Click to pan."})]})},b1="/knitlab/assets/areum-knitlab-i-did-that-Dg2o0pEC.png",x1=({isOpen:c,onClose:x,applicationState:T,history:f,processLoadState:m,showKeyUsageTally:_,onToggleShowKeyUsageTally:M})=>{const[A,b]=p.useState("none"),[r,d]=p.useState(""),j=()=>{r.trim()?m(r):alert("Please paste JSON data to load.")},v=S=>{navigator.clipboard.writeText(S).then(()=>alert("Data copied to clipboard!")).catch(z=>console.error("Failed to copy data: ",z))},X=()=>{let S="",z="",G=!1;switch(A){case"history":S=JSON.stringify(f,null,2),z="History data JSON",G=!0;break;case"current":S=JSON.stringify(T,null,2),z="Current application state JSON",G=!0;break;case"load":return u.jsxs("div",{className:"space-y-2 flex flex-col h-full",children:[u.jsx("textarea",{value:r,onChange:q=>d(q.target.value),placeholder:"Paste application state JSON here...",className:"w-full flex-grow resize-none p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-700 font-mono text-xs","aria-label":"Paste application state JSON",rows:24}),u.jsx(Xt,{onClick:j,variant:"primary",className:"self-end",children:"Load Data"})]});case"settings":return u.jsxs("div",{className:"space-y-3 p-2",children:[u.jsx("h4",{className:"text-md font-semibold text-neutral-700 dark:text-neutral-300",children:"Display Settings:"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"showKeyUsageTallyToggle",checked:_,onChange:M,className:"h-4 w-4 text-primary focus:ring-primary border-neutral-300 dark:border-neutral-600 rounded"}),u.jsx("label",{htmlFor:"showKeyUsageTallyToggle",className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Show Key Usage Tally on Buttons"})]})]});default:return u.jsxs("div",{className:"space-y-1 p-2",children:[u.jsx("a",{href:"https://www.linkedin.com/in/areum-jo/",target:"_blank",rel:"noopener noreferrer",className:"block text-center text-primary hover:underline",children:"https://www.linkedin.com/in/areum-jo/"}),u.jsx("img",{src:b1,alt:"Areum Kintlab - I did that",className:"w-full h-auto rounded-md"})]})}return A==="history"||A==="current"?u.jsxs("div",{className:"space-y-2 flex flex-col h-full",children:[u.jsx("textarea",{readOnly:!0,value:S,className:"w-full flex-grow resize-none p-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-neutral-50 dark:bg-neutral-700 font-mono text-xs",rows:24,"aria-label":z}),G&&u.jsx(Xt,{onClick:()=>v(S),variant:"outline",className:"self-end",children:"Copy to Clipboard"})]}):null};return u.jsx(Aa,{isOpen:c,onClose:()=>{b("none"),d(""),x()},title:"Developer Menu",size:"xl",children:u.jsxs("div",{className:"flex flex-col space-y-3",style:{minHeight:"60vh"},children:[u.jsxs("div",{className:"flex space-x-2 border-b p-2 border-neutral-200 dark:border-neutral-700 flex-shrink-0",children:[u.jsx(Xt,{onClick:()=>b("history"),variant:A==="history"?"primary":"outline",size:"sm",children:"View History Data"}),u.jsx(Xt,{onClick:()=>b("current"),variant:A==="current"?"primary":"outline",size:"sm",children:"View Current Data"}),u.jsx(Xt,{onClick:()=>b("load"),variant:A==="load"?"primary":"outline",size:"sm",children:"Load from JSON"}),u.jsx(Xt,{onClick:()=>b("settings"),variant:A==="settings"?"primary":"outline",size:"sm",children:"Settings"})]}),u.jsx("div",{className:"flex-grow overflow-hidden",children:X()})]})})},v1=({isOpen:c,onClose:x,chartState:T,keyPalette:f,allSymbols:m,isDarkMode:_,initialZoom:M,generateChartJpeg:A,effectiveZoomLevels:b})=>{const[r,d]=p.useState(M),[j,v]=p.useState(null),[X,S]=p.useState(!1),[z,G]=p.useState(null);p.useEffect(()=>{c&&(d(M),v(null),G(null))},[c,M]);const q=p.useCallback(async()=>{S(!0),v(null),G(null);try{const K=await A(T,f,m,_,r,!0);K?v(K):G("Failed to generate preview. The image might be too large or an unexpected error occurred.")}catch(K){console.error("Error generating JPG preview:",K),G(`Error: ${K instanceof Error?K.message:"Unknown error during preview generation."}`)}finally{S(!1)}},[T,f,m,_,r,A]);p.useEffect(()=>{c&&q()},[c,r,q]);const rt=()=>{if(!j)return;const K=document.createElement("a");K.href=j;const lt=T.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()||"chart";K.download=`${lt}_export_${Math.round(r*100)}pct.jpg`,document.body.appendChild(K),K.click(),document.body.removeChild(K)};return u.jsxs(Aa,{isOpen:c,onClose:x,title:"Export to JPG Preview",size:"xl",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("label",{htmlFor:"exportZoomLevel",className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Export Zoom:"}),u.jsx("select",{id:"exportZoomLevel",value:r,onChange:K=>d(parseFloat(K.target.value)),className:"block w-auto pl-3 pr-8 py-1.5 text-sm border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-primary focus:border-primary rounded-md bg-white dark:bg-neutral-700",disabled:X,children:b.map(K=>u.jsxs("option",{value:K,children:[Math.round(K*100),"%"]},K))})]}),X&&u.jsxs("div",{className:"flex justify-center items-center h-64 bg-neutral-100 dark:bg-neutral-700 rounded-md",children:[u.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("p",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-300",children:"Generating Preview..."})]}),z&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 rounded-md text-red-700 dark:text-red-300 text-sm",children:z}),!X&&j&&u.jsx("div",{className:"border border-neutral-300 dark:border-neutral-600 rounded-md overflow-auto max-h-[60vh] bg-neutral-200 dark:bg-neutral-800 p-2",children:u.jsx("img",{src:j,alt:"Chart Export Preview",className:"max-w-full max-h-full mx-auto"})}),!X&&!j&&!z&&u.jsx("div",{className:"flex justify-center items-center h-64 bg-neutral-100 dark:bg-neutral-700 rounded-md",children:u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Adjust zoom to generate preview."})})]}),u.jsx("div",{className:"pt-5 mt-auto",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Xt,{variant:"ghost",onClick:x,children:"Cancel"}),u.jsx(Xt,{onClick:q,isLoading:X,disabled:X,children:"Refresh Preview"}),u.jsx(Xt,{onClick:rt,disabled:!j||X,variant:"primary",children:"Download JPG"})]})})]})},p1=c=>{var X;const[x,T]=p.useState([{state:c,timestamp:Date.now()}]),[f,m]=p.useState(0),_=p.useCallback(S=>{const z=f;T(G=>{var Ht;const q=((Ht=G[z])==null?void 0:Ht.state)??c,K={state:typeof S=="function"?S(q):S,timestamp:Date.now()};let ct=[...G.slice(0,z+1),K];return ct.length>M0&&(ct=ct.slice(ct.length-M0)),m(ct.length-1),ct})},[f,c]),M=p.useCallback(()=>{f>0&&m(S=>S-1)},[f]),A=p.useCallback(()=>{T(S=>(f<S.length-1&&m(z=>z+1),S))},[f]),b=(X=x[f])==null?void 0:X.state,r=f>0,d=f<x.length-1,j=p.useCallback(S=>{T([{state:S,timestamp:Date.now()}]),m(0)},[]),v=p.useCallback(S=>{T(z=>{const G=[...z];if(G[f]){const q=S(G[f].state);G[f]={state:q,timestamp:Date.now()}}return G})},[f]);return{currentState:b,recordChange:_,undo:M,redo:A,canUndo:r,canRedo:d,resetHistory:j,updateCurrentState:v,history:x}},S1=(c,x)=>({start:{x:Math.min(c.start.x,x.start.x),y:Math.min(c.start.y,x.start.y)},end:{x:Math.max(c.end.x,x.end.x),y:Math.max(c.end.y,x.end.y)}}),N0=(c,x,T,f,m)=>{if(!c||!x)return c;let M={...{start:{x:Math.min(c.start.x,c.end.x),y:Math.min(c.start.y,c.end.y)},end:{x:Math.max(c.start.x,c.end.x),y:Math.max(c.start.y,c.end.y)}}},A=!0;const b=Math.max(5,x.keyPlacements.length/2);let r=0;for(;A&&r<b;){A=!1,r++;for(const d of x.keyPlacements){const j=T.find(z=>z.id===d.keyId);if(!j||j.width===1&&j.height===1||j.id===Ne)continue;const v={start:d.anchor,end:{x:d.anchor.x+j.width-1,y:d.anchor.y+j.height-1}},X=Dr(d.anchor,j),S={minR:M.start.y,maxR:M.end.y,minC:M.start.x,maxC:M.end.x};if(V0(S,X)){const z=S1(M,v);(z.start.x!==M.start.x||z.start.y!==M.start.y||z.end.x!==M.end.x||z.end.y!==M.end.y)&&(M=z,A=!0)}}}return M.start.x=Math.max(0,M.start.x),M.start.y=Math.max(0,M.start.y),M.end.x=Math.min(m-1,M.end.x),M.end.y=Math.min(f-1,M.end.y),M},C1=" 2025 Areum Knits. All rights reserved.",w1="Crafted with  and code.",M1=10,G0=12,T1=10,E1=G0*2+T1;async function j1(c,x,T,f,m,_,M){const A=`<svg xmlns="http://www.w3.org/2000/svg" width="${_}" height="${M}" viewBox="0 0 24 24" style="color: ${T};">${x}</svg>`;return new Promise((b,r)=>{const d=new Image;d.onload=()=>{c.drawImage(d,f,m,_,M),b()},d.onerror=j=>{console.error("Error loading SVG for canvas drawing:",j,x),c.fillStyle=T,c.font=`${M*.6}px sans-serif`,c.textAlign="center",c.textBaseline="middle",c.fillText("?",f+_/2,m+M/2),b()},d.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(A)}`})}async function N1(c,x,T,f,m,_){var M,A,b;try{const r=Sn*m,{rows:d,cols:j,displaySettings:v,orientation:X}=c,S=v.rowCountVisibility==="left"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-left"?rn:0,z=v.colCountVisibility==="top"||v.colCountVisibility==="both"?rn:0,G=v.rowCountVisibility==="right"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-right"?rn:0,q=v.colCountVisibility==="bottom"||v.colCountVisibility==="both"?rn:0,rt=j*r,K=d*r,lt=S+rt+G;let ct=z+K+q;_&&(ct+=E1);const Ht=document.createElement("canvas");Ht.width=lt,Ht.height=ct;const ot=Ht.getContext("2d");if(!ot)return null;ot.fillStyle=f?"#1F2937":"#FCFCFC",ot.fillRect(0,0,lt,ct),ot.fillStyle=f?Nl:gl,ot.fillRect(S,z,rt,K);const pt=[];for(let xt=0;xt<d;xt++)for(let Mt=0;Mt<j;Mt++){const Kt=S+Mt*r,Zt=z+xt*r,Yt=(A=(M=c.layers.find(W=>W.isVisible))==null?void 0:M.grid[xt])==null?void 0:A[Mt],k=Yt!=null&&Yt.keyId?x.find(W=>W.id===Yt.keyId):x.find(W=>W.id===Ne);if(k){let W=k.backgroundColor;W===Al?W=f?Fl:Wl:W===Pl&&(W=f?Nl:gl),ot.fillStyle=W,ot.fillRect(Kt,Zt,r,r);let yt=k.symbolColor;yt===Cn&&(yt=f?fl:tl);const Ot=(Yt==null?void 0:Yt.keyPartRowOffset)??0,h=(Yt==null?void 0:Yt.keyPartColOffset)??0;if(k.lines&&k.lines.length>0)ot.strokeStyle=yt,ot.lineWidth=Math.max(1,r*.08),ot.lineCap="round",(k.width>1||k.height>1?k.lines.filter(st=>{const ut=h*r,ht=Ot*r;return!0}):k.lines).forEach(st=>{ot.beginPath();let ut=st.start.x*r-h*r,ht=st.start.y*r-Ot*r,St=st.end.x*r-h*r,Ct=st.end.y*r-Ot*r;ot.moveTo(Kt+ut,Zt+ht),ot.lineTo(Kt+St,Zt+Ct),ot.stroke()});else if(k.cells&&((b=k.cells[Ot])!=null&&b[h])){const Z=k.cells[Ot][h];if(Z){const st=r*.85,ut=Kt+(r-st)/2,ht=Zt+(r-st)/2;if(Z.type==="text")ot.fillStyle=yt,ot.font=`${r*.6}px 'Roboto Mono', monospace`,ot.textAlign="center",ot.textBaseline="middle",ot.fillText(Z.value.charAt(0),Kt+r/2,Zt+r/2);else if(Z.type==="svg"){const St=T.find(Ct=>Ct.id===Z.value);St!=null&&St.svgContent&&pt.push(j1(ot,St.svgContent,yt,ut,ht,st,st))}}}}}await Promise.all(pt),ot.strokeStyle=f?Fl:Wl,ot.lineWidth=1;for(let xt=0;xt<=d;xt++)ot.beginPath(),ot.moveTo(S,z+xt*r),ot.lineTo(S+rt,z+xt*r),ot.stroke();for(let xt=0;xt<=j;xt++)ot.beginPath(),ot.moveTo(S+xt*r,z),ot.lineTo(S+xt*r,z+K),ot.stroke();ot.fillStyle=f?fl:tl;const It=Math.max(10,r*.35);ot.font=`${It}px sans-serif`,ot.textAlign="center",ot.textBaseline="middle";const jt=xt=>X==="bottom-up"?d-xt:xt+1;for(let xt=0;xt<d;xt++){const Mt=jt(xt),Kt=z+xt*r+r/2;(v.rowCountVisibility==="left"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-left"&&Mt%2!==0||v.rowCountVisibility==="alternating-right"&&Mt%2===0)&&S>0&&ot.fillText(String(Mt),S/2,Kt),(v.rowCountVisibility==="right"||v.rowCountVisibility==="both"||v.rowCountVisibility==="alternating-right"&&Mt%2!==0||v.rowCountVisibility==="alternating-left"&&Mt%2===0)&&G>0&&ot.fillText(String(Mt),S+rt+G/2,Kt)}for(let xt=0;xt<j;xt++){const Mt=xt+1,Kt=S+xt*r+r/2;(v.colCountVisibility==="top"||v.colCountVisibility==="both")&&z>0&&ot.fillText(String(Mt),Kt,z/2),(v.colCountVisibility==="bottom"||v.colCountVisibility==="both")&&q>0&&ot.fillText(String(Mt),Kt,z+K+q/2)}if(_){ot.fillStyle=f?"rgba(200, 200, 200, 0.8)":"rgba(50, 50, 50, 0.8)",ot.font=`${M1}px 'ui-sans-serif', system-ui, sans-serif`,ot.textAlign="right",ot.textBaseline="bottom";const xt=lt-5;let Mt=ct-5;ot.fillText(w1,xt,Mt),Mt-=G0,ot.fillText(C1,xt,Mt)}return Ht.toDataURL("image/jpeg",.9)}catch(r){return console.error("Error generating chart JPEG:",r),null}}const A0=200,R0=200,_0="8px",O0="8px",A1=768,R1=8,_1=56,O1=()=>{var bu;const{currentState:c,recordChange:x,undo:T,redo:f,canUndo:m,canRedo:_,resetHistory:M,updateCurrentState:A,history:b}=p1(Yy),r=c.sheets.find(w=>w.id===c.activeSheetId)||c.sheets[0]||hi,[d,j]=p.useState(((bu=c.keyPalette[0])==null?void 0:bu.id)||null),[v,X]=p.useState("sheets"),[S,z]=p.useState(!1),G=fu,[q,rt]=p.useState(!1),[K,lt]=p.useState(null),[ct,Ht]=p.useState(!1),[ot,pt]=p.useState(!1),[It,jt]=p.useState(!1),[xt,Mt]=p.useState(!1),[Kt,Zt]=p.useState(!1),[Yt,k]=p.useState(!1),[W,yt]=p.useState(!1),Ot=p.useCallback(()=>r&&(r.rows>=100||r.cols>=100)?[.25,...di]:di,[r]),[h,Z]=p.useState(()=>{const w=Ot(),g=di.indexOf(1)!==-1?di.indexOf(1):Dy,U=Math.min(g,w.length-1);return w[U]}),st=w=>{const g=Ot();if(g.includes(w))Z(w);else{let U=g[0];for(const L of g)Math.abs(L-w)<Math.abs(U-w)&&(U=L);Z(U)}};p.useEffect(()=>{const w=Ot();if(!w.includes(h)){const g=w.indexOf(1)!==-1?w.indexOf(1):Math.floor(w.length/2);Z(w[g>=0?g:0])}},[r==null?void 0:r.rows,r==null?void 0:r.cols,h,Ot]);const[ut,ht]=p.useState({x:0,y:0}),[St,Ct]=p.useState({width:0,height:0}),xe=p.useRef(null),[P,re]=p.useState(null),[$t,kt]=p.useState(null),[il,ve]=p.useState(!1),[el,Ft]=p.useState(!1),[Ce,ze]=p.useState(null),[bl,qe]=p.useState(null),[Qe,Be]=p.useState({x:Math.floor(r.cols/2),y:Math.floor(r.rows/2)}),[xl,vl]=p.useState(null),[Ie,pl]=p.useState(null),le=p.useRef(x);p.useEffect(()=>{le.current=x},[x]);const[Gt,$e]=p.useState(!1),[Y,ft]=p.useState(null),[Q,Et]=p.useState(null),[gt,N]=p.useState(null),[B,nt]=p.useState(Ze.Pen),vt=p.useCallback(w=>{nt(g=>{const U=typeof w=="function"?w(g):w;return U!==Ze.Select&&P&&!el&&!il&&(re(null),ve(!1),kt(null)),U})},[P,el,il]),At=p.useCallback(w=>{j(w),w!==null&&vt(Ze.Pen)},[vt]);p.useEffect(()=>{const w=tl,g=fl,U=gl,L=Nl;A(at=>{const it=at.keyPalette.map($=>{let bt={...$};return $.symbolColor===w&&W?bt.symbolColor=g:$.symbolColor===g&&!W&&(bt.symbolColor=w),$.backgroundColor!==Al&&$.backgroundColor!==Pl&&($.backgroundColor===U&&W?bt.backgroundColor=L:$.backgroundColor===L&&!W&&(bt.backgroundColor=U)),bt});return{...at,keyPalette:it}}),l1(),W?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[W,A]),p.useEffect(()=>{const w=()=>{xe.current&&Ct({width:xe.current.offsetWidth,height:xe.current.offsetHeight})};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),p.useEffect(()=>{var w;(!d||!c.keyPalette.find(g=>g.id===d))&&At(((w=c.keyPalette[0])==null?void 0:w.id)||null)},[d,c.keyPalette,At]);const[Qt,we]=p.useState(!0),Le=()=>we(w=>!w),me=p.useMemo(()=>{var U;if(!r)return[];const w=new Map;for(const L of r.layers)if(L.isVisible)for(let at=0;at<r.rows;at++)for(let it=0;it<r.cols;it++){const $=(U=L.grid[at])==null?void 0:U[it];$!=null&&$.keyId&&w.set($.keyId,(w.get($.keyId)||0)+1)}const g=[];for(const[L,at]of w.entries()){const it=c.keyPalette.find($=>$.id===L);it&&it.id!==Ne&&g.push({keyDef:it,count:at})}return g.sort((L,at)=>at.count-L.count)},[r,c.keyPalette]),Tl=()=>yt(w=>!w),ue=w=>X(w),Ae=()=>z(w=>!w),Ve=w=>{x(g=>{const U=g.keyPalette.findIndex(it=>it.id===w.id);let L;const at=w.id===Ne?{...w,abbreviation:Vl}:w;return U>-1?(L=[...g.keyPalette],L[U]=at):L=[...g.keyPalette,at],L=L.map(it=>({...it,cells:it.lines&&it.lines.length>0?void 0:it.cells||[[null]],lines:it.cells&&it.cells.flat().some($=>$!==null)?void 0:it.lines})),{...g,keyPalette:L}}),At(w.id)},Ye=w=>{lt(w||null),rt(!0)},dl=w=>{var g;if(x(U=>{var it;if(U.keyPalette.length<=1)return alert("Cannot delete the last key."),U;const L=U.keyPalette.filter($=>$.id!==w);d===w&&(it=L[0])!=null&&it.id;const at=U.sheets.map($=>{const bt=$.layers.map(tt=>{const dt=tt.keyPlacements.filter(Xe=>Xe.keyId!==w),Jt=cn(dt,$.rows,$.cols,L);return{...tt,keyPlacements:dt,grid:Jt}});return{...$,layers:bt}});return{...U,keyPalette:L,sheets:at}}),d===w){const L=((g=c.keyPalette.filter(at=>at.id!==w)[0])==null?void 0:g.id)||null;At(L)}},Ll=w=>{const g=c.keyPalette.find(it=>it.id===w);if(!g)return;let U=`${g.name} (Copy)`,L=1;for(;c.keyPalette.some(it=>it.name===U);)L++,U=`${g.name} (Copy ${L})`;const at={...g,id:Ms(),name:U,abbreviation:g.abbreviation,cells:g.cells?g.cells.map(it=>it.map($=>$?{...$}:null)):void 0,lines:g.lines?g.lines.map(it=>({...it,start:{...it.start},end:{...it.end}})):void 0};Ve(at),Ye(at)},Pt=(w,g,U,L,at,it)=>{let $=[...w.keyPlacements];const bt=Dr(U,g),tt=[];for(let Jt=0;Jt<$.length;Jt++){const Xe=$[Jt],Te=it.find(Me=>Me.id===Xe.keyId);if(!Te)continue;const We=Dr(Xe.anchor,Te);V0(bt,We)&&tt.push(Jt)}tt.sort((Jt,Xe)=>Xe-Jt).forEach(Jt=>$.splice(Jt,1)),U.y<L&&U.x<at&&U.y+g.height<=L&&U.x+g.width<=at&&$.push({anchor:U,keyId:g.id});const dt=cn($,L,at,it);return{...w,keyPlacements:$,grid:dt}},fe=p.useCallback(w=>{le.current(g=>{const U=g.sheets.findIndex(dt=>dt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U];if(!L.activeLayerId)return g;const at=L.layers.findIndex(dt=>dt.id===L.activeLayerId);if(at===-1)return g;const it=L.layers[at],$=w(it,L.rows,L.cols,g.keyPalette);if($===null)return g;const bt=[...L.layers];bt[at]=$;const tt=[...g.sheets];return tt[U]={...L,layers:bt},{...g,sheets:tt}})},[]),ye=(w,g)=>{const U=w.sheets.findIndex(dt=>dt.id===w.activeSheetId);if(U===-1)return w;const L=w.sheets[U];if(!L.activeLayerId)return w;const at=L.layers.findIndex(dt=>dt.id===L.activeLayerId);if(at===-1)return w;const it=L.layers[at],$=g(it,L.rows,L.cols,w.keyPalette);if($===null)return w;const bt=[...L.layers];bt[at]=$;const tt=[...w.sheets];return tt[U]={...L,layers:bt},{...w,sheets:tt}},ke=w=>{if(le.current(g=>{const U=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U];let at=g.keyPalette;const it=L.layers.map(tt=>{const dt=Ly(tt.keyPlacements,at,w.rows,w.cols),Jt=cn(dt,w.rows,w.cols,at);return{...tt,keyPlacements:dt,grid:Jt}}),$={...L,rows:w.rows,cols:w.cols,orientation:w.orientation,displaySettings:w.displaySettings,layers:it},bt=[...g.sheets];return bt[U]=$,{...g,keyPalette:at,sheets:bt}}),Be(g=>({x:Math.min(g.x,w.cols-1),y:Math.min(g.y,w.rows-1)})),P){const g={start:{x:Math.min(P.start.x,P.end.x),y:Math.min(P.start.y,P.end.y)},end:{x:Math.max(P.start.x,P.end.x),y:Math.max(P.start.y,P.end.y)}};(g.end.x>=w.cols||g.end.y>=w.rows)&&(re(null),kt(null),ve(!1))}Mt(!1)},cl=()=>{var w;le.current(g=>{const U=g.sheets.map(it=>it.name),L=Gy(U,g.keyPalette),at=[...g.sheets,L];return{...g,sheets:at,activeSheetId:L.id}}),At(((w=c.keyPalette[0])==null?void 0:w.id)||null),re(null),kt(null),ve(!1),ht({x:0,y:0})},Rl=w=>{if(c.sheets.length<=1){alert("Cannot delete the last sheet.");return}le.current(g=>{var at;const U=g.sheets.filter(it=>it.id!==w);let L=g.activeSheetId;return g.activeSheetId===w&&(L=((at=U[0])==null?void 0:at.id)||null),{...g,sheets:U,activeSheetId:L}}),c.activeSheetId===w&&(re(null),kt(null),ve(!1),ht({x:0,y:0}))},et=w=>{var g;le.current(U=>({...U,activeSheetId:w})),At(((g=c.keyPalette[0])==null?void 0:g.id)||null),re(null),kt(null),ve(!1),ht({x:0,y:0})},H=(w,g)=>{le.current(U=>{const L=U.sheets.map(at=>at.id===w?{...at,name:g}:at);return{...U,sheets:L}})},_t=()=>{fe((w,g,U,L)=>{const at=`Layer ${r.layers.length+1}`,it={id:`layer_${Date.now()}`,name:at,isVisible:!0,grid:H0(g,U),keyPlacements:[]};return le.current($=>{const bt=$.sheets.map(tt=>tt.id===$.activeSheetId?{...tt,layers:[...tt.layers,it],activeLayerId:it.id}:tt);return{...$,sheets:bt}}),null})},Tt=w=>{if(r.layers.length<=1){alert("Cannot delete the last layer.");return}le.current(g=>{const U=g.sheets.map(L=>{var at;if(L.id===g.activeSheetId){const it=L.layers.filter(dt=>dt.id!==w);let $=L.activeLayerId;L.activeLayerId===w&&($=((at=it[0])==null?void 0:at.id)||null);const bt=g.keyPalette,tt=it.map(dt=>({...dt,grid:cn(dt.keyPlacements,L.rows,L.cols,bt)}));return{...L,layers:tt,activeLayerId:$}}return L});return{...g,sheets:U}})},Nt=w=>{le.current(g=>{const U=g.sheets.map(L=>{if(L.id===g.activeSheetId){const at=L.layers.map(it=>it.id===w?{...it,isVisible:!it.isVisible}:it);return{...L,layers:at}}return L});return{...g,sheets:U}})},mt=w=>{le.current(g=>{const U=g.sheets.map(L=>L.id===g.activeSheetId?{...L,activeLayerId:w}:L);return{...g,sheets:U}})},zt=p.useRef(!1),ne=p.useCallback(()=>{zt.current=!1},[]),Bt=p.useCallback(()=>{zt.current=!0},[]),ll=p.useCallback(()=>{zt.current=!1},[]),qt=(w,g)=>{if(Be(w),!g)return;const U=(L,at,it,$)=>Pt(L,g,w,at,it,$);zt.current?A(L=>ye(L,U)):le.current(L=>ye(L,U))},Vt=p.useCallback(w=>{if(!P||!r)return;const g=w?d:Ne;if(!g&&w)return;const U=c.keyPalette.find(L=>L.id===g);U&&fe((L,at,it,$)=>{let bt={...L,keyPlacements:[...L.keyPlacements]};const tt={start:{x:Math.min(P.start.x,P.end.x),y:Math.min(P.start.y,P.end.y)},end:{x:Math.max(P.start.x,P.end.x),y:Math.max(P.start.y,P.end.y)}};for(let dt=tt.start.y;dt<=tt.end.y;){for(let Jt=tt.start.x;Jt<=tt.end.x;)bt=Pt(bt,U,{y:dt,x:Jt},at,it,$),Jt+=U.id!==Ne||w?U.width:1;dt+=U.id!==Ne||w?U.height:1}return bt})},[P,r,d,c.keyPalette,fe]),de=p.useCallback(()=>Vt(!0),[Vt]),Je=p.useCallback(()=>Vt(!1),[Vt]),oe=(w,g,U)=>{Ft(!0),ve(!1),kt(null),ze(w),qe(g)},Yl=(w,g)=>{if(!el||!Ce||!r)return;const U=Math.max(0,Math.min(r.cols-Ce.width,w.x)),L=Math.max(0,Math.min(r.rows-Ce.height,w.y));qe({x:U,y:L})},_l=(w,g)=>{if(!el||!Ce||!w||!r.activeLayerId){Ft(!1),ze(null),qe(null);return}const{relativeKeyInstances:U,originalStartCoords:L}=Ce,at=r.activeLayerId,it=r.id;le.current($=>{const bt=$.keyPalette,tt=$.sheets.map(dt=>{if(dt.id===it){const Jt=dt.layers.map(Xe=>{if(Xe.id===at){let Te={...Xe,keyPlacements:[...Xe.keyPlacements]};const We=bt.find(Me=>Me.id===Vn);if(We)for(const Me of U){const Wt=bt.find(ee=>ee.id===Me.keyId);if(!Wt)continue;const ge={x:L.x+Me.anchor.x,y:L.y+Me.anchor.y};for(let ee=0;ee<Wt.height;ee++)for(let Sl=0;Sl<Wt.width;Sl++)Te=Pt(Te,We,{x:ge.x+Sl,y:ge.y+ee},dt.rows,dt.cols,bt)}for(const Me of U){const Wt=bt.find(ee=>ee.id===Me.keyId);if(!Wt)continue;const ge={x:w.x+Me.anchor.x,y:w.y+Me.anchor.y};ge.x<dt.cols&&ge.y<dt.rows&&(Te=Pt(Te,Wt,ge,dt.rows,dt.cols,bt))}return Te}return Xe});return{...dt,layers:Jt}}return dt});return{...$,sheets:tt}}),re(null),kt(null),ve(!1),Ft(!1),ze(null),qe(null)},Gl=p.useCallback(()=>{var bt;if(!P||!r||!r.activeLayerId||Gt)return;const w=r.layers.find(tt=>tt.id===r.activeLayerId);if(!w)return;const g={start:{x:Math.min(P.start.x,P.end.x),y:Math.min(P.start.y,P.end.y)},end:{x:Math.max(P.start.x,P.end.x),y:Math.max(P.start.y,P.end.y)}},U=g.end.x-g.start.x+1,L=g.end.y-g.start.y+1,at=[],it=new Set;for(let tt=0;tt<L;tt++)for(let dt=0;dt<U;dt++){const Jt=g.start.y+tt,Xe=g.start.x+dt,Te=(bt=w.grid[Jt])==null?void 0:bt[Xe];if(Te!=null&&Te.keyId){const We=c.keyPalette.find(Me=>Me.id===Te.keyId);We&&(Te!=null&&Te.isAnchorCellForMxN||We.width===1&&We.height===1)&&(at.find(Wt=>Wt.anchor.x===dt&&Wt.anchor.y===tt)||(at.push({anchor:{y:tt,x:dt},keyId:Te.keyId}),it.add(Te.keyId)))}}const $=Array.from(it).map(tt=>c.keyPalette.find(dt=>dt.id===tt)).filter(Boolean);pl({relativeKeyInstances:at,width:U,height:L,sourceKeyDefinitions:$})},[P,r,c.keyPalette,Gt]),wn=p.useCallback(()=>{if(!P||!r||!r.activeLayerId||Gt)return;Gl();const w=c.keyPalette.find(g=>g.id===Vn);w&&fe((g,U,L,at)=>{let it={...g,keyPlacements:[...g.keyPlacements]};const $={start:{x:Math.min(P.start.x,P.end.x),y:Math.min(P.start.y,P.end.y)},end:{x:Math.max(P.start.x,P.end.x),y:Math.max(P.start.y,P.end.y)}};for(let bt=$.start.y;bt<=$.end.y;bt++)for(let tt=$.start.x;tt<=$.end.x;tt++)it=Pt(it,w,{y:bt,x:tt},U,L,at);return it})},[Gl,P,r,Gt,c.keyPalette,fe]),ql=(w,g,U)=>{if(!r||!r.activeLayerId)return;const L=r.activeLayerId,at=r.id;le.current(it=>{let $=[...it.keyPalette];const bt=[];for(const dt of g.sourceKeyDefinitions)if(!$.some(Jt=>Jt.id===dt.id)){const Jt={...dt,cells:dt.lines&&dt.lines.length>0?void 0:dt.cells||[[null]],lines:dt.cells&&dt.cells.flat().some(Xe=>Xe!==null)?void 0:dt.lines};bt.push(Jt)}bt.length>0&&($=[...$,...bt]);const tt=it.sheets.map(dt=>{if(dt.id===at){let Jt=!1;const Xe=dt.layers.map(Te=>{if(Te.id===L){Jt=!0;let We={...Te,keyPlacements:[...Te.keyPlacements]};const Me=$.find(ge=>ge.id===Vn),Wt=U&&(U.end.x-U.start.x>0||U.end.y-U.start.y>0);if(Wt&&U&&Me)for(let ge=U.start.y;ge<=U.end.y;ge++)for(let ee=U.start.x;ee<=U.end.x;ee++)We=Pt(We,Me,{y:ge,x:ee},dt.rows,dt.cols,$);for(const ge of g.relativeKeyInstances){const ee=$.find(En=>En.id===ge.keyId);if(!ee)continue;const Sl={x:w.x+ge.anchor.x,y:w.y+ge.anchor.y};if(!(Sl.x+ee.width<=dt.cols&&Sl.y+ee.height<=dt.rows))continue;let gi=!0;if(Wt&&U){const En={x:Sl.x+ee.width-1,y:Sl.y+ee.height-1};(En.x>U.end.x||En.y>U.end.y)&&(gi=!1)}gi&&(We=Pt(We,ee,Sl,dt.rows,dt.cols,$))}return We}return Te});if(Jt)return{...dt,layers:Xe}}return dt});return{...it,keyPalette:$,sheets:tt}})},on=p.useCallback(()=>{$e(!1),ft(null),Et(null)},[]),Mn=p.useCallback(()=>{if(!(!Ie||!r)){if(Gt){Q&&Ie&&(ql(Q,Ie,null),on());return}if(P){const w={start:{x:Math.min(P.start.x,P.end.x),y:Math.min(P.start.y,P.end.y)},end:{x:Math.max(P.start.x,P.end.x),y:Math.max(P.start.y,P.end.y)}};ql(w.start,Ie,w)}else{let w=gt||Qe||{x:0,y:0};$e(!0),ft(Ie);const g={x:Math.max(0,Math.min(r.cols-Ie.width,w.x)),y:Math.max(0,Math.min(r.rows-Ie.height,w.y))};Et(g)}}},[Ie,P,gt,Qe,r,ql,Gt,Q,on]),Yn=p.useCallback(()=>{Gt&&Q&&Y?Mn():on()},[Gt,Q,Y,Mn,on]),mi=p.useCallback(w=>{if(!Gt||!Y||!r)return;const g={x:Math.max(0,Math.min(r.cols-Y.width,w.x)),y:Math.max(0,Math.min(r.rows-Y.height,w.y))};Et(g)},[Gt,Y,r]),yi=p.useCallback(w=>{le.current(g=>{const U=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U],at=L.rows+1,it=L.layers.map(tt=>{const dt=Hy(tt.keyPlacements,w,tt.grid,g.keyPalette,L.cols),Jt=cn(dt,at,L.cols,g.keyPalette);return{...tt,keyPlacements:dt,grid:Jt}}),$={...L,rows:at,layers:it},bt=[...g.sheets];return bt[U]=$,{...g,sheets:bt}})},[]),As=p.useCallback(w=>{le.current(g=>{const U=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U];if(L.rows<=1)return g;const at=L.rows-1,it=L.layers.map(tt=>{const dt=Uy(tt.keyPlacements,w,g.keyPalette),Jt=cn(dt,at,L.cols,g.keyPalette);return{...tt,keyPlacements:dt,grid:Jt}}),$={...L,rows:at,layers:it},bt=[...g.sheets];if(bt[U]=$,P){let tt={...P};tt.start.y>=w&&(tt.start.y=Math.max(0,tt.start.y-1)),tt.end.y>=w&&(tt.end.y=Math.max(0,tt.end.y-1)),tt.start.y>tt.end.y||tt.start.y>=at?(re(null),kt(null),ve(!1)):re(tt)}return Qe.y>=w&&Be(tt=>({...tt,y:Math.max(0,tt.y-1)})),{...g,sheets:bt}})},[P,Qe]),du=p.useCallback(w=>{le.current(g=>{const U=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U],at=L.cols+1,it=L.layers.map(tt=>{const dt=By(tt.keyPlacements,w,tt.grid,g.keyPalette,L.rows),Jt=cn(dt,L.rows,at,g.keyPalette);return{...tt,keyPlacements:dt,grid:Jt}}),$={...L,cols:at,layers:it},bt=[...g.sheets];return bt[U]=$,{...g,sheets:bt}})},[]),kl=p.useCallback(w=>{le.current(g=>{const U=g.sheets.findIndex(tt=>tt.id===g.activeSheetId);if(U===-1)return g;const L=g.sheets[U];if(L.cols<=1)return g;const at=L.cols-1,it=L.layers.map(tt=>{const dt=Vy(tt.keyPlacements,w,g.keyPalette),Jt=cn(dt,L.rows,at,g.keyPalette);return{...tt,keyPlacements:dt,grid:Jt}}),$={...L,cols:at,layers:it},bt=[...g.sheets];if(bt[U]=$,P){let tt={...P};tt.start.x>=w&&(tt.start.x=Math.max(0,tt.start.x-1)),tt.end.x>=w&&(tt.end.x=Math.max(0,tt.end.x-1)),tt.start.x>tt.end.x||tt.start.x>=at?(re(null),kt(null),ve(!1)):re(tt)}return Qe.x>=w&&Be(tt=>({...tt,x:Math.max(0,tt.x-1)})),{...g,sheets:bt}})},[P,Qe]),hu=p.useCallback((w,g,U)=>{if(g&&w){$t||kt(w.start);const L={start:$t||w.start,end:w.end},at=r==null?void 0:r.layers.find($=>$.id===r.activeLayerId),it=N0(L,at,c.keyPalette,(r==null?void 0:r.rows)||0,(r==null?void 0:r.cols)||0);re(it),ve(!0)}else if(ve(!1),kt(null),w){const L=r==null?void 0:r.layers.find(it=>it.id===r.activeLayerId),at=N0(w,L,c.keyPalette,(r==null?void 0:r.rows)||0,(r==null?void 0:r.cols)||0);re(at)}else re(null);U&&Be(U)},[r,c.keyPalette,$t]),Rs=()=>{vl(`${Date.now()}`)},Ra=w=>{if(!r||!xe.current)return;const g=St.width/(Sn*h),U=St.height/(Sn*h),L=(w.x-g/2)*Sn*h,at=(w.y-U/2)*Sn*h,it=r.displaySettings.rowCountVisibility==="left"||r.displaySettings.rowCountVisibility==="both"||r.displaySettings.rowCountVisibility==="alternating-left"?rn:0,$=r.displaySettings.colCountVisibility==="top"||r.displaySettings.colCountVisibility==="both"?rn:0;ht({x:-L-it,y:-at-$})},mu=w=>{console.log("Chart data from image importer (raw):",w)},_a=w=>{var g;try{const U=JSON.parse(w);if(U.sheets&&U.activeSheetId&&U.keyPalette){const L=U.keyPalette.map($=>({id:$.id||Ms(),name:$.name||"Untitled Key",abbreviation:$.abbreviation===void 0?null:$.abbreviation,width:typeof $.width=="number"&&$.width>0?$.width:1,height:typeof $.height=="number"&&$.height>0?$.height:1,backgroundColor:$.backgroundColor||(W?Nl:gl),symbolColor:$.symbolColor||(W?fl:tl),cells:$.cells&&Array.isArray($.cells)?$.cells.map(bt=>Array.isArray(bt)?bt.map(tt=>tt):[null]):[[null]],lines:$.lines&&Array.isArray($.lines)?$.lines:void 0})),at={...U,keyPalette:L,sheets:U.sheets.map($=>({...$,id:$.id||js(),layers:$.layers.map(bt=>({...bt,id:bt.id||`layer_${Date.now()}`,keyPlacements:bt.keyPlacements||[],grid:cn(bt.keyPlacements||[],$.rows,$.cols,L)}))}))};M(at),k(!1),re(null),ve(!1),Ft(!1),ze(null),ht({x:0,y:0});const it=(g=at.keyPalette[0])==null?void 0:g.id;At(it||null)}else alert("Invalid application state JSON format.")}catch(U){console.error("Failed to load application state:",U),alert(`Error loading state: ${U instanceof Error?U.message:"Unknown error"}`)}},_s=w=>{let g=null;x(U=>{var Me;let L=[...U.keyPalette];const at=[];w.palette.forEach(Wt=>{if(!L.find(ee=>ee.backgroundColor===Wt&&ee.width===1&&ee.height===1&&(!ee.cells||!ee.cells[0][0])&&(!ee.lines||ee.lines.length===0))){const Sl={id:Ms(),name:`Color ${Wt}`,width:1,height:1,abbreviation:null,backgroundColor:Wt,symbolColor:W?fl:tl,cells:[[null]]};at.push(Sl)}}),at.length>0&&(L=[...L,...at]);const it=new Map;L.forEach(Wt=>{w.palette.includes(Wt.backgroundColor)&&Wt.width===1&&Wt.height===1&&(!Wt.cells||!Wt.cells[0][0])&&(!Wt.lines||Wt.lines.length===0)&&(it.has(Wt.backgroundColor)||it.set(Wt.backgroundColor,Wt.id))}),w.palette.forEach(Wt=>{if(!it.has(Wt)){const ge=at.find(ee=>ee.backgroundColor===Wt);ge&&it.set(Wt,ge.id)}});const $=U.sheets.map(Wt=>Wt.name);let bt="Image Chart 1",tt=1;for(;$.includes(bt);)tt++,bt=`Image Chart ${tt}`;const dt=js(),Jt=[];for(let Wt=0;Wt<w.gridData.rows;Wt++)for(let ge=0;ge<w.gridData.cols;ge++){const ee=Wt*w.gridData.cols+ge,Sl=w.gridData.colors[ee],qn=it.get(Sl);qn?Jt.push({anchor:{y:Wt,x:ge},keyId:qn}):Jt.push({anchor:{y:Wt,x:ge},keyId:Vn})}const Te={id:"base_image_layer",name:"Image Layer 1",isVisible:!0,grid:cn(Jt,w.gridData.rows,w.gridData.cols,L),keyPlacements:Jt},We={id:dt,name:bt,rows:w.gridData.rows,cols:w.gridData.cols,orientation:"bottom-up",displaySettings:{...hi.displaySettings},layers:[Te],activeLayerId:Te.id};return g=((Me=L[0])==null?void 0:Me.id)||null,{...U,keyPalette:L,sheets:[...U.sheets,We],activeSheetId:dt}}),At(g),re(null),kt(null),ve(!1),ht({x:0,y:0}),X("sheets"),z(!0),pt(!1)},[Ol,Oa]=p.useState({miniMap:O0,footer:_0}),za=p.useRef(null),[mn,Tn]=p.useState(null),[yu,gu]=p.useState(_1);p.useEffect(()=>{const w=()=>{var $;const L=(($=za.current)==null?void 0:$.offsetHeight)||0,at=8;if(window.innerWidth<A1&&L>0){const bt=`${L+at+4}px`;Oa({miniMap:bt,footer:bt})}else Oa({miniMap:O0,footer:_0})};w(),window.addEventListener("resize",w);const g=za.current;let U;return g&&(U=new ResizeObserver(w),U.observe(g)),()=>{window.removeEventListener("resize",w),U&&g&&U.unobserve(g)}},[]);const Gn=w=>{w.preventDefault(),Tn({visible:!0,x:w.clientX,y:w.clientY,items:[{label:"Developer Menu",action:()=>k(!0)}]})};return p.useEffect(()=>{const w=g=>{if((g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement||g.target instanceof HTMLSelectElement)&&!(g.key==="Escape"&&(q||ct||ot||It||xt||Kt||Yt)))return;g.key.toLowerCase()==="a"&&!g.ctrlKey&&!g.metaKey?(g.preventDefault(),vt(Ze.Pen)):g.key.toLowerCase()==="s"&&!g.ctrlKey&&!g.metaKey?(g.preventDefault(),vt(Ze.Select)):g.key==="Escape"&&(g.preventDefault(),Gt?on():il?(ve(!1),kt(null),P&&P.start.x===P.end.x&&P.start.y===P.end.y&&re(null)):el?(Ft(!1),ze(null),qe(null),re(null)):P?re(null):vt(Ze.Move));const U=parseInt(g.key);if(!g.ctrlKey&&!g.metaKey&&U>=1&&U<=5){g.preventDefault();const at=U-1;c.keyPalette[at]&&At(c.keyPalette[at].id)}(g.key==="Delete"||g.key==="Backspace")&&P&&!g.ctrlKey&&!g.metaKey&&(g.preventDefault(),Je());const L=g.ctrlKey||g.metaKey;L&&g.key.toLowerCase()==="z"?(g.preventDefault(),T()):L&&g.key.toLowerCase()==="y"?(g.preventDefault(),f()):L&&g.key.toLowerCase()==="c"?(g.preventDefault(),P&&Gl()):L&&g.key.toLowerCase()==="x"?(g.preventDefault(),P&&wn()):L&&g.key.toLowerCase()==="v"&&(g.preventDefault(),Ie&&Mn())};return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[Gt,il,el,P,B,Ie,c.keyPalette,T,f,Gl,wn,Mn,Je,vt,At,on,q,ct,ot,It,xt,Kt,Yt]),u.jsxs("div",{className:"flex flex-col h-screen bg-neutral-100 dark:bg-neutral-800 transition-colors duration-300",children:[u.jsx(qy,{onUndo:T,canUndo:m,onRedo:f,canRedo:_,isDarkMode:W,toggleDarkMode:Tl,onOpenSettings:()=>Mt(!0),onOpenExportModal:()=>Zt(!0),onImport:()=>Ht(!0),onGenerateInstructions:()=>jt(!0),currentZoom:h,onZoomChange:st,chartRows:r.rows,chartCols:r.cols}),u.jsx(y1,{keyPalette:c.keyPalette,activeKeyId:d,onKeySelect:At,onAddKey:()=>Ye(),onEditKey:Ye,onDeleteKey:dl,onDuplicateKey:Ll,allStitchSymbols:G,isDarkMode:W,showKeyUsageTally:Qt,onToggleShowKeyTally:Le,keyUsageData:me}),u.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[u.jsx(Wy,{layers:r.layers,activeLayerId:r.activeLayerId,onLayerSelect:mt,onAddLayer:_t,onRemoveLayer:Tt,onToggleLayerVisibility:Nt,onSelectAllActiveLayer:Rs,allSheets:c.sheets,activeSheetId:c.activeSheetId,onSheetSelect:et,onAddSheet:cl,onRemoveSheet:Rl,onRenameSheet:H,activeTab:v,onTabSelect:ue,isSidebarContentVisible:S,onToggleSidebarContentVisibility:Ae,onOpenImageProcessor:()=>pt(!0),onActualWidthChange:gu}),u.jsxs("main",{ref:xe,className:"flex-grow flex items-center justify-center relative overflow-hidden",children:[St.width>0&&St.height>0&&r&&u.jsx(n1,{chartState:r,keyPalette:c.keyPalette,activeTool:B,allSymbols:G,isDarkMode:W,zoomLevel:h,setZoomLevel:st,effectiveZoomLevels:Ot(),viewOffset:ut,onViewOffsetChange:ht,canvasSize:St,selection:P,isActuallyDrawingSel:il,selectionDragAnchorForCanvas:$t,isActuallyDraggingSel:el,draggedCellsPreviewInfo:Ce,dragPreviewSnappedGridPosition:bl,onSelectionChange:hu,onCellAction:qt,onSelectionDragStart:oe,onSelectionDragMove:Yl,onSelectionDragEnd:_l,onRequestApplyActiveKeyToSelection:de,onRequestClearAllInSelection:Je,onInsertRow:yi,onDeleteRow:As,onInsertColumn:du,onDeleteColumn:kl,selectAllActiveLayerFlag:xl,onSelectAllProcessed:()=>vl(null),onCopySelection:Gl,onCutSelection:wn,onPasteFromClipboard:Mn,canPaste:!!Ie,isPreviewingPaste:Gt,pastePreviewInfo:Y,pastePreviewAnchor:Q,hoveredCanvasCell:gt,onHoveredCellChange:N,onPastePreviewMove:mi,onPastePreviewFinalize:Yn,onPastePreviewCancel:on,activeKeyId:d,onPenDragSessionStart:ne,onPenDragSessionContinue:Bt,onPenDragSessionEnd:ll}),u.jsx("div",{className:"fixed z-10 opacity-80 hover:opacity-100 transition-opacity",style:{bottom:Ol.miniMap,left:`${yu+R1}px`,width:`${A0}px`,height:`${R0}px`},children:r&&St.width>0&&St.height>0&&u.jsx(g1,{chartState:r,keyPalette:c.keyPalette,viewport:{x:(-ut.x-(r.displaySettings.rowCountVisibility==="left"||r.displaySettings.rowCountVisibility==="both"||r.displaySettings.rowCountVisibility==="alternating-left"||r.displaySettings.rowCountVisibility==="alternating-right"?rn:0))/(Sn*h),y:(-ut.y-(r.displaySettings.colCountVisibility==="top"||r.displaySettings.colCountVisibility==="both"?rn:0))/(Sn*h),width:St.width/(Sn*h),height:St.height/(Sn*h)},canvasZoom:h,onPan:Ra,canvasSize:St,isDarkMode:W,maxContainerSize:{width:A0,height:R0}})})]})]}),u.jsx(Y0,{ref:za,activeTool:B,onToolSelect:vt,isSelectionActive:!!P,onRequestApplyActiveKeyToSelection:de,onRequestClearSelectionArea:Je,onRequestClearAllInSelection:Je,onCopySelection:Gl,onCutSelection:wn,onPasteFromClipboard:Mn,canCopy:!!P,canCut:!!P,canPaste:!!Ie}),u.jsxs("footer",{onContextMenu:Gn,className:"fixed right-2 p-2 text-xs text-neutral-500 dark:text-neutral-400 font-areumFooter z-10 transition-all duration-150 ease-in-out text-right",style:{bottom:Ol.footer},"aria-label":"Application Footer",children:[" 2025 Areum Knits. All rights reserved.",u.jsx("br",{}),"Crafted with  and code."]}),(mn==null?void 0:mn.visible)&&u.jsx(Br,{x:mn.x,y:mn.y,items:mn.items,onClose:()=>Tn(null)}),q&&u.jsx(c1,{isOpen:q,onClose:()=>rt(!1),onSave:Ve,existingKey:K,allStitchSymbols:G,isDarkMode:W,keyPalette:c.keyPalette}),ct&&u.jsx(r1,{isOpen:ct,onClose:()=>Ht(!1),onChartGenerated:mu}),ot&&u.jsx(o1,{isOpen:ot,onClose:()=>pt(!1),onCreateChart:_s,isDarkMode:W}),It&&r&&u.jsx(d1,{isOpen:It,onClose:()=>jt(!1),chartState:r,stitchSymbols:G,keyPalette:c.keyPalette}),xt&&r&&u.jsx(h1,{isOpen:xt,onClose:()=>Mt(!1),currentSettings:r,onSave:ke}),Kt&&r&&u.jsx(v1,{isOpen:Kt,onClose:()=>Zt(!1),chartState:r,keyPalette:c.keyPalette,allSymbols:G,isDarkMode:W,initialZoom:h,generateChartJpeg:N1,effectiveZoomLevels:Ot()}),Yt&&u.jsx(x1,{isOpen:Yt,onClose:()=>k(!1),applicationState:c,history:b,processLoadState:_a,showKeyUsageTally:Qt,onToggleShowKeyUsageTally:Le})]})},q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const z1=ty.createRoot(q0);z1.render(u.jsx(Na.StrictMode,{children:u.jsx(O1,{})}));
